"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[179],{2011:(ct,we,N)=>{N.d(we,{Dh:()=>fe,GT:()=>he,cc:()=>Ie,hO:()=>Ue,on:()=>j,pX:()=>le,xv:()=>me});var c=N(4650),ee=N(127),k=N(5813);ct=N.hmd(ct);const ae=["ngOnDestroy"],le=(xe,Ce,Le,Te={})=>new Proxy(xe,{get:(be,Me)=>Le.runOutsideAngular(()=>{var He;if(xe[Me])return!(null===(He=Te?.spy)||void 0===He)&&He.get&&Te.spy.get(Me,xe[Me]),xe[Me];if(ae.indexOf(Me)>-1)return()=>{};const ke=Ce.toPromise().then(H=>{const ve=H&&H[Me];return"function"==typeof ve?ve.bind(H):ve&&ve.then?ve.then(W=>Le.run(()=>W)):Le.run(()=>ve)});return new Proxy(()=>{},{get:(H,ve)=>ke[ve],apply:(H,ve,W)=>ke.then(X=>{var se;const ie=X&&X(...W);return!(null===(se=Te?.spy)||void 0===se)&&se.apply&&Te.spy.apply(Me,W,ie),ie})})})}),he=(xe,Ce)=>{Ce.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Te=>{Object.defineProperty(xe.prototype,Te,Object.getOwnPropertyDescriptor(Le.prototype||Le,Te))})})};class te{constructor(Ce){return Ce}}const fe=new c.OlP("angularfire2.app.options"),me=new c.OlP("angularfire2.app.name");function j(xe,Ce,Le){const be="object"==typeof Le&&Le||{};be.name=be.name||"string"==typeof Le&&Le||"[DEFAULT]";const He=ee.Z.apps.filter(ke=>ke&&ke.name===be.name)[0]||Ce.runOutsideAngular(()=>ee.Z.initializeApp(xe,be));try{JSON.stringify(xe)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te(He)}const $=(xe,...Ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...Ce)},K={provide:te,useFactory:j,deps:[fe,c.R0b,[new c.FiY,me]]};let Ue=(()=>{class xe{constructor(Le){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",c.q4F.full,Le.toString())}static initializeApp(Le,Te){return{ngModule:xe,providers:[{provide:fe,useValue:Le},{provide:me,useValue:Te}]}}}return xe.\u0275fac=function(Le){return new(Le||xe)(c.LFG(c.Lbi))},xe.\u0275mod=c.oAB({type:xe}),xe.\u0275inj=c.cJS({providers:[K]}),xe})();function Ie(xe,Ce,Le,Te,be){const[,Me,He]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===xe)||[];if(Me)return function Ke(xe,Ce){try{return xe.toString()===Ce.toString()}catch{return xe===Ce}}(be,He)||(pe("error",`${Ce} was already initialized on the ${Le} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:be,was:He})),Me;{const ke=Te();return globalThis.\u0275AngularfireInstanceCache.push([xe,ke,be]),ke}}const tt=!!ct.hot,pe=(xe,...Ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,we,N)=>{N.d(we,{q4:()=>by,iC:()=>Ri,HU:()=>_i,vb:()=>_t,JM:()=>qe});var c=N(4650),ee=N(5867),k=N(5861),ae=N(9681),le=N(2090),he=N(4859),te=N(1877),fe=N(8766);const me="@firebase/installations",j="0.5.16",K=`w:${j}`,Ue="FIS_v2",Ce=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof le.ZR&&D.code.includes("request-failed")}function Te({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function be(D){return{token:D.token,requestStatus:2,expiresIn:X(D.expiresIn),creationTime:Date.now()}}function Me(D,T){return He.apply(this,arguments)}function He(){return(He=(0,k.Z)(function*(D,T){const L=(yield T.json()).error;return Ce.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ke({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function H(D,{refreshToken:T}){const M=ke(D);return M.append("Authorization",function se(D){return`${Ue} ${D}`}(T)),M}function ve(D){return W.apply(this,arguments)}function W(){return(W=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function X(D){return Number(D.replace("s","000"))}function ie(D,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:M}){const L=Te(D),Y=ke(D),re=T.getImmediate({optional:!0});if(re){const xt=yield re.getHeartbeatsHeader();xt&&Y.append("x-firebase-client",xt)}const $e={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:Ue,appId:D.appId,sdkVersion:K})},st=yield ve(()=>fetch(L,$e));if(st.ok){const xt=yield st.json();return{fid:xt.fid||M,registrationStatus:2,refreshToken:xt.refreshToken,authToken:be(xt.authToken)}}throw yield Me("Create Installation",st)})).apply(this,arguments)}function Ne(D){return new Promise(T=>{setTimeout(T,D)})}const nn=/^[cdef][\w-]{21}$/;function Bt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function Ht(D){return function ht(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return nn.test(M)?M:""}catch{return""}}function mt(D){return`${D.appName}!${D.appId}`}const en=new Map;function Di(D,T){const M=mt(D);En(M,T),function gr(D,T){const M=function Bi(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=D=>{En(D.data.key,D.data.fid)}),ar}();M&&M.postMessage({key:D,fid:T}),function Ui(){0===en.size&&ar&&(ar.close(),ar=null)}()}(M,T)}function En(D,T){const M=en.get(D);if(M)for(const L of M)L(T)}let ar=null;const Or="firebase-installations-store";let Hi=null;function mo(){return Hi||(Hi=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Or)}})),Hi}function _n(D,T){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*(D,T){const M=mt(D),Y=(yield mo()).transaction(Or,"readwrite"),re=Y.objectStore(Or),Se=yield re.get(M);return yield re.put(T,M),yield Y.done,(!Se||Se.fid!==T.fid)&&Di(D,T.fid),T})).apply(this,arguments)}function gt(D){return ss.apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(D){const T=mt(D),L=(yield mo()).transaction(Or,"readwrite");yield L.objectStore(Or).delete(T),yield L.done})).apply(this,arguments)}function Rr(D,T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,k.Z)(function*(D,T){const M=mt(D),Y=(yield mo()).transaction(Or,"readwrite"),re=Y.objectStore(Or),Se=yield re.get(M),$e=T(Se);return void 0===$e?yield re.delete(M):yield re.put($e,M),yield Y.done,$e&&(!Se||Se.fid!==$e.fid)&&Di(D,$e.fid),$e})).apply(this,arguments)}function ji(D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,k.Z)(function*(D){let T;const M=yield Rr(D.appConfig,L=>{const Y=kt(L),re=bt(D,Y);return T=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function kt(D){return Ii(D||{fid:Bt(),registrationStatus:0})}function bt(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ce.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function It(D,T){return os.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:On(D)}:{installationEntry:T}}function os(){return(os=(0,k.Z)(function*(D,T){try{const M=yield ie(D,T);return _n(D.appConfig,M)}catch(M){throw Le(M)&&409===M.customData.serverCode?yield gt(D.appConfig):yield _n(D.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function On(D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(D){let T=yield kr(D.appConfig);for(;1===T.registrationStatus;)yield Ne(100),T=yield kr(D.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield ji(D);return L||M}return T})).apply(this,arguments)}function kr(D){return Rr(D,T=>{if(!T)throw Ce.create("installation-not-found");return Ii(T)})}function Ii(D){return function Da(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function cn(D,T){return as.apply(this,arguments)}function as(){return(as=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},M){const L=Xt(D,M),Y=H(D,M),re=T.getImmediate({optional:!0});if(re){const xt=yield re.getHeartbeatsHeader();xt&&Y.append("x-firebase-client",xt)}const $e={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},st=yield ve(()=>fetch(L,$e));if(st.ok)return be(yield st.json());throw yield Me("Generate Auth Token",st)})).apply(this,arguments)}function Xt(D,{fid:T}){return`${Te(D)}/${T}/authTokens:generate`}function Ti(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,k.Z)(function*(D,T=!1){let M;const L=yield Rr(D.appConfig,re=>{if(!Ut(re))throw Ce.create("not-registered");const Se=re.authToken;if(!T&&z(Se))return re;if(1===Se.requestStatus)return M=je(D,T),re;{if(!navigator.onLine)throw Ce.create("app-offline");const $e=Z(re);return M=Ct(D,$e),$e}});return M?yield M:L.authToken})).apply(this,arguments)}function je(D,T){return De.apply(this,arguments)}function De(){return(De=(0,k.Z)(function*(D,T){let M=yield Xe(D.appConfig);for(;1===M.authToken.requestStatus;)yield Ne(100),M=yield Xe(D.appConfig);const L=M.authToken;return 0===L.requestStatus?Ti(D,T):L})).apply(this,arguments)}function Xe(D){return Rr(D,T=>{if(!Ut(T))throw Ce.create("not-registered");return function ge(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ct(D,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,k.Z)(function*(D,T){try{const M=yield cn(D,T),L=Object.assign(Object.assign({},T),{authToken:M});return yield _n(D.appConfig,L),M}catch(M){if(!Le(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield _n(D.appConfig,L)}else yield gt(D.appConfig);throw M}})).apply(this,arguments)}function Ut(D){return void 0!==D&&2===D.registrationStatus}function z(D){return 2===D.requestStatus&&!function B(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Z(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function nt(){return(nt=(0,k.Z)(function*(D){const T=D,{installationEntry:M,registrationPromise:L}=yield ji(T);return L?L.catch(console.error):Ti(T).catch(console.error),M.fid})).apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*(D,T=!1){const M=D;return yield In(M),(yield Ti(M,T)).token})).apply(this,arguments)}function In(D){return wt.apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(D){const{registrationPromise:T}=yield ji(D);T&&(yield T)})).apply(this,arguments)}function pl(D){return Ce.create("missing-app-config-values",{valueName:D})}const kc="installations",Tn=D=>{const T=D.getProvider("app").getImmediate(),M=function Ta(D){if(!D||!D.options)throw pl("App Configuration");if(!D.name)throw pl("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!D.options[M])throw pl(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},_d=D=>{const T=D.getProvider("app").getImmediate(),M=(0,ae._getProvider)(T,kc).getImmediate();return{getId:()=>function ne(D){return nt.apply(this,arguments)}(M),getToken:Y=>function jt(D){return Yt.apply(this,arguments)}(M,Y)}};(function Nc(){(0,ae._registerComponent)(new he.wA(kc,Tn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",_d,"PRIVATE"))})(),(0,ae.registerVersion)(me,j),(0,ae.registerVersion)(me,j,"esm2017");const Sa="@firebase/remote-config",jn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zo{constructor(T,M,L,Y){this.client=T,this.storage=M,this.storageCache=L,this.logger=Y}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Y=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Y}.`),Y}fetch(T){var M=this;return(0,k.Z)(function*(){const[L,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(T.cacheMaxAgeMillis,L))return Y;T.eTag=Y&&Y.eTag;const re=yield M.client.fetch(T),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Se),re})()}}function Ai(D=navigator){return D.languages&&D.languages[0]||D.language}class cs{constructor(T,M,L,Y,re,Se){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=L,this.projectId=Y,this.apiKey=re,this.appId=Se}fetch(T){var M=this;return(0,k.Z)(function*(){var L,Y,re;const[Se,$e]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ot={sdk_version:M.sdkVersion,app_instance_id:Se,app_instance_id_token:$e,app_id:M.appId,language_code:Ai()},mn={method:"POST",headers:St,body:JSON.stringify(ot)},ur=fetch(xt,mn),ki=new Promise((dr,on)=>{T.signal.addEventListener(()=>{const Yi=new Error("The operation was aborted.");Yi.name="AbortError",on(Yi)})});let Ki;try{yield Promise.race([ur,ki]),Ki=yield ur}catch(dr){let on="fetch-client-network";throw"AbortError"===(null===(L=dr)||void 0===L?void 0:L.name)&&(on="fetch-timeout"),jn.create(on,{originalErrorMessage:null===(Y=dr)||void 0===Y?void 0:Y.message})}let oi=Ki.status;const Hr=Ki.headers.get("ETag")||void 0;let Nn,ys;if(200===Ki.status){let dr;try{dr=yield Ki.json()}catch(on){throw jn.create("fetch-client-parse",{originalErrorMessage:null===(re=on)||void 0===re?void 0:re.message})}Nn=dr.entries,ys=dr.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?oi=500:"NO_CHANGE"===ys?oi=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(Nn={}),304!==oi&&200!==oi)throw jn.create("fetch-status",{httpStatus:oi});return{status:oi,eTag:Hr,config:Nn}})()}}class ff{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,k.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:L}){var Y=this;return(0,k.Z)(function*(){yield function Ln(D,T){return new Promise((M,L)=>{const Y=Math.max(T-Date.now(),0),re=setTimeout(M,Y);D.addEventListener(()=>{clearTimeout(re),L(jn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const re=yield Y.client.fetch(T);return yield Y.storage.deleteThrottleMetadata(),re}catch(re){if(!function un(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(re))throw re;const Se={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(Se),Y.attemptFetch(T,Se)}})()}}class Aa{constructor(T,M,L,Y,re){this.app=T,this._client=M,this._storageCache=L,this._storage=Y,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ls(D,T){var M;const L=D.target.error||void 0;return jn.create(T,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const _r="app_namespace_store";class Gi{constructor(T,M,L,Y=function pf(){return new Promise((D,T)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Y=>{T(Ls(Y,"storage-open"))},L.onsuccess=Y=>{D(Y.target.result)},L.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(_r,{keyPath:"compositeKey"})}}catch(L){T(jn.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=T,this.appName=M,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Y,re)=>{var Se;const st=L.transaction([_r],"readonly").objectStore(_r),xt=M.createCompositeKey(T);try{const St=st.get(xt);St.onerror=ot=>{re(Ls(ot,"storage-get"))},St.onsuccess=ot=>{const mn=ot.target.result;Y(mn?mn.value:void 0)}}catch(St){re(jn.create("storage-get",{originalErrorMessage:null===(Se=St)||void 0===Se?void 0:Se.message}))}})})()}set(T,M){var L=this;return(0,k.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((re,Se)=>{var $e;const xt=Y.transaction([_r],"readwrite").objectStore(_r),St=L.createCompositeKey(T);try{const ot=xt.put({compositeKey:St,value:M});ot.onerror=mn=>{Se(Ls(mn,"storage-set"))},ot.onsuccess=()=>{re()}}catch(ot){Se(jn.create("storage-set",{originalErrorMessage:null===($e=ot)||void 0===$e?void 0:$e.message}))}})})()}delete(T){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Y,re)=>{var Se;const st=L.transaction([_r],"readwrite").objectStore(_r),xt=M.createCompositeKey(T);try{const St=st.delete(xt);St.onerror=ot=>{re(Ls(ot,"storage-delete"))},St.onsuccess=()=>{Y()}}catch(St){re(jn.create("storage-delete",{originalErrorMessage:null===(Se=St)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class cr{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const M=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),Y=T.storage.getActiveConfig(),re=yield M;re&&(T.lastFetchStatus=re);const Se=yield L;Se&&(T.lastSuccessfulFetchTimestampMillis=Se);const $e=yield Y;$e&&(T.activeConfig=$e)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Mi(){return yd.apply(this,arguments)}function yd(){return(yd=(0,k.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function us(){(0,ae._registerComponent)(new he.wA("remote-config",function D(T,{instanceIdentifier:M}){const L=T.getProvider("app").getImmediate(),Y=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!(0,le.hl)())throw jn.create("indexed-db-unavailable");const{projectId:re,apiKey:Se,appId:$e}=L.options;if(!re)throw jn.create("registration-project-id");if(!Se)throw jn.create("registration-api-key");if(!$e)throw jn.create("registration-app-id");const st=new Gi($e,L.name,M=M||"firebase"),xt=new cr(st),St=new te.Yd(Sa);St.logLevel=te.in.ERROR;const ot=new cs(Y,ae.SDK_VERSION,M,re,Se,$e),mn=new ff(ot,st),ur=new Zo(mn,st,xt,St),ki=new Aa(L,ur,xt,st,St);return function tn(D){const T=(0,le.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ki),ki},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Sa,"0.3.15"),(0,ae.registerVersion)(Sa,"0.3.15","esm2017")}();const vd="/firebase-messaging-sw.js",ds="/firebase-cloud-messaging-push-scope",Vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bd="google.c.a.c_id",mf="google.c.a.c_l",Lc="google.c.a.ts",wd="google.c.a.e";var _l=(()=>{return(D=_l||(_l={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",_l;var D})();function mi(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ed(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Y=new Uint8Array(L.length);for(let re=0;re<L.length;++re)Y[re]=L.charCodeAt(re);return Y}const Vc="fcm_token_details_db",yr="fcm_token_object_Store";function gf(D){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Vc))return null;let T=null;return(yield(0,fe.X3)(Vc,5,{upgrade:(L=(0,k.Z)(function*(Y,re,Se,$e){var st;if(re<2||!Y.objectStoreNames.contains(yr))return;const xt=$e.objectStore(yr),St=yield xt.index("fcmSenderId").get(D);if(yield xt.clear(),St)if(2===re){const ot=St;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;T={token:ot.fcmToken,createTime:null!==(st=ot.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:mi(ot.vapidKey)}}}else if(3===re){const ot=St;T={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:mi(ot.auth),p256dh:mi(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:mi(ot.vapidKey)}}}else if(4===re){const ot=St;T={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:mi(ot.auth),p256dh:mi(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:mi(ot.vapidKey)}}}}),function(re,Se,$e,st){return L.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Vc),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Uc(T)?T:null;var L}),Bc.apply(this,arguments)}function Uc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const bo="firebase-messaging-store";let Dd=null;function vr(){return Dd||(Dd=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(bo)}})),Dd}function yl(D){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,k.Z)(function*(D){const T=ka(D),L=yield(yield vr()).transaction(bo).objectStore(bo).get(T);if(L)return L;{const Y=yield gf(D.appConfig.senderId);if(Y)return yield Bs(D,Y),Y}})).apply(this,arguments)}function Bs(D,T){return vl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(D,T){const M=ka(D),Y=(yield vr()).transaction(bo,"readwrite");return yield Y.objectStore(bo).put(T,M),yield Y.done,T})).apply(this,arguments)}function bl(D){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,k.Z)(function*(D){const T=ka(D),L=(yield vr()).transaction(bo,"readwrite");yield L.objectStore(bo).delete(T),yield L.done})).apply(this,arguments)}function ka({appConfig:D}){return D.appId}const xn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wl(D,T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*(D,T){var M;const L=yield Rn(D),Y=Dl(T),re={method:"POST",headers:L,body:JSON.stringify(Y)};let Se;try{Se=yield(yield fetch(Cl(D.appConfig),re)).json()}catch($e){throw xn.create("token-subscribe-failed",{errorInfo:null===(M=$e)||void 0===M?void 0:M.toString()})}if(Se.error)throw xn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw xn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function Us(D,T){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(D,T){var M;const L=yield Rn(D),Y=Dl(T.subscriptionOptions),re={method:"PATCH",headers:L,body:JSON.stringify(Y)};let Se;try{Se=yield(yield fetch(`${Cl(D.appConfig)}/${T.token}`,re)).json()}catch($e){throw xn.create("token-update-failed",{errorInfo:null===(M=$e)||void 0===M?void 0:M.toString()})}if(Se.error)throw xn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw xn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Qo(D,T){return Id.apply(this,arguments)}function Id(){return(Id=(0,k.Z)(function*(D,T){var M;const Y={method:"DELETE",headers:yield Rn(D)};try{const Se=yield(yield fetch(`${Cl(D.appConfig)}/${T}`,Y)).json();if(Se.error)throw xn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(re){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(M=re)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Cl({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Rn(D){return Na.apply(this,arguments)}function Na(){return(Na=(0,k.Z)(function*({appConfig:D,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Dl({p256dh:D,auth:T,endpoint:M,vapidKey:L}){const Y={web:{endpoint:M,auth:T,p256dh:D}};return L!==Vs&&(Y.web.applicationPubKey=L),Y}const Pa=6048e5;function gi(D){return jc.apply(this,arguments)}function jc(){return(jc=(0,k.Z)(function*(D){const T=yield qr(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:mi(T.getKey("auth")),p256dh:mi(T.getKey("p256dh"))},L=yield yl(D.firebaseDependencies);if(L){if(Fa(L.subscriptionOptions,M))return Date.now()>=L.createTime+Pa?qi(D,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Qo(D.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return wo(D.firebaseDependencies,M)}return wo(D.firebaseDependencies,M)})).apply(this,arguments)}function Xo(D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,k.Z)(function*(D){const T=yield yl(D.firebaseDependencies);T&&(yield Qo(D.firebaseDependencies,T.token),yield bl(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function qi(D,T){return $c.apply(this,arguments)}function $c(){return($c=(0,k.Z)(function*(D,T){try{const M=yield Us(D.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield Bs(D.firebaseDependencies,L),M}catch(M){throw yield Xo(D),M}})).apply(this,arguments)}function wo(D,T){return Il.apply(this,arguments)}function Il(){return(Il=(0,k.Z)(function*(D,T){const L={token:yield wl(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Bs(D,L),L.token})).apply(this,arguments)}function qr(D,T){return zc.apply(this,arguments)}function zc(){return(zc=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ed(T)})})).apply(this,arguments)}function Fa(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Je(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Gc(D,T){if(!T.notification)return;D.notification={};const M=T.notification.title;M&&(D.notification.title=M);const L=T.notification.body;L&&(D.notification.body=L);const Y=T.notification.image;Y&&(D.notification.image=Y);const re=T.notification.icon;re&&(D.notification.icon=re)}(T,D),function yy(D,T){!T.data||(D.data=T.data)}(T,D),function Gm(D,T){var M,L,Y,re,Se;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;D.fcmOptions={};const $e=null!==(Y=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Y?Y:null===(re=T.notification)||void 0===re?void 0:re.click_action;$e&&(D.fcmOptions.link=$e);const st=null===(Se=T.fcmOptions)||void 0===Se?void 0:Se.analytics_label;st&&(D.fcmOptions.analyticsLabel=st)}(T,D),T}function Td(D){return"object"==typeof D&&!!D&&bd in D}function _f(D,T){const M=[];for(let L=0;L<D.length;L++)M.push(D.charAt(L)),L<T.length&&M.push(T.charAt(L));return M.join("")}function La(D){return xn.create("missing-app-config-values",{valueName:D})}_f("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_f("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qm{constructor(T,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function yf(D){if(!D||!D.options)throw La("App Configuration Object");if(!D.name)throw La("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const L of T)if(!M[L])throw La(L);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Y,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ee(D){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,k.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(vd,{scope:ds}),D.swRegistration.update().catch(()=>{})}catch(M){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=M)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Va(D,T){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Ee(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function $n(D,T){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Vs)})).apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(D,T){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield $n(D,T?.vapidKey),yield Va(D,T?.serviceWorkerRegistration),gi(D)})).apply(this,arguments)}function Sl(D,T,M){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(D,T,M){const L=qc(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[bd],message_name:M[mf],message_time:M[Lc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qc(D){switch(D){case _l.NOTIFICATION_CLICKED:return"notification_open";case _l.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wc(){return(Wc=(0,k.Z)(function*(D,T){const M=T.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===_l.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Je(M)):D.onMessageHandler.next(Je(M)));const L=M.data;Td(L)&&"1"===L[wd]&&(yield Sl(D,M.messageType,L))})).apply(this,arguments)}const Zc="@firebase/messaging",js=D=>{const T=new qm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function vf(D,T){return Wc.apply(this,arguments)}(T,M)),T},ta=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:L=>function br(D,T){return Fr.apply(this,arguments)}(T,L)}};function hs(){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,k.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function na(){(0,ae._registerComponent)(new he.wA("messaging",js,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",ta,"PRIVATE")),(0,ae.registerVersion)(Zc,"0.11.0"),(0,ae.registerVersion)(Zc,"0.11.0","esm2017")}();const Kc="analytics",Df="firebase_id",Eo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",Xn=new te.Yd("@firebase/analytics");function Ad(D){return Promise.all(D.map(T=>T.catch(M=>M)))}function Qc(D,T){const M=document.createElement("script");M.src=`${Al}?l=${D}&id=${T}`,M.async=!0,document.head.appendChild(M)}function fs(D,T,M,L,Y,re){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(D,T,M,L,Y,re){const Se=L[Y];try{if(Se)yield T[Se];else{const st=(yield Ad(M)).find(xt=>xt.measurementId===Y);st&&(yield T[st.appId])}}catch($e){Xn.error($e)}D("config",Y,re)})).apply(this,arguments)}function Md(D,T,M,L,Y){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(D,T,M,L,Y){try{let re=[];if(Y&&Y.send_to){let Se=Y.send_to;Array.isArray(Se)||(Se=[Se]);const $e=yield Ad(M);for(const st of Se){const xt=$e.find(ot=>ot.measurementId===st),St=xt&&T[xt.appId];if(!St){re=[];break}re.push(St)}}0===re.length&&(re=Object.values(T)),yield Promise.all(re),D("event",L,Y||{})}catch(re){Xn.error(re)}})).apply(this,arguments)}function Tf(D){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(Al)&&M.src.includes(D))return M;return null}const Jn=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Do=new class Lr{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Od(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wi(D){return ps.apply(this,arguments)}function ps(){return(ps=(0,k.Z)(function*(D){var T;const{appId:M,apiKey:L}=D,Y={method:"GET",headers:Od(L)},re=Eo.replace("{app-id}",M),Se=yield fetch(re,Y);if(200!==Se.status&&304!==Se.status){let $e="";try{const st=yield Se.json();null!==(T=st.error)&&void 0!==T&&T.message&&($e=st.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:$e})}return Se.json()})).apply(this,arguments)}function Vn(D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,k.Z)(function*(D,T=Do,M){const{appId:L,apiKey:Y,measurementId:re}=D.options;if(!L)throw Jn.create("no-app-id");if(!Y){if(re)return{measurementId:re,appId:L};throw Jn.create("no-api-key")}const Se=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new eu;return setTimeout((0,k.Z)(function*(){$e.abort()}),void 0!==M?M:6e4),$s({appId:L,apiKey:Y,measurementId:re},Se,$e,T)})).apply(this,arguments)}function $s(D,T,M){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:M},L,Y=Do){var re,Se;const{appId:$e,measurementId:st}=D;try{yield Jc(L,T)}catch(xt){if(st)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${null===(re=xt)||void 0===re?void 0:re.message}]`),{appId:$e,measurementId:st};throw xt}try{const xt=yield Wi(D);return Y.deleteThrottleMetadata($e),xt}catch(xt){const St=xt;if(!xf(St)){if(Y.deleteThrottleMetadata($e),st)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:$e,measurementId:st};throw xt}const ot=503===Number(null===(Se=St?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,le.$s)(M,Y.intervalMillis,30):(0,le.$s)(M,Y.intervalMillis),mn={throttleEndTimeMillis:Date.now()+ot,backoffCount:M+1};return Y.setThrottleMetadata($e,mn),Xn.debug(`Calling attemptFetch again in ${ot} millis`),$s(D,mn,L,Y)}})).apply(this,arguments)}function Jc(D,T){return new Promise((M,L)=>{const Y=Math.max(T-Date.now(),0),re=setTimeout(M,Y);D.addEventListener(()=>{clearTimeout(re),L(Jn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function xf(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class eu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Rl,qs;function Zr(){return(Zr=(0,k.Z)(function*(D,T,M,L,Y){if(Y&&Y.global)D("event",M,L);else{const re=yield T;D("event",M,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function kd(D){qs=D}function tu(D){Rl=D}function Nl(){return Af.apply(this,arguments)}function Af(){return(Af=(0,k.Z)(function*(){var D;if(!(0,le.hl)())return Xn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(T){return Xn.warn(Jn.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Pl(){return(Pl=(0,k.Z)(function*(D,T,M,L,Y,re,Se){var $e;const st=Vn(D);st.then(ur=>{M[ur.measurementId]=ur.appId,D.options.measurementId&&ur.measurementId!==D.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>Xn.error(ur)),T.push(st);const xt=Nl().then(ur=>{if(ur)return L.getId()}),[St,ot]=yield Promise.all([st,xt]);Tf(re)||Qc(re,St.measurementId),qs&&(Y("consent","default",qs),kd(void 0)),Y("js",new Date);const mn=null!==($e=Se?.config)&&void 0!==$e?$e:{};return mn.origin="firebase",mn.update=!0,null!=ot&&(mn[Df]=ot),Y("config",St.measurementId,mn),Rl&&(Y("set",Rl),tu(void 0)),St.measurementId})).apply(this,arguments)}class nu{constructor(T){this.app=T}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},sa=[];const ja={};let Fl,Ur,Ws="dataLayer",Zs=!1;function Ll(D,T,M){!function Km(){const D=[];if((0,le.ru)()&&D.push("This is a browser extension environment."),(0,le.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),M=Jn.create("invalid-analytics-context",{errorInfo:T});Xn.warn(M.message)}}();const L=D.options.appId;if(!L)throw Jn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Jn.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[L])throw Jn.create("already-exists",{id:L});if(!Zs){!function zn(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Ws);const{wrappedGtag:re,gtagCore:Se}=function If(D,T,M,L,Y){let re=function(...Se){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(re=window[Y]),window[Y]=function Xc(D,T,M,L){function re(){return(re=(0,k.Z)(function*(Se,$e,st){try{"event"===Se?yield Md(D,T,M,$e,st):"config"===Se?yield fs(D,T,M,L,$e,st):"consent"===Se?D("consent","update",st):D("set",$e)}catch(xt){Xn.error(xt)}})).apply(this,arguments)}return function Y(Se,$e,st){return re.apply(this,arguments)}}(re,D,T,M),{gtagCore:re,wrappedGtag:window[Y]}}(Br,sa,ja,Ws,"gtag");Ur=re,Fl=Se,Zs=!0}return Br[L]=function Zi(D,T,M,L,Y,re,Se){return Pl.apply(this,arguments)}(D,sa,ja,T,Fl,Ws,M),new nu(D)}function ru(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,k.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const ms="@firebase/analytics";!function za(){(0,ae._registerComponent)(new he.wA(Kc,(T,{options:M})=>Ll(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function D(T){try{const M=T.getProvider(Kc).getImmediate();return{logEvent:(L,Y,re)=>function Pd(D,T,M,L){D=(0,le.m9)(D),function Rd(D,T,M,L,Y){return Zr.apply(this,arguments)}(Ur,Br[D.app.options.appId],T,M,L).catch(Y=>Xn.error(Y))}(M,L,Y,re)}}catch(M){throw Jn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(ms,"0.8.4"),(0,ae.registerVersion)(ms,"0.8.4","esm2017")}();var ou=N(4408),Ks=N(7565);const Vd=new class Ld extends Ks.v{}(class Fd extends ou.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,M,L):(T.flush(this),0)}});var Rf=N(4986),au=N(8505),aa=N(9468),kf=N(5363);const by=new c.GfV("7.5.0"),Nf="__angularfire_symbol__analyticsIsSupportedValue",Pf="__angularfire_symbol__analyticsIsSupported",Ys="__angularfire_symbol__remoteConfigIsSupportedValue",Bd="__angularfire_symbol__remoteConfigIsSupported",lu="__angularfire_symbol__messagingIsSupportedValue",kn="__angularfire_symbol__messagingIsSupported";function qe(D,T,M){if(T){if(1===T.length)return T[0];const re=T.filter(Se=>Se.app===M);if(1===re.length)return re[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Pf]||(globalThis[Pf]=ru().then(D=>globalThis[Nf]=D).catch(()=>globalThis[Nf]=!1)),globalThis[kn]||(globalThis[kn]=hs().then(D=>globalThis[lu]=D).catch(()=>globalThis[lu]=!1)),globalThis[Bd]||(globalThis[Bd]=Mi().then(D=>globalThis[Ys]=D).catch(()=>globalThis[Ys]=!1));const _t=(D,T)=>{const M=T?[T]:(0,ee.C6)(),L=[];return M.forEach(Y=>{Y.container.getProvider(D).instances.forEach(Se=>{L.includes(Se)||L.push(Se)})}),L};function ei(){}class gs{constructor(T,M=Vd){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,L){const Y=this.zone;return this.delegate.schedule(function(Se){Y.runGuarded(()=>{T.apply(this,[Se])})},M,L)}}class Xs{constructor(T){this.zone=T,this.task=null}call(T,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ei,{},ei,ei)),M.pipe((0,au.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _i=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new gs(Zone.current)),this.insideAngular=M.run(()=>new gs(Zone.current,Rf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function _s(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ri(D){return _s(),function eo(D){return function(M){return(M=M.lift(new Xs(D.ngZone))).pipe((0,aa.R)(D.outsideAngular),(0,kf.Q)(D.insideAngular))}}(_s())(D)}},2090:(ct,we,N)=>{N.d(we,{$s:()=>Xe,BH:()=>pn,G6:()=>Me,L:()=>fe,LL:()=>en,Pz:()=>nn,Sg:()=>Bt,UG:()=>Ke,US:()=>he,ZB:()=>$,ZR:()=>mt,aH:()=>ht,b$:()=>xe,eu:()=>ke,hl:()=>He,jU:()=>tt,m9:()=>Ut,ne:()=>Ps,pd:()=>Cn,r3:()=>Ns,ru:()=>pe,tV:()=>me,uI:()=>Ie,vZ:()=>_n,w1:()=>Le,xO:()=>ss,xb:()=>Hi,z$:()=>Ue,zI:()=>H,zd:()=>Rr});const ae=function(z){const B=[];let Z=0;for(let ge=0;ge<z.length;ge++){let ne=z.charCodeAt(ge);ne<128?B[Z++]=ne:ne<2048?(B[Z++]=ne>>6|192,B[Z++]=63&ne|128):55296==(64512&ne)&&ge+1<z.length&&56320==(64512&z.charCodeAt(ge+1))?(ne=65536+((1023&ne)<<10)+(1023&z.charCodeAt(++ge)),B[Z++]=ne>>18|240,B[Z++]=ne>>12&63|128,B[Z++]=ne>>6&63|128,B[Z++]=63&ne|128):(B[Z++]=ne>>12|224,B[Z++]=ne>>6&63|128,B[Z++]=63&ne|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,B){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let ne=0;ne<z.length;ne+=3){const nt=z[ne],jt=ne+1<z.length,Yt=jt?z[ne+1]:0,In=ne+2<z.length,wt=In?z[ne+2]:0;let Kn=(15&Yt)<<2|wt>>6,Wo=63&wt;In||(Wo=64,jt||(Kn=64)),ge.push(Z[nt>>2],Z[(3&nt)<<4|Yt>>4],Z[Kn],Z[Wo])}return ge.join("")},encodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(z):this.encodeByteArray(ae(z),B)},decodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(z):function(z){const B=[];let Z=0,ge=0;for(;Z<z.length;){const ne=z[Z++];if(ne<128)B[ge++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const nt=z[Z++];B[ge++]=String.fromCharCode((31&ne)<<6|63&nt)}else if(ne>239&&ne<365){const In=((7&ne)<<18|(63&z[Z++])<<12|(63&z[Z++])<<6|63&z[Z++])-65536;B[ge++]=String.fromCharCode(55296+(In>>10)),B[ge++]=String.fromCharCode(56320+(1023&In))}else{const nt=z[Z++],jt=z[Z++];B[ge++]=String.fromCharCode((15&ne)<<12|(63&nt)<<6|63&jt)}}return B.join("")}(this.decodeStringToByteArray(z,B))},decodeStringToByteArray(z,B){this.init_();const Z=B?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let ne=0;ne<z.length;){const nt=Z[z.charAt(ne++)],Yt=ne<z.length?Z[z.charAt(ne)]:0;++ne;const wt=ne<z.length?Z[z.charAt(ne)]:64;++ne;const qt=ne<z.length?Z[z.charAt(ne)]:64;if(++ne,null==nt||null==Yt||null==wt||null==qt)throw Error();ge.push(nt<<2|Yt>>4),64!==wt&&(ge.push(Yt<<4&240|wt>>2),64!==qt&&ge.push(wt<<6&192|qt))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},fe=function(z){return function(z){const B=ae(z);return he.encodeByteArray(B,!0)}(z).replace(/\./g,"")},me=function(z){try{return he.decodeString(z,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(z,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return B}for(const Z in B)!B.hasOwnProperty(Z)||!K(Z)||(z[Z]=$(z[Z],B[Z]));return z}function K(z){return"__proto__"!==z}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function pe(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const z=Ue();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Me(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){return"object"==typeof indexedDB}function ke(){return new Promise((z,B)=>{try{let Z=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ge);ne.onsuccess=()=>{ne.result.close(),Z||self.indexedDB.deleteDatabase(ge),z(!0)},ne.onupgradeneeded=()=>{Z=!1},ne.onerror=()=>{var nt;B((null===(nt=ne.error)||void 0===nt?void 0:nt.message)||"")}}catch(Z){B(Z)}})}function H(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=z&&me(z[1]);return B&&JSON.parse(B)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},ht=()=>{var z;return null===(z=ie())||void 0===z?void 0:z.config},nn=z=>{var B;return null===(B=ie())||void 0===B?void 0:B[`_${z}`]};class pn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,ge)=>{Z?this.reject(Z):this.resolve(ge),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,ge))}}}function Bt(z,B){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=B||"demo-project",ne=z.iat||0,nt=z.sub||z.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jt=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:ne,exp:ne+3600,auth_time:ne,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},z);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(jt)),""].join(".")}class mt extends Error{constructor(B,Z,ge){super(Z),this.code=B,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(B,Z,ge){this.service=B,this.serviceName=Z,this.errors=ge}create(B,...Z){const ge=Z[0]||{},ne=`${this.service}/${B}`,nt=this.errors[B],jt=nt?function Di(z,B){return z.replace(Vi,(Z,ge)=>{const ne=B[ge];return null!=ne?String(ne):`<${ge}?>`})}(nt,ge):"Error";return new mt(ne,`${this.serviceName}: ${jt} (${ne}).`,ge)}}const Vi=/\{\$([^}]+)}/g;function Ns(z,B){return Object.prototype.hasOwnProperty.call(z,B)}function Hi(z){for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B))return!1;return!0}function _n(z,B){if(z===B)return!0;const Z=Object.keys(z),ge=Object.keys(B);for(const ne of Z){if(!ge.includes(ne))return!1;const nt=z[ne],jt=B[ne];if(lr(nt)&&lr(jt)){if(!_n(nt,jt))return!1}else if(nt!==jt)return!1}for(const ne of ge)if(!Z.includes(ne))return!1;return!0}function lr(z){return null!==z&&"object"==typeof z}function ss(z){const B=[];for(const[Z,ge]of Object.entries(z))Array.isArray(ge)?ge.forEach(ne=>{B.push(encodeURIComponent(Z)+"="+encodeURIComponent(ne))}):B.push(encodeURIComponent(Z)+"="+encodeURIComponent(ge));return B.length?"&"+B.join("&"):""}function Rr(z){const B={};return z.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[ne,nt]=ge.split("=");B[decodeURIComponent(ne)]=decodeURIComponent(nt)}}),B}function Cn(z){const B=z.indexOf("?");if(!B)return"";const Z=z.indexOf("#",B);return z.substring(B,Z>0?Z:void 0)}function Ps(z,B){const Z=new kt(z,B);return Z.subscribe.bind(Z)}class kt{constructor(B,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{B(this)}).catch(ge=>{this.error(ge)})}next(B){this.forEachObserver(Z=>{Z.next(B)})}error(B){this.forEachObserver(Z=>{Z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Z,ge){let ne;if(void 0===B&&void 0===Z&&void 0===ge)throw new Error("Missing Observer.");ne=function It(z,B){if("object"!=typeof z||null===z)return!1;for(const Z of B)if(Z in z&&"function"==typeof z[Z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Z,complete:ge},void 0===ne.next&&(ne.next=os),void 0===ne.error&&(ne.error=os),void 0===ne.complete&&(ne.complete=os);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),nt}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,B)}sendOne(B,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Z(this.observers[B])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}function Xe(z,B=1e3,Z=2){const ge=B*Math.pow(Z,z),ne=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+ne)}function Ut(z){return z&&z._delegate?z._delegate:z}},4297:(ct,we,N)=>{var c=N(4650);let ee=null;function k(){return ee}class he{}const te=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function me(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new $((0,c.LFG)(te))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ce)},providedIn:"root"}),n})();const xe=new c.OlP("appBaseHref");let Ce=(()=>{class n extends pe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+tt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+tt(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+tt(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(xe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Le=(()=>{class n extends pe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ie(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+tt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+tt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(xe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ke(He(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+tt(i))}normalize(t){return n.stripTrailingSlash(function Me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ie,n.stripTrailingSlash=Ke,n.\u0275fac=function(t){return new(t||n)(c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new Te((0,c.LFG)(pe))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}function fi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}let $i=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class xi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xi(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Sn(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Sn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Sn(n,e){n.context.$implicit=e.item}let tn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new go,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class go{constructor(){this.$implicit=null,this.ngIf=null}}function Fs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Lt{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _o=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ls=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Lt(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(_o,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Pc=(()=>{class n{constructor(t,i,r){r._addDefault(new Lt(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(_o,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ai=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ed="browser";function Bc(n){return"server"===n}let bo=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Dd((0,c.LFG)(te),window)}),n})();class Dd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs{}class Ad extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qc extends Ad{static makeCurrent(){!function le(n){ee||(ee=n)}(new Qc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fs(){return zn=zn||document.querySelector("base"),zn?zn.getAttribute("href"):null}();return null==t?null:function Md(n){rn=rn||document.createElement("a"),rn.setAttribute("href",n);const e=rn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fi(document.cookie,e)}}let rn,zn=null;const Co=new c.OlP("TRANSITION_ID"),If=[{provide:c.ip1,useFactory:function Xc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Co,te,c.zs3],multi:!0}];let Sf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jn=new c.OlP("EventManagerPlugins");let Wr=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Jn),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ml{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Lr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Do=(()=>{class n extends Lr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Od),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Od))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Od(n){k().remove(n)}const Wi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ps=/%COMP%/g;function eu(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?eu(n,r,t):(r=r.replace(ps,n),t.push(r))}return t}function Rl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zr=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ua(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zs(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new kl(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=eu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wr),c.LFG(Do),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Wi[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ha(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ha(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Wi[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Wi[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rl(i)):this.eventManager.addEventListener(e,t,Rl(i))}}function Ha(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zs extends Ua{constructor(e,t,i,r){super(e),this.component=i;const a=eu(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Jc(n){return"_ngcontent-%COMP%".replace(ps,n)}(r+"-"+i.id),this.hostAttr=function xf(n){return"_nghost-%COMP%".replace(ps,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class kl extends Ua{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=eu(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gs=(()=>{class n extends Ml{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=["alt","control","meta","shift"],qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tu=(()=>{class n extends Ml{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),ra.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=qs[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ra.forEach(u=>{u!==r&&(0,kd[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ed},{provide:c.g9A,useValue:function Br(){Qc.makeCurrent()},multi:!0},{provide:te,useFactory:function ja(){return(0,c.RDi)(document),document},deps:[]}]),Fl=new c.OlP(""),Ur=[{provide:c.rWj,useClass:class Tf{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Zs=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function sa(){return new c.qLn},deps:[]},{provide:Jn,useClass:Gs,multi:!0,deps:[te,c.R0b,c.Lbi]},{provide:Jn,useClass:tu,multi:!0,deps:[te]},{provide:Zr,useClass:Zr,deps:[Wr,Do,c.AFp]},{provide:c.FYo,useExisting:Zr},{provide:Lr,useExisting:Do},{provide:Do,useClass:Do,deps:[te]},{provide:Wr,useClass:Wr,deps:[Jn,c.R0b]},{provide:Bs,useClass:Sf,deps:[]},[]];let Nd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Co,useExisting:c.AFp},If]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Zs,...Ur],imports:[mi,c.hGG]}),n})(),ru=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Mf(){return new ru((0,c.LFG)(te))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let lu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Qs),i},providedIn:"root"}),n})(),Qs=(()=>{class n extends lu{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${c.JZr})`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function kn(n){return new Qs(n.get(te))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var vn=N(8996),Ga=N(3269);function qe(...n){const e=(0,Ga.yG)(n);return(0,vn.D)(n,e)}var _t=N(7579);class ei extends _t.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Xs=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _i=N(9751);const{isArray:_s}=Array,{getPrototypeOf:uu,prototype:Js,keys:wy}=Object;function Ul(n){if(1===n.length){const e=n[0];if(_s(e))return{args:e,keys:null};if(function Ri(n){return n&&"object"==typeof n&&uu(n)===Js}(e)){const t=wy(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var eo=N(4671),it=N(4004);const{isArray:Ey}=Array;function T(n){return(0,it.U)(e=>function D(n,e){return Ey(e)?n(...e):n(e)}(n,e))}function M(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var L=N(5403),Y=N(9672);function re(...n){const e=(0,Ga.yG)(n),t=(0,Ga.jO)(n),{args:i,keys:r}=Ul(n);if(0===i.length)return(0,vn.D)([],e);const a=new _i.y(function Se(n,e,t=eo.y){return i=>{$e(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)$e(e,()=>{const w=(0,vn.D)(n[_],e);let I=!1;w.subscribe((0,L.x)(i,A=>{a[_]=A,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>M(r,u):eo.y));return t?a.pipe(T(t)):a}function $e(n,e,t){n?(0,Y.f)(t,n,e):e()}var st=N(8189);function St(...n){return function xt(){return(0,st.J)(1)}()((0,vn.D)(n,(0,Ga.yG)(n)))}var ot=N(8421);function mn(n){return new _i.y(e=>{(0,ot.Xf)(n()).subscribe(e)})}var ur=N(9635),ki=N(576);function Ki(n,e){const t=(0,ki.m)(n)?n:()=>n,i=r=>r.error(t());return new _i.y(e?r=>e.schedule(i,0,r):i)}var oi=N(515),Hr=N(727),Nn=N(4482);function ys(){return(0,Nn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,L.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class dr extends _i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,L.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hr.w0.EMPTY)}return e}refCount(){return ys()(this)}}function on(n,e){return(0,Nn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,L.x)(i,_=>{r?.unsubscribe();let w=0;const I=a++;(0,ot.Xf)(n(_,I)).subscribe(r=(0,L.x)(i,A=>i.next(e?e(_,A,I,w++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Yi(n){return n<=0?()=>oi.E:(0,Nn.e)((e,t)=>{let i=0;e.subscribe((0,L.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function to(...n){const e=(0,Ga.yG)(n);return(0,Nn.e)((t,i)=>{(e?St(n,t,e):St(n,t)).subscribe(i)})}function Bn(n,e){return(0,Nn.e)((t,i)=>{let r=0;t.subscribe((0,L.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Qi=N(5577);function Ud(n){return(0,Nn.e)((e,t)=>{let i=!1;e.subscribe((0,L.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ym(n=Hd){return(0,Nn.e)((e,t)=>{let i=!1;e.subscribe((0,L.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Hd(){return new Xs}function To(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,a)=>n(r,a,i)):eo.y,Yi(1),t?Ud(e):Ym(()=>new Xs))}function vs(n,e){return(0,ki.m)(e)?(0,Qi.z)(n,e,1):(0,Qi.z)(n,1)}var yi=N(8505);function la(n){return(0,Nn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,L.x)(t,void 0,void 0,u=>{a=(0,ot.Xf)(n(u,la(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Qm(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,L.x)(u,I=>{const A=w++;_=f?n(_,I,A):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function jd(n,e){return(0,Nn.e)(Qm(n,e,arguments.length>=2,!0))}function $d(n){return n<=0?()=>oi.E:(0,Nn.e)((e,t)=>{let i=[];e.subscribe((0,L.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Cy(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,a)=>n(r,a,i)):eo.y,$d(1),t?Ud(e):Ym(()=>new Xs))}function zd(n,e=!1){return(0,Nn.e)((t,i)=>{let r=0;t.subscribe((0,L.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}function du(n){return(0,Nn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",Gd=Symbol("RouteTitle");class Ff{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hl(n){return new Ff(n)}function yw(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function So(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Iy(n[r],e[r]))return!1;return!0}function Iy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function qd(n){return Array.prototype.concat.apply([],n)}function Lf(n){return n.length>0?n[n.length-1]:null}function vi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function no(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,vn.D)(Promise.resolve(n)):qe(n)}const hu=!1,Yr={exact:function Bf(n,e,t){if(!Ao(n.segments,e.segments)||!Zd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Bf(n.children[i],e.children[i],t))return!1;return!0},subset:eg},Xm={exact:function Jm(n,e){return So(n,e)},subset:function Uf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Iy(n[t],e[t]))},ignored:()=>!0};function Vf(n,e,t){return Yr[t.paths](n.root,e.root,t.matrixParams)&&Xm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function eg(n,e,t){return tg(n,e,e.segments,t)}function tg(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ao(r,t)||e.hasChildren()||!Zd(r,t,i))}if(n.segments.length===t.length){if(!Ao(n.segments,t)||!Zd(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!eg(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ao(n.segments,r)&&Zd(n.segments,r,i)&&n.children[Wt])&&tg(n.children[Wt],e,a,i)}}function Zd(n,e,t){return e.every((i,r)=>Xm[t](n[r].parameters,i.parameters))}class xo{constructor(e=new Zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return qa.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fu(this)}}class Kd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hl(this.parameters)),this._parameterMap}toString(){return ig(this)}}function Ao(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let jl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new bi},providedIn:"root"}),n})();class bi{parse(e){const t=new Ay(e);return new xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$l(e.root,!0)}`,i=function jf(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${pu(t)}=${pu(r)}`).join("&"):`${pu(t)}=${pu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Ty(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qa=new bi;function fu(n){return n.segments.map(e=>ig(e)).join("/")}function $l(n,e){if(!n.hasChildren())return fu(n);if(e){const t=n.children[Wt]?$l(n.children[Wt],!1):"",i=[];return vi(n.children,(r,a)=>{a!==Wt&&i.push(`${a}:${$l(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ng(n,e){let t=[];return vi(n.children,(i,r)=>{r===Wt&&(t=t.concat(e(i,r)))}),vi(n.children,(i,r)=>{r!==Wt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Wt?[$l(n.children[Wt],!1)]:[`${r}:${$l(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${fu(n)}/${t[0]}`:`${fu(n)}/(${t.join("//")})`}}function Yd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pu(n){return Yd(n).replace(/%3B/gi,";")}function zl(n){return Yd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(n){return decodeURIComponent(n)}function Hf(n){return Qd(n.replace(/\+/g,"%20"))}function ig(n){return`${zl(n.path)}${function Sy(n){return Object.keys(n).map(e=>`;${zl(e)}=${zl(n[e])}`).join("")}(n.parameters)}`}const Xd=/^[^\/()?;=#]+/;function Gl(n){const e=n.match(Xd);return e?e[0]:""}const rg=/^[^=?&#]+/,Wa=/^[^&#]+/;class Ay{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Wt]=new Zt(e,t)),i}parseSegment(){const e=Gl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,hu);return this.capture(e),new Kd(Qd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gl(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Gl(this.remaining);r&&(i=r,this.capture(i))}e[Qd(t)]=Qd(i)}parseQueryParam(e){const t=function xy(n){const e=n.match(rg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function $f(n){const e=n.match(Wa);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Hf(t),a=Hf(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,hu);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Wt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Wt]:new Zt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,hu)}}function mu(n){return n.segments.length>0?new Zt([],{[Wt]:n}):n}function Mo(n){const e={};for(const i of Object.keys(n.children)){const a=Mo(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function sg(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function ql(n){return n instanceof xo}function Gf(n,e,t,i,r){if(0===t.length)return Wl(e.root,e.root,e.root,i,r);const a=function lg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ag(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return vi(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new ag(t,e,i)}(t);return a.toRoot()?Wl(e.root,e.root,new Zt([],{}),i,r):function u(_){const w=function Zf(n,e,t,i){if(n.isAbsolute)return new Za(e.root,!0,0);if(-1===i)return new Za(t,t===e.root,0);return function Zl(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Za(i,!1,r-a)}(t,i+(gu(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?Kl(w.segmentGroup,w.index,a.commands):Jd(w.segmentGroup,w.index,a.commands);return Wl(e.root,w.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function gu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Oo(n){return"object"==typeof n&&null!=n&&n.outlets}function Wl(n,e,t,i,r){let u,a={};i&&vi(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:qf(n,e,t);const f=mu(Mo(u));return new xo(f,a,r)}function qf(n,e,t){const i={};return vi(n.children,(r,a)=>{i[a]=r===e?t:qf(r,e,t)}),new Zt(n.segments,i)}class ag{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&gu(i[0]))throw new c.vHH(4003,!1);const r=i.find(Oo);if(r&&r!==Lf(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Za{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Jd(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return Kl(n,e,t);const i=function eh(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(Oo(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Yf(_,w,u))return a;i+=2}else{if(!Yf(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Zt(n.segments.slice(0,i.pathIndex),{});return a.children[Wt]=new Zt(n.segments.slice(i.pathIndex),n.children),Kl(a,0,r)}return i.match&&0===r.length?new Zt(n.segments,{}):i.match&&!n.hasChildren()?Ro(n,e,t):i.match?Kl(n,0,r):Ro(n,e,t)}function Kl(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const i=function Kf(n){return Oo(n[0])?n[0].outlets:{[Wt]:n}}(t),r={};return vi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Jd(n.children[u],e,a))}),vi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Zt(n.segments,r)}}function Ro(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Oo(a)){const _=wr(a.outlets);return new Zt(i,_)}if(0===r&&gu(t[0])){i.push(new Kd(n.segments[e].path,Ka(t[0]))),r++;continue}const u=Oo(a)?a.outlets[Wt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&gu(f)?(i.push(new Kd(u,Ka(f))),r+=2):(i.push(new Kd(u,{})),r++)}return new Zt(i,{})}function wr(n){const e={};return vi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ro(new Zt([],{}),0,t))}),e}function Ka(n){const e={};return vi(n,(t,i)=>e[i]=`${t}`),e}function Yf(n,e,t){return n==t.path&&So(e,t.parameters)}class ua{constructor(e,t){this.id=e,this.url=t}}class da extends ua{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ko extends ua{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _u extends ua{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class th extends ua{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cg extends ua{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends ua{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qf extends ua{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nh extends ua{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ih extends ua{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ug{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ya{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oy{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sh(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=sh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return oh(e,this._root).map(t=>t.value)}}function sh(n,e){if(n===e.value)return e;for(const t of e.children){const i=sh(n,t);if(i)return i}return null}function oh(n,e){if(n===e.value)return[e];for(const t of e.children){const i=oh(n,t);if(i.length)return i.unshift(e),i}return[]}class Qr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function No(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ah extends Xf{constructor(e,t){super(e),this.snapshot=t,R(this,e)}toString(){return this.snapshot.toString()}}function ha(n,e){const t=function Ry(n,e){const u=new b([],{},{},"",{},Wt,e,null,n.root,-1,{});return new x("",new Qr(u,[]))}(n,e),i=new ei([new Kd("",{})]),r=new ei({}),a=new ei({}),u=new ei({}),f=new ei(""),_=new v(i,r,u,f,a,Wt,e,t.root);return _.snapshot=t.root,new ah(new Qr(_,[]),t)}class v{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,it.U)(w=>w[Gd]))??qe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Hl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Hl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function g(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class b{constructor(e,t,i,r,a,u,f,_,w,I,A){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=A}get title(){return this.data?.[Gd]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x extends Xf{constructor(e,t){super(t),this.url=e,R(this,t)}toString(){return G(this._root)}}function R(n,e){e.value._routerState=n,e.children.forEach(t=>R(n,t))}function G(n){const e=n.children.length>0?` { ${n.children.map(G).join(", ")} } `:"";return`${n.value}${e}`}function ue(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,So(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),So(e.params,t.params)||n.params.next(t.params),function vw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!So(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),So(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Be(n,e){const t=So(n.params,e.params)&&function Gn(n,e){return Ao(n,e)&&n.every((t,i)=>So(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Be(n.parent,e.parent))}function yt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function at(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yt(n,i,r);return yt(n,i)})}(n,e,t);return new Qr(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>yt(n,f)),u}}const i=function ai(n){return new v(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>yt(n,a));return new Qr(i,r)}}const jr="ngNavigationCancelingError";function bu(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ql(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Jf(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Jf(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[jr]=!0,i.cancellationCode=e,t&&(i.url=t),i}function lh(n){return ws(n)&&ql(n.url)}function ws(n){return n&&n[jr]}class Qa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xa,this.attachRef=null}}let Xa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Qa,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wu=!1;let ch=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Xa),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,wu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,wu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,wu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,wu);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new ep(t,f,r.injector);if(i&&function dg(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class ep{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===v?this.route:e===Xa?this.childContexts:this.parent.get(e,t)}}let tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[ch],encapsulation:2}),n})();function Eu(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hg(n){const e=n.children&&n.children.map(hg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=tp),t}function Es(n){return n.outlet||Wt}function nT(n,e){const t=n.filter(i=>Es(i)===e);return t.push(...n.filter(i=>Es(i)!==e)),t}function fg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ky{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ue(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=No(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),vi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=No(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=No(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=No(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Oy(a.value.snapshot))}),e.children.length&&this.forwardEvent(new yu(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(ue(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),ue(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=fg(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class pg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ny{constructor(e,t){this.component=e,this.route=t}}function oR(n,e,t){const i=n._root;return ip(i,e?e._root:null,t,[i.value])}function dh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function ip(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=No(e);return n.children.forEach(u=>{(function iT(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function rT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ao(n.url,e.url)||!So(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Be(n,e)||!So(n.queryParams,e.queryParams);default:return!Be(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new pg(i)):(a.data=u.data,a._resolvedData=u._resolvedData),ip(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ny(f.outlet.component,u))}else u&&hh(e,f,r),r.canActivateChecks.push(new pg(i)),ip(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),vi(a,(u,f)=>hh(u,t.getContext(f),r)),r}function hh(n,e,t){const i=No(n),r=n.value;vi(i,(a,u)=>{hh(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ny(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Yl(n){return"function"==typeof n}function Fy(n){return n instanceof Xs||"EmptyError"===n?.name}const mg=Symbol("INITIAL_VALUE");function fh(){return on(n=>re(n.map(e=>e.pipe(Yi(1),to(mg)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===mg)return mg;if(!1===t||t instanceof xo)return t}return!0}),Bn(e=>e!==mg),Yi(1)))}function Mw(n){return(0,ur.z)((0,yi.b)(e=>{if(ql(e))throw bu(0,e)}),(0,it.U)(e=>!0===e))}const gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vy(n,e,t,i,r){const a=sp(n,e,t);return a.matched?function cT(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?qe(r.map(u=>{const f=dh(u,n);return no(function oT(n){return n&&Yl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(fh(),Mw()):qe(!0)}(i=Eu(e,i),e,t).pipe((0,it.U)(u=>!0===u?a:{...gg})):qe(a)}function sp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||yw)(t,n,e);if(!r)return{...gg};const a={};vi(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function By(n,e,t,i){if(t.length>0&&function Hy(n,e,t){return t.some(i=>op(n,e,i)&&Es(i)!==Wt)}(n,t,i)){const a=new Zt(e,function uT(n,e,t,i){const r={};r[Wt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Es(a)!==Wt){const u=new Zt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Es(a)]=u}return r}(n,e,i,new Zt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function Ow(n,e,t){return t.some(i=>op(n,e,i))}(n,t,i)){const a=new Zt(n.segments,function Uy(n,e,t,i,r){const a={};for(const u of i)if(op(n,t,u)&&!r[Es(u)]){const f=new Zt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Es(u)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Zt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function op(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ql(n,e,t,i){return!!(Es(n)===i||i!==Wt&&op(e,t,n))&&("**"===n.path||sp(e,n,t).matched)}function Rw(n,e,t){return 0===e.length&&!n.children[t]}const ph=!1;class Cu{constructor(e){this.segmentGroup=e||null}}class kw{constructor(e){this.urlTree=e}}function Du(n){return Ki(new Cu(n))}function ap(n){return Ki(new kw(n))}class dT{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=By(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Wt).pipe((0,it.U)(a=>this.createUrlTree(Mo(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(la(a=>{if(a instanceof kw)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Cu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Wt).pipe((0,it.U)(r=>this.createUrlTree(Mo(r),e.queryParams,e.fragment))).pipe(la(r=>{throw r instanceof Cu?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,ph)}createUrlTree(e,t,i){const r=mu(e);return new xo(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,it.U)(a=>new Zt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,vn.D)(r).pipe(vs(a=>{const u=i.children[a],f=nT(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,it.U)(_=>({segment:_,outlet:a})))}),jd((a,u)=>(a[u.outlet]=u.segment,a),{}),Cy())}expandSegment(e,t,i,r,a,u){return(0,vn.D)(i).pipe(vs(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(la(w=>{if(w instanceof Cu)return qe(null);throw w}))),To(f=>!!f),la((f,_)=>{if(Fy(f))return Rw(t,r,a)?qe(new Zt([],{})):Du(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return Ql(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Du(t):Du(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ap(a):this.lineralizeSegments(i,a).pipe((0,Qi.z)(u=>{const f=new Zt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=sp(t,r,a);if(!f)return Du(t);const A=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?ap(A):this.lineralizeSegments(r,A).pipe((0,Qi.z)(P=>this.expandSegment(e,t,i,P.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Eu(i,e),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,it.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Zt(r,{})))):qe(new Zt(r,{}))):Vy(t,i,r,e).pipe(on(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Qi.z)(I=>{const A=I.injector??e,P=I.routes,{segmentGroup:V,slicedSegments:U}=By(t,f,_,P),Q=new Zt(V.segments,V.children);if(0===U.length&&Q.hasChildren())return this.expandChildren(A,P,Q).pipe((0,it.U)(dt=>new Zt(f,dt)));if(0===P.length&&0===U.length)return qe(new Zt(f,{}));const ce=Es(i)===a;return this.expandSegment(A,Q,P,U,ce?Wt:a,!0).pipe((0,it.U)(et=>new Zt(f.concat(et.segments),et.children)))})):Du(t)))}getChildConfig(e,t,i){return t.children?qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Aw(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(u=>{const f=dh(u,n);return no(function Py(n){return n&&Yl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(fh(),Mw())}(e,t,i).pipe((0,Qi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,yi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Nw(n){return Ki(Jf(ph,3))}())):qe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[Wt])return Ki(new c.vHH(4e3,ph));r=r.children[Wt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new xo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return vi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Zt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,ph);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class mh{}class mT{constructor(e,t,i,r,a,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=By(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe((0,it.U)(t=>{if(null===t)return null;const i=new b([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qr(i,t),a=new x(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=p(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,vn.D)(Object.keys(i.children)).pipe(vs(r=>{const a=i.children[r],u=nT(t,r);return this.processSegmentGroup(e,u,a,r)}),jd((r,a)=>r&&a?(r.push(...a),r):null),zd(r=>null!==r),Ud(null),Cy(),(0,it.U)(r=>{if(null===r)return null;const a=Fw(r);return function zy(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,vn.D)(t).pipe(vs(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),To(u=>!!u),la(u=>{if(Fy(u))return Rw(i,r,a)?qe([]):qe(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Ql(t,i,r,a))return qe(null);let u;if("**"===t.path){const f=r.length>0?Lf(r).parameters:{},_=Vw(i)+r.length;u=qe({snapshot:new b(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bw(t),Es(t),t.component??t._loadedComponent??null,t,_T(i),_,Tu(t)),consumedSegments:[],remainingSegments:[]})}else u=Vy(i,t,r,e).pipe((0,it.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!f)return null;const A=Vw(i)+_.length;return{snapshot:new b(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bw(t),Es(t),t.component??t._loadedComponent??null,t,_T(i),A,Tu(t)),consumedSegments:_,remainingSegments:w}}));return u.pipe(on(f=>{if(null===f)return qe(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const A=t._loadedInjector??e,P=function gT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:U}=By(i,w,I,P.filter(ce=>void 0===ce.redirectTo));if(0===U.length&&V.hasChildren())return this.processChildren(A,P,V).pipe((0,it.U)(ce=>null===ce?null:[new Qr(_,ce)]));if(0===P.length&&0===U.length)return qe([new Qr(_,[])]);const Q=Es(t)===a;return this.processSegment(A,P,V,U,Q?Wt:a).pipe((0,it.U)(ce=>null===ce?null:[new Qr(_,ce)]))}))}}function Pw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fw(n){const e=[],t=new Set;for(const i of n){if(!Pw(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Fw(i.children);e.push(new Qr(i.value,r))}return e.filter(i=>!t.has(i))}function _T(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Bw(n){return n.data||{}}function Tu(n){return n.resolve||{}}function Hw(n){return"string"==typeof n.title||null===n.title}function yg(n){return on(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,it.U)(()=>e)):qe(e)})}class qy{constructor(e){this.router=e,this.currentNavigation=null}setupNavigations(e){const t=this.router.events;return e.pipe(Bn(i=>0!==i.id),(0,it.U)(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),on(i=>{let r=!1,a=!1;return qe(i).pipe((0,yi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),on(u=>{const f=this.router.browserUrlTree.toString(),_=!this.router.navigated||u.extractedUrl.toString()!==f||f!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||_)&&this.router.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return vg(u.source)&&(this.router.browserUrlTree=u.extractedUrl),qe(u).pipe(on(I=>{const A=this.router.transitions.getValue();return t.next(new da(I.id,this.router.serializeUrl(I.extractedUrl),I.source,I.restoredState)),A!==this.router.transitions.getValue()?oi.E:Promise.resolve(I)}),function hT(n,e,t,i){return on(r=>function jy(n,e,t,i,r){return new dT(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,it.U)(a=>({...r,urlAfterRedirects:a}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),(0,yi.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},i.urlAfterRedirects=I.urlAfterRedirects}),function lp(n,e,t,i,r){return(0,Qi.z)(a=>function pT(n,e,t,i,r,a,u="emptyOnly"){return new mT(n,e,t,i,r,u,a).recognize().pipe(on(f=>null===f?function fT(n){return new _i.y(e=>e.error(n))}(new mh):qe(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,it.U)(u=>({...a,targetSnapshot:u}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),(0,yi.b)(I=>{if(i.targetSnapshot=I.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.router.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.router.setBrowserUrl(P,I)}this.router.browserUrlTree=I.urlAfterRedirects}const A=new cg(I.id,this.router.serializeUrl(I.extractedUrl),this.router.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);t.next(A)}));if(_&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:A,extractedUrl:P,source:V,restoredState:U,extras:Q}=u,ce=new da(A,this.router.serializeUrl(P),V,U);t.next(ce);const Fe=ha(P,this.router.rootComponentType).snapshot;return qe(i={...u,targetSnapshot:Fe,urlAfterRedirects:P,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=u.rawUrl,u.resolve(null),oi.E}),(0,yi.b)(u=>{const f=new io(u.id,this.router.serializeUrl(u.extractedUrl),this.router.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.router.triggerEvent(f)}),(0,it.U)(u=>i={...u,guards:oR(u.targetSnapshot,u.currentSnapshot,this.router.rootContexts)}),function lT(n,e){return(0,Qi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?qe({...t,guardsResult:!0}):function Tw(n,e,t,i){return(0,vn.D)(n).pipe((0,Qi.z)(r=>function xw(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?qe(a.map(f=>{const _=fg(e)??r,w=dh(f,_);return no(function Dw(n){return n&&Yl(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(To())})).pipe(fh()):qe(!0)}(r.component,r.route,t,e,i)),To(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Qi.z)(f=>f&&function Cw(n){return"boolean"==typeof n}(f)?function aR(n,e,t,i){return(0,vn.D)(e).pipe(vs(r=>St(function rp(n,e){return null!==n&&e&&e(new Xi(n)),qe(!0)}(r.route.parent,i),function lR(n,e){return null!==n&&e&&e(new Ya(n)),qe(!0)}(r.route,i),function Sw(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Ew(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>mn(()=>qe(u.guards.map(_=>{const w=fg(u.node)??t,I=dh(_,w);return no(function li(n){return n&&Yl(n.canActivateChild)}(I)?I.canActivateChild(i,n):w.runInContext(()=>I(i,n))).pipe(To())})).pipe(fh())));return qe(a).pipe(fh())}(n,r.path,t),function Ly(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(a=>mn(()=>{const u=fg(e)??t,f=dh(a,u);return no(function sT(n){return n&&Yl(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(To())}));return qe(r).pipe(fh())}(n,r.route,t))),To(r=>!0!==r,!0))}(i,a,n,e):qe(f)),(0,it.U)(f=>({...t,guardsResult:f})))})}(this.router.ngModule.injector,u=>this.router.triggerEvent(u)),(0,yi.b)(u=>{if(i.guardsResult=u.guardsResult,ql(u.guardsResult))throw bu(0,u.guardsResult);const f=new Qf(u.id,this.router.serializeUrl(u.extractedUrl),this.router.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.router.triggerEvent(f)}),Bn(u=>!!u.guardsResult||(this.router.restoreHistory(u),this.router.cancelNavigationTransition(u,"",3),!1)),yg(u=>{if(u.guards.canActivateChecks.length)return qe(u).pipe((0,yi.b)(f=>{const _=new nh(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.router.triggerEvent(_)}),on(f=>{let _=!1;return qe(f).pipe(function yT(n,e){return(0,Qi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return qe(t);let a=0;return(0,vn.D)(r).pipe(vs(u=>function cR(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Hw(r)&&(a[Gd]=r.title),function Uw(n,e,t,i){const r=function vT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return qe({});const a={};return(0,vn.D)(r).pipe((0,Qi.z)(u=>function bT(n,e,t,i){const r=fg(e)??i,a=dh(n,r);return no(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(To(),(0,yi.b)(f=>{a[u]=f}))),$d(1),function Dy(n){return(0,it.U)(()=>n)}(a),la(u=>Fy(u)?oi.E:Ki(u)))}(a,n,e,i).pipe((0,it.U)(u=>(n._resolvedData=u,n.data=p(n,t).resolve,r&&Hw(r)&&(n.data[Gd]=r.title),null)))}(u.route,i,n,e)),(0,yi.b)(()=>a++),$d(1),(0,Qi.z)(u=>a===r.length?qe(t):oi.E))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),(0,yi.b)({next:()=>_=!0,complete:()=>{_||(this.router.restoreHistory(f),this.router.cancelNavigationTransition(f,"",2))}}))}),(0,yi.b)(f=>{const _=new ih(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.router.triggerEvent(_)}))}),yg(u=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.router.configLoader.loadComponent(_.routeConfig).pipe((0,yi.b)(I=>{_.component=I}),(0,it.U)(()=>{})));for(const I of _.children)w.push(...f(I));return w};return re(f(u.targetSnapshot.root)).pipe(Ud(),Yi(1))}),yg(()=>this.router.afterPreactivation()),(0,it.U)(u=>{const f=function Qe(n,e,t){const i=yt(n,e._root,t?t._root:void 0);return new ah(i,e)}(this.router.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,yi.b)(u=>{this.router.currentUrlTree=u.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.router.routerState=u.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(u.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,u),this.router.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(i=>(new ky(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,u=>this.router.triggerEvent(u)),(0,yi.b)({next(){r=!0},complete(){r=!0}}),du(()=>{r||a||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),la(u=>{if(a=!0,ws(u)){lh(u)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const f=new _u(i.id,this.router.serializeUrl(i.extractedUrl),u.message,u.cancellationCode);if(t.next(f),lh(u)){const _=this.router.urlHandlingStrategy.merge(u.url,this.router.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||vg(i.source)};this.router.scheduleNavigation(_,"imperative",null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const f=new th(i.id,this.router.serializeUrl(i.extractedUrl),u,i.targetSnapshot??void 0);t.next(f);try{i.resolve(this.router.errorHandler(u))}catch(_){i.reject(_)}}return oi.E}))}))}}function vg(n){return"imperative"!==n}let jw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Wt);return i}getResolvedTitleForRoute(t){return t.data[Gd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Wy)},providedIn:"root"}),n})(),Wy=(()=>{class n extends jw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ru))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ET)},providedIn:"root"}),n})();class wT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ET=(()=>{class n extends wT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bg=new c.OlP("",{providedIn:"root",factory:()=>({})}),gh=new c.OlP("ROUTES");let Xl=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=no(t.loadComponent()).pipe((0,it.U)(zw),(0,yi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),du(()=>{this.componentLoaders.delete(t)})),r=new dr(i,()=>new _t.x).pipe(ys());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=qd(_.get(gh,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(hg),injector:_}}),du(()=>{this.childrenLoaders.delete(i)})),u=new dr(a,()=>new _t.x).pipe(ys());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return no(t()).pipe((0,it.U)(zw),(0,Qi.z)(r=>r instanceof c.YKP||Array.isArray(r)?qe(r):(0,vn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zw(n){return function el(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(uR)},providedIn:"root"}),n})(),uR=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gw(n){throw n}function dR(n,e,t){return e.parse("/")}const qw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Zw(){const n=(0,c.f3M)(jl),e=(0,c.f3M)(Xa),t=(0,c.f3M)(Te),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(gh,{optional:!0})??[],u=(0,c.f3M)(bg,{optional:!0})??{},f=new wi(null,n,e,t,i,r,qd(a));return function Ww(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,f),f}let wi=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.x,this.errorHandler=Gw,this.malformedUriErrorHandler=dR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>qe(void 0),this.urlHandlingStrategy=(0,c.f3M)(IT),this.routeReuseStrategy=(0,c.f3M)(cp),this.titleStrategy=(0,c.f3M)(jw),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new qy(this),this.configLoader=u.get(Xl),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new rh(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new ug(P)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const A=u.get(c.R0b);this.isNgZoneEnabled=A instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new xo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ha(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(t.state){const f={...t.state};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(hg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),Gf(w,this.currentUrlTree,t,A,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ql(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ST(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...qw}:!1===i?{...hR}:i,ql(t))return Vf(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Vf(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ko(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((P,V)=>{f=P,_=V});const I=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),A=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:I,targetPageId:A,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new _u(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Zw()},providedIn:"root"}),n})();class Ky{}let AT=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof ko),vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,vn.D)(r).pipe((0,st.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):qe(null);const a=r.pipe((0,Qi.z)(u=>null===u?qe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,vn.D)([a,u]).pipe((0,st.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ky),c.LFG(Xl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yy=new c.OlP("");let Qy=(()=>{class n{constructor(t,i,r,a={}){this.router=t,this.viewportScroller=i,this.zone=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof da?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ko&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new bs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Nt(n,e){return{\u0275kind:n,\u0275providers:e}}function Qw(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(wi),r=n.get(Xy);1===n.get(Jy)&&i.initialNavigation(),n.get(kT,null,c.XFs.Optional)?.setUpPreloading(),n.get(Yy,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Xy=new c.OlP("",{factory:()=>new _t.x}),Jy=new c.OlP("",{providedIn:"root",factory:()=>1});const kT=new c.OlP("");function Jw(n){return Nt(0,[{provide:kT,useExisting:AT},{provide:Ky,useExisting:n}])}const Eg=new c.OlP("ROUTER_FORROOT_GUARD"),ev=[Te,{provide:jl,useClass:bi},{provide:wi,useFactory:Zw},Xa,{provide:v,useFactory:function Kw(n){return n.routerState.root},deps:[wi]},Xl,[]];function PT(){return new c.PXZ("Router",wi)}let FT=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[ev,[],{provide:gh,multi:!0,useValue:t},{provide:Eg,useFactory:eE,deps:[[wi,new c.FiY,new c.tp0]]},{provide:bg,useValue:i||{}},i?.useHash?{provide:pe,useClass:Le}:{provide:pe,useClass:Ce},{provide:Yy,useFactory:()=>{const n=(0,c.f3M)(wi),e=(0,c.f3M)(bo),t=(0,c.f3M)(c.R0b),i=(0,c.f3M)(bg);return i.scrollOffset&&e.setOffset(i.scrollOffset),new Qy(n,e,t,i)}},i?.preloadingStrategy?Jw(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:PT},i?.initialNavigation?bR(i):[],[{provide:tE,useFactory:Qw},{provide:c.tb,multi:!0,useExisting:tE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Eg,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[tp]}),n})();function eE(n){return"guarded"}function bR(n){return["disabled"===n.initialNavigation?Nt(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(wi);return()=>{e.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Nt(2,[{provide:Jy,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const a=e.get(wi),u=e.get(Xy);(function i(r){e.get(wi).events.pipe(Bn(u=>u instanceof ko||u instanceof _u||u instanceof th),(0,it.U)(u=>u instanceof ko||u instanceof _u&&(0===u.code||1===u.code)&&null),Bn(u=>null!==u),Yi(1)).subscribe(()=>{r()})})(()=>{r(!0)}),a.afterPreactivation=()=>(r(!0),u.closed?qe(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const tE=new c.OlP("");let up=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Su=(()=>{class n extends up{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Lo=new c.OlP("NgValueAccessor"),BT={provide:Lo,useExisting:(0,c.Gpc)(()=>xu),multi:!0},HT=new c.OlP("CompositionEventMode");let xu=(()=>{class n extends up{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function UT(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(HT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([BT]),c.qOj]}),n})();function tl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tv(n){return null!=n&&"number"==typeof n.length}const Ji=new c.OlP("NgValidators"),Au=new c.OlP("NgAsyncValidators"),nv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qn{static min(e){return function $T(n){return e=>{if(tl(e.value)||tl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Mu(n){return e=>{if(tl(e.value)||tl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return iv(e)}static requiredTrue(e){return function rv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function dp(n){return tl(n.value)||nv.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ro(n){return e=>tl(e.value)||!tv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sv(n){return e=>tv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rE(n){if(!n)return vh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(tl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return zT(e)}static composeAsync(e){return hp(e)}}function iv(n){return tl(n.value)?{required:!0}:null}function vh(n){return null}function fa(n){return null!=n}function Cg(n){return(0,c.QGY)(n)?(0,vn.D)(n):n}function ov(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Dg(n,e){return e.map(t=>t(n))}function av(n){return n.map(e=>function ER(n){return!n.validate}(e)?e:t=>e.validate(t))}function zT(n){if(!n)return null;const e=n.filter(fa);return 0==e.length?null:function(t){return ov(Dg(t,e))}}function bh(n){return null!=n?zT(av(n)):null}function hp(n){if(!n)return null;const e=n.filter(fa);return 0==e.length?null:function(t){return function nE(...n){const e=(0,Ga.jO)(n),{args:t,keys:i}=Ul(n),r=new _i.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let A=!1;(0,ot.Xf)(t[I]).subscribe((0,L.x)(a,P=>{A||(A=!0,w--),f[I]=P},()=>_--,void 0,()=>{(!_||!A)&&(w||a.next(i?M(i,f):f),a.complete())}))}});return e?r.pipe(T(e)):r}(Dg(t,e).map(Cg)).pipe((0,it.U)(ov))}}function fp(n){return null!=n?hp(av(n)):null}function Ig(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Tg(n){return n._rawValidators}function GT(n){return n._rawAsyncValidators}function lv(n){return n?Array.isArray(n)?n:[n]:[]}function Sg(n,e){return Array.isArray(n)?n.includes(e):n===e}function sE(n,e){const t=lv(e);return lv(n).forEach(r=>{Sg(t,r)||t.push(r)}),t}function oE(n,e){return lv(e).filter(t=>!Sg(n,t))}class cv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xr extends cv{get formDirective(){return null}get path(){return null}}class pa extends cv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qT{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xg=(()=>{class n extends qT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pa,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),wh=(()=>{class n extends qT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const so="VALID",pp="INVALID",Eh="PENDING",mp="DISABLED";function Ag(n){return(nl(n)?n.validators:n)||null}function mv(n,e){return(nl(e)?e.asyncValidators:n)||null}function nl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Og(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function Ch(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class Dh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===so}get invalid(){return this.status===pp}get pending(){return this.status==Eh}get disabled(){return this.status===mp}get enabled(){return this.status!==mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oE(e,this._rawAsyncValidators))}hasValidator(e){return Sg(this._rawValidators,e)}hasAsyncValidator(e){return Sg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Eh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=so,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===so||this.status===Eh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mp:so}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Eh,this._hasOwnPendingAsyncValidator=!0;const t=Cg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?mp:this.errors?pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eh)?Eh:this._anyControlsHaveStatus(pp)?pp:so}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function YT(n){return Array.isArray(n)?bh(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Mg(n){return Array.isArray(n)?fp(n):n||null}(this._rawAsyncValidators)}}class Jl extends Dh{constructor(e,t,i){super(Ag(t),mv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ch(this,0,e),Object.keys(e).forEach(i=>{Og(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Rg extends Jl{}const Ru=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ih}),Ih="always";function gp(n,e,t=Ih){Pg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function XT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gv(n,e)})}(n,e),function JT(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Cs(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fE(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _p(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Fg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ng(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pg(n,e){const t=Tg(n);null!==e.validator?n.setValidators(Ig(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=GT(n);null!==e.asyncValidator?n.setAsyncValidators(Ig(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ng(e._rawValidators,r),Ng(e._rawAsyncValidators,r)}function Fg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Tg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=GT(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Ng(e._rawValidators,i),Ng(e._rawAsyncValidators,i),t}function gv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eS(n,e){Pg(n,e)}function Lg(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const oS={provide:Xr,useExisting:(0,c.Gpc)(()=>Jr)},yp=(()=>Promise.resolve())();let Jr=(()=>{class n extends Xr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Jl({},bh(t),fp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yp.then(()=>{const i=this._findContainer(t.path),r=new Jl({});eS(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){yp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Lg(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ji,10),c.Y36(Au,10),c.Y36(Ru,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([oS]),c.qOj]}),n})();function Vg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vo=class extends Dh{constructor(e=null,t,i){super(Ag(t),mv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Th=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ku=new c.OlP("NgModelWithFormControlWarning"),vE={provide:Xr,useExisting:(0,c.Gpc)(()=>ec)};let ec=(()=>{class n extends Xr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return gp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){_p(t.control||null,t,!1),function sS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Lg(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(_p(i||null,t),(n=>n instanceof Vo)(r)&&(gp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);eS(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _v(n,e){return Fg(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pg(this.form,this),this._oldForm&&Fg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ji,10),c.Y36(Au,10),c.Y36(Ru,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([vE]),c.qOj,c.TTD]}),n})();const OR={provide:pa,useExisting:(0,c.Gpc)(()=>Ep)};let Ep=(()=>{class n extends pa{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bv(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===xu?t=a:function rS(n){return Object.getPrototypeOf(n.constructor)===Su}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function vv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Xr,13),c.Y36(Ji,10),c.Y36(Au,10),c.Y36(Lo,10),c.Y36(ku,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([OR]),c.qOj,c.TTD]}),n})(),Pu=(()=>{class n{constructor(){this._validator=vh}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const TE={provide:Ji,useExisting:(0,c.Gpc)(()=>Av),multi:!0};let Av=(()=>{class n extends Pu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>iv}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([TE]),c.qOj]}),n})(),nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Cv]}),n})(),$g=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ru,useValue:t.callSetDisabledState??Ih}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nc]}),n})(),Ds=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ku,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ru,useValue:t.callSetDisabledState??Ih}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nc]}),n})();class zg extends Dh{constructor(e,t,i){super(Ag(t),mv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ch(this,0,e),e.forEach((i,r)=>{Og(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Fu(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ic=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return Fu(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Jl(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Rg(r,i)}control(t,i,r){let a={};return this.useNonNullable?(Fu(i)?a=i:(a.validators=i,a.asyncValidators=r),new Vo(t,{...a,nonNullable:!0})):new Vo(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new zg(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Vo||t instanceof Dh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Ds}),n})();var oo=N(6451),rl=N(5363),AE=N(6063);class ME extends _t.x{constructor(e=1/0,t=1/0,i=AE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var OE=N(3099);function Rv(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,OE.B)({connector:()=>new ME(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kv(n,e){return(0,ki.m)(e)?on(()=>n,e):on(()=>n)}var Gg=N(9468),Ni=N(5813),ao=N(2011);N(5867);var ye=N(5861),rc=N(9681),xh=N(4859),an=N(2090),sc=N(1877);const Kg=new Map,Vv={activated:!1,tokenObservers:[]},LE={initialized:!1,enabled:!1};function er(n){return Kg.get(n)||Object.assign({},Vv)}function Ap(){return LE}class UE{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function HE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Er=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xS(n){if(!er(n).activated)throw Er.create("use-before-activation",{appName:n.name})}function Xg(n,e){return $v.apply(this,arguments)}function $v(){return($v=(0,ye.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(V){throw Er.create("fetch-network-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}if(200!==_.status)throw Er.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(V){throw Er.create("fetch-parse-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const A=1e3*Number(I[1]),P=Date.now();return{token:w.token,expireTimeMillis:P+A,issuedAtTimeMillis:P}})).apply(this,arguments)}function AS(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Op="firebase-app-check-store";let Rp=null;function Lu(){return Rp||(Rp=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Er.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Op,{keyPath:"compositeKey"})}}catch(i){e(Er.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Rp)}function qE(){return(qE=(0,ye.Z)(function*(n,e){const i=(yield Lu()).transaction(Op,"readwrite"),a=i.objectStore(Op).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(Er.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Np=new sc.Yd("@firebase/app-check");function Is(n,e){return(0,an.hl)()?function RS(n,e){return function Gv(n,e){return qE.apply(this,arguments)}(function Bo(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Np.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qv(){return Ap().enabled}function ZE(){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,ye.Z)(function*(){const n=Ap();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const PS={error:"UNKNOWN_ERROR"};function Zv(n){return an.US.encodeString(JSON.stringify(n),!1)}function oc(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,ye.Z)(function*(n,e=!1){const t=n.app;xS(t);const i=er(t);let a,r=i.token;if(r&&!Ah(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(Ah(_)?r=_:yield Is(t,void 0))}if(!e&&r&&Ah(r))return{token:r.token};let f,u=!1;if(qv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Xg(AS(t,yield ZE()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield Is(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield er(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Np.warn(_.message):Np.error(_),a=_}return r?a?f=Ah(r)?{token:r.token,internalError:a}:Xv(a):(f={token:r.token},i.token=r,yield Is(t,r)):f=Xv(a),u&&Pp(t,f),f})).apply(this,arguments)}function Yv(n,e){const t=er(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Qv(n){const{app:e}=n,t=er(e);let i=t.tokenRefresher;i||(i=function KE(n){const{app:e}=n;return new UE((0,ye.Z)(function*(){let i;if(i=er(e).token?yield oc(n,!0):yield oc(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=er(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Pp(n,e){const t=er(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Ah(n){return n.expireTimeMillis-Date.now()>0}function Xv(n){return{token:Zv(PS),error:n}}class YE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=er(this.app);for(const t of e)Yv(this.app,t.next);return Promise.resolve()}}const oC="app-check-internal";!function aC(){(0,rc._registerComponent)(new xh.wA("app-check",n=>function Jv(n,e){return new YE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oC).initialize()})),(0,rc._registerComponent)(new xh.wA(oC,n=>function n_(n){return{getToken:e=>oc(n,e),addTokenListener:e=>function t_(n,e,t,i){const{app:r}=n,a=er(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&Ah(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Qv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Qv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Yv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rc.registerVersion)("@firebase/app-check","0.5.17")}();class r_{constructor(){return(0,Ni.vb)("app-check")}}typeof window<"u"&&window;var cb=N(127);const Tt=new c.OlP("angularfire2.auth.use-emulator"),uC=new c.OlP("angularfire2.auth.settings"),dC=new c.OlP("angularfire2.auth.tenant-id"),hC=new c.OlP("angularfire2.auth.langugage-code"),Vu=new c.OlP("angularfire2.auth.use-device-language"),fC=new c.OlP("angularfire.auth.persistence"),Vp=(n,e,t,i,r,a,u,f)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let ac=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,P,V){const U=new _t.x,Q=qe(void 0).pipe((0,rl.Q)(u.outsideAngular),on(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,1277)))),(0,it.U)(()=>(0,ao.on)(t,a,i)),(0,it.U)(ce=>Vp(ce,a,f,w,I,A,_,P)),Rv({bufferSize:1,refCount:!1}));if(Bc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{Q.pipe(To()).subscribe();const Fe=Q.pipe(on(lt=>lt.getRedirectResult().then(Ot=>Ot,()=>null)),Ni.iC,Rv({bufferSize:1,refCount:!1})),et=Q.pipe(on(lt=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>lt.onAuthStateChanged(Pt=>Ot.next(Pt),Pt=>Ot.error(Pt),()=>Ot.complete()))})))),dt=Q.pipe(on(lt=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>lt.onIdTokenChanged(Pt=>Ot.next(Pt),Pt=>Ot.error(Pt),()=>Ot.complete()))}))));this.authState=Fe.pipe(kv(et),(0,Gg.R)(u.outsideAngular),(0,rl.Q)(u.insideAngular)),this.user=Fe.pipe(kv(dt),(0,Gg.R)(u.outsideAngular),(0,rl.Q)(u.insideAngular)),this.idToken=this.user.pipe(on(lt=>lt?(0,vn.D)(lt.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(on(lt=>lt?(0,vn.D)(lt.getIdTokenResult()):qe(null))),this.credential=(0,oo.T)(Fe,U,this.authState.pipe(Bn(lt=>!lt))).pipe((0,it.U)(lt=>lt?.user?lt:null),(0,Gg.R)(u.outsideAngular),(0,rl.Q)(u.insideAngular))}return(0,ao.pX)(this,Q,a,{spy:{apply:(ce,Fe,et)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&et.then(dt=>U.next(dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ao.Dh),c.LFG(ao.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ni.HU),c.LFG(Tt,8),c.LFG(uC,8),c.LFG(dC,8),c.LFG(hC,8),c.LFG(Vu,8),c.LFG(fC,8),c.LFG(r_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ti=(()=>{class n{constructor(){cb.Z.registerVersion("angularfire",Ni.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ac]}),n})();var ub=N(4986);function o_(){return(0,Nn.e)((n,e)=>{let t,i=!1;n.subscribe((0,L.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function a_(n,e=eo.y){return n=n??qS,(0,Nn.e)((t,i)=>{let r,a=!0;t.subscribe((0,L.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function qS(n,e){return n===e}N(1277);var ft,pC=N(3942),mC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ga={},db=db||{},$t=mC||self;function lc(){}function l_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Oh="closure_uid_"+(1e9*Math.random()>>>0),gC=0;function _C(n,e,t){return n.call.apply(n.bind,arguments)}function yC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Cr(n,e,t){return(Cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_C:yC).apply(null,arguments)}function cc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ci(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function uc(){this.s=this.s,this.o=this.o}uc.prototype.s=!1,uc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ZS(n){Object.prototype.hasOwnProperty.call(n,Oh)&&n[Oh]||(n[Oh]=++gC)}(this)},uc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function c_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function hb(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(l_(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hr.prototype.h=function(){this.defaultPrevented=!0};var YS=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",lc,e),$t.removeEventListener("test",lc,e)}catch{}return n}();function Up(n){return/^[\s\xa0]*$/.test(n)}var bC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function fb(n,e){return n<e?-1:n>e?1:0}function pb(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function sl(n){return-1!=pb().indexOf(n)}function wC(n){return wC[" "](n),n}wC[" "]=lc;var u_,n,EC=sl("Opera"),ol=sl("Trident")||sl("MSIE"),CC=sl("Edge"),mb=CC||ol,gb=sl("Gecko")&&!(-1!=pb().toLowerCase().indexOf("webkit")&&!sl("Edge"))&&!(sl("Trident")||sl("MSIE"))&&!sl("Edge"),Hp=-1!=pb().toLowerCase().indexOf("webkit")&&!sl("Edge");function DC(){var n=$t.document;return n?n.documentMode:void 0}e:{var _b="",yb=(n=pb(),gb?/rv:([^\);]+)(\)|;)/.exec(n):CC?/Edge\/([\d\.]+)/.exec(n):ol?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hp?/WebKit\/(\S+)/.exec(n):EC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yb&&(_b=yb?yb[1]:""),ol){var vb=DC();if(null!=vb&&vb>parseFloat(_b)){u_=String(vb);break e}}u_=_b}var IC={};var XS=$t.document&&ol&&(DC()||parseInt(u_,10))||void 0;function kh(n,e){if(hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gb){e:{try{wC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kh.X.h.call(this)}}ci(kh,hr);var JS={2:"touch",3:"pen",4:"mouse"};kh.prototype.h=function(){kh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),ex=0;function TC(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++ex,this.ba=this.ea=!1}function d_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function jp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function SC(n){const e={};for(const t in n)e[t]=n[t];return e}const wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Eb(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<wb.length;a++)t=wb[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function h_(n){this.src=n,this.g={},this.h=0}function Cb(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=vC(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(d_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Db(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}h_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Db(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new TC(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var $p="closure_lm_"+(1e6*Math.random()|0),Ib={};function Tb(n,e,t,i,r){if(i&&i.once)return AC(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Tb(n,e[a],t,i,r);return null}return t=p_(t),n&&n[Nh]?n.N(e,t,Bp(i)?!!i.capture:!!i,r):xC(n,e,t,!1,i,r)}function xC(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Bp(r)?!!r.capture:!!r,f=xb(n);if(f||(n[$p]=f=new h_(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function tx(){const e=nx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)YS||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function AC(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)AC(n,e[a],t,i,r);return null}return t=p_(t),n&&n[Nh]?n.O(e,t,Bp(i)?!!i.capture:!!i,r):xC(n,e,t,!0,i,r)}function MC(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)MC(n,e[a],t,i,r);else i=Bp(i)?!!i.capture:!!i,t=p_(t),n&&n[Nh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Db(a=n.g[e],t,i,r))&&(d_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=xb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Db(e,t,i,r)),(t=-1<n?e[n]:null)&&Sb(t))}function Sb(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Nh])Cb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=xb(e))?(Cb(t,n),0==t.h&&(t.src=null,e[$p]=null)):d_(n)}}}function OC(n){return n in Ib?Ib[n]:Ib[n]="on"+n}function nx(n,e){if(n.ba)n=!0;else{e=new kh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Sb(n),n=t.call(i,e)}return n}function xb(n){return(n=n[$p])instanceof h_?n:null}var f_="__closure_events_fn_"+(1e9*Math.random()>>>0);function p_(n){return"function"==typeof n?n:(n[f_]||(n[f_]=function(e){return n.handleEvent(e)}),n[f_])}function tr(){uc.call(this),this.i=new h_(this),this.P=this,this.I=null}function fr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new hr(e,n);else if(e instanceof hr)e.target=e.target||n;else{var r=e;Eb(e=new hr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=zp(u,i,!0,e)&&r}if(r=zp(u=e.g=n,i,!0,e)&&r,r=zp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=zp(u=e.g=t[a],i,!1,e)&&r}function zp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&Cb(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}ci(tr,uc),tr.prototype[Nh]=!0,tr.prototype.removeEventListener=function(n,e,t,i){MC(this,n,e,t,i)},tr.prototype.M=function(){if(tr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)d_(t[i]);delete n.g[e],n.h--}}this.I=null},tr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},tr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ab=$t.JSON.stringify;function ix(){var n=kC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ob,m_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Mb,n=>n.reset());class Mb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function RC(n){$t.setTimeout(()=>{throw n},0)}function g_(n,e){Ob||function sx(){var n=$t.Promise.resolve(void 0);Ob=function(){n.then(NC)}}(),Gp||(Ob(),Gp=!0),kC.add(n,e)}var Gp=!1,kC=new class rx{constructor(){this.h=this.g=null}add(e,t){const i=m_.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function NC(){for(var n;n=ix();){try{n.h.call(n.g)}catch(t){RC(t)}var e=m_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Gp=!1}function al(n,e){tr.call(this),this.h=n||1,this.g=e||$t,this.j=Cr(this.lb,this),this.l=Date.now()}function __(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Rb(n,e,t){if("function"==typeof n)t&&(n=Cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function ox(n){n.g=Rb(()=>{n.g=null,n.i&&(n.i=!1,ox(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ci(al,tr),(ft=al.prototype).ca=!1,ft.R=null,ft.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fr(this,"tick"),this.ca&&(__(this),this.start()))}},ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){al.X.M.call(this),__(this),delete this.g};class PC extends uc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ox(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bu(n){uc.call(this),this.h=n,this.g={}}ci(Bu,uc);var FC=[];function y_(n,e,t,i){Array.isArray(t)||(t&&(FC[0]=t.toString()),t=FC);for(var r=0;r<t.length;r++){var a=Tb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function LC(n){jp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sb(e)},n),n.g={}}function qp(){this.g=!0}function Uu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function UC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Ab(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Bu.prototype.M=function(){Bu.X.M.call(this),LC(this)},Bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qp.prototype.Aa=function(){this.g=!1},qp.prototype.info=function(){};var Hu={},HC=null;function v_(){return HC=HC||new tr}function jC(n){hr.call(this,Hu.Pa,n)}function Ph(n){const e=v_();fr(e,new jC(e))}function ax(n,e){hr.call(this,Hu.STAT_EVENT,n),this.stat=e}function Dr(n){const e=v_();fr(e,new ax(e,n))}function $C(n,e){hr.call(this,Hu.Qa,n),this.size=e}function Wp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Hu.Pa="serverreachability",ci(jC,hr),Hu.STAT_EVENT="statevent",ci(ax,hr),Hu.Qa="timingevent",ci($C,hr);var Nb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},lx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Pb(){}function GC(){}Pb.prototype.h=null;var Vb,Zp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fb(){hr.call(this,"d")}function Lb(){hr.call(this,"c")}function b_(){}function Kp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Bu(this),this.O=cx,this.T=new al(n=mb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qC}function qC(){this.i=null,this.g="",this.h=!1}ci(Fb,hr),ci(Lb,hr),ci(b_,Pb),b_.prototype.g=function(){return new XMLHttpRequest},b_.prototype.i=function(){return{}},Vb=new b_;var cx=45e3,Bb={},dc={};function w_(n,e,t){n.K=1,n.v=E_(ll(e)),n.s=t,n.P=!0,Ub(n,null)}function Ub(n,e){n.F=Date.now(),Fh(n),n.A=ll(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),D_(t.i,"t",i),n.C=0,t=n.l.H,n.h=new qC,n.g=n0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new PC(Cr(n.La,n,n.g),n.N)),y_(n.S,n.g,"readystatechange",n.ib),e=n.H?SC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ph(),function kb(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var A=I.split("_");u=2<=A.length&&"type"==A[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Hb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function jb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=WC(n,t),r==dc){4==e&&(n.o=4,Dr(14),i=!1),Uu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Bb){n.o=4,Dr(15),Uu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Uu(n.j,n.m,r,null),zb(n,r)}Hb(n)&&r!=dc&&r!=Bb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Dr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),e0(e),e.K=!0,Dr(11))):(Uu(n.j,n.m,t,"[Invalid Chunked Response]"),ju(n),Lh(n))}function WC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?dc:(t=Number(e.substring(t,i)),isNaN(t)?Bb:(i+=1)+t>e.length?dc:(e=e.substr(i,t),n.C=i+t,e))}function Fh(n){n.V=Date.now()+n.O,ZC(n,n.O)}function ZC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wp(Cr(n.gb,n),e)}function $b(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Lh(n){0==n.l.G||n.I||pD(n.l,n)}function ju(n){$b(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,__(n.T),LC(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||I_(t.h,n)))if(!n.J&&I_(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;k_(t),Qb(t)}fD(t),Dr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Wp(Cr(t.cb,t),6e3));if(1>=iD(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else gc(t,11)}else if((n.J||t.g==n)&&k_(t),!Up(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const I=w[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const A=w[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.J=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.h;a.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Qp(a,a.h),a.h=null))}if(i.D){const Q=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.za=Q,Un(i.F,i.D,Q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=gD(i,i.H?i.ka:null,i.V),u.J){Kb(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&($b(f),Fh(f)),i.g=u}else R_(i);0<t.i.length&&O_(t)}else"stop"!=w[0]&&"close"!=w[0]||gc(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?gc(t,7):sm(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Ph()}catch{}}function Vh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(l_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dx(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(l_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function ux(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(l_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(ft=Kp.prototype).setTimeout=function(n){this.O=n},ft.ib=function(n){n=n.target;const e=this.L;e&&3==cl(n)?e.l():this.La(n)},ft.La=function(n){try{if(n==this.g)e:{const I=cl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||mb||this.g&&(this.h.h||this.g.fa()||dD(this.g)))){this.I||4!=I||7==e||Ph(),$b(this);var t=this.g.aa();this.Y=t;t:if(Hb(this)){var i=dD(this.g);n="";var r=i.length,a=4==cl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ju(this),Lh(this);var u="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function VC(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Up(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Dr(12),ju(this),Lh(this);break e}Uu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zb(this,t)}this.P?(jb(this,I,u),mb&&this.i&&3==I&&(y_(this.S,this.T,"tick",this.hb),this.T.start())):(Uu(this.j,this.m,u,null),zb(this,u)),4==I&&ju(this),this.i&&!this.I&&(4==I?pD(this.l,this):(this.i=!1,Fh(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),ju(this),Lh(this)}}}catch{}},ft.hb=function(){if(this.g){var n=cl(this.g),e=this.g.fa();this.C<e.length&&($b(this),jb(this,n,e),this.i&&4!=n&&Fh(this))}},ft.cancel=function(){this.I=!0,ju(this)},ft.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function BC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ph(),Dr(17)),ju(this),this.o=2,Lh(this)):ZC(this,this.V-n)};var KC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ir(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ir){this.h=void 0!==e?e:n.h,$u(this,n.j),this.s=n.s,this.g=n.g,hc(this,n.m),this.l=n.l,e=n.i;var t=new Yp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),YC(this,t),this.o=n.o}else n&&(t=String(n).match(KC))?(this.h=!!e,$u(this,t[1]||"",!0),this.s=fc(t[2]||""),this.g=fc(t[3]||"",!0),hc(this,t[4]),this.l=fc(t[5]||"",!0),YC(this,t[6]||"",!0),this.o=fc(t[7]||"")):(this.h=!!e,this.i=new Yp(null,this.h))}function ll(n){return new Ir(n)}function $u(n,e,t){n.j=t?fc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YC(n,e,t){e instanceof Yp?(n.i=e,function Wb(n,e){e&&!n.j&&(mc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(fx(this,i),D_(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pc(e,qb)),n.i=new Yp(e,n.h))}function Un(n,e,t){n.i.set(e,t)}function E_(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ir.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pc(e,QC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pc(e,QC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pc(t,"/"==t.charAt(0)?JC:XC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pc(t,eD)),n.join("")};var QC=/[#\/\?@]/g,XC=/[#\?:]/g,JC=/[#\?]/g,qb=/[#\?@]/g,eD=/#/g;function Yp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fx(n,e){mc(n),e=zu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function C_(n,e){return mc(n),e=zu(n,e),n.g.has(e)}function D_(n,e,t){fx(n,e),0<t.length&&(n.i=null,n.g.set(zu(n,e),c_(t)),n.h+=t.length)}function zu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tD(n){this.l=n||px,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Yp.prototype).add=function(n,e){mc(this),this.i=null,n=zu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){mc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ft.oa=function(){mc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},ft.W=function(n){mc(this);let e=[];if("string"==typeof n)C_(this,n)&&(e=e.concat(this.g.get(zu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return mc(this),this.i=null,C_(this,n=zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var px=10;function nD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iD(n){return n.h?1:n.g?n.g.size:0}function I_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Qp(n,e){n.g?n.g.add(e):n.h=e}function Kb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Yb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return c_(n.i)}function T_(){}function rD(){this.g=new T_}function mx(n,e,t){const i=t||"";try{Vh(n,function(r,a){let u=r;Bp(r)&&(u=Ab(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Xp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Jp(n){this.l=n.ac||null,this.j=n.jb||!1}function em(n,e){tr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=S_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tD.prototype.cancel=function(){if(this.i=Yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},T_.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},T_.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},ci(Jp,Pb),Jp.prototype.g=function(){return new em(this.l,this.j)},Jp.prototype.i=function(n){return function(){return n}}({}),ci(em,tr);var S_=0;function Tr(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _a(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tm(n)}function tm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=em.prototype).open=function(n,e){if(this.readyState!=S_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tm(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_a(this)),this.readyState=S_},ft.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tm(this)),this.g&&(this.readyState=3,tm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tr(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ft.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_a(this):tm(this),3==this.readyState&&Tr(this)}},ft.Va=function(n){this.g&&(this.response=this.responseText=n,_a(this))},ft.Ua=function(n){this.g&&(this.response=n,_a(this))},ft.ga=function(){this.g&&_a(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(em.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gx=$t.JSON.parse;function ui(n){tr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_x,this.K=this.L=!1}ci(ui,tr);var _x="",oD=/^https?$/i,aD=["POST","PUT"];function lD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,x_(n),im(n)}function x_(n){n.D||(n.D=!0,fr(n,"complete"),fr(n,"error"))}function cD(n){if(n.h&&typeof db<"u"&&(!n.C[1]||4!=cl(n)||2!=n.aa()))if(n.v&&4==cl(n))Rb(n.Ha,0,n);else if(fr(n,"readystatechange"),4==cl(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(KC)[1]||null;if(!r&&$t.self&&$t.self.location){var a=$t.self.location.protocol;r=a.substr(0,a.length-1)}i=!oD.test(r?r.toLowerCase():"")}t=i}if(t)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var u=2<cl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",x_(n)}}finally{im(n)}}}function im(n,e){if(n.g){uD(n);const t=n.g,i=n.C[0]?lc:null;n.g=null,n.C=null,e||fr(n,"ready");try{t.onreadystatechange=i}catch{}}}function uD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function cl(n){return n.g?n.g.readyState:0}function dD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _x:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function A_(n){let e="";return jp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function M_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=A_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function Bh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rm(n){this.Ca=0,this.i=[],this.j=new qp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bh("baseRetryDelayMs",5e3,n),this.bb=Bh("retryDelaySeedMs",1e4,n),this.$a=Bh("forwardChannelMaxRetries",2,n),this.ta=Bh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new tD(n&&n.concurrentRequestLimit),this.Fa=new rD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function sm(n){if(Xb(n),3==n.G){var e=n.U++,t=ll(n.F);Un(t,"SID",n.I),Un(t,"RID",e),Un(t,"TYPE","terminate"),om(n,t),(e=new Kp(n,n.j,e,void 0)).K=2,e.v=E_(ll(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=n0(e.l,null),e.g.da(e.v)),e.F=Date.now(),Fh(e)}t0(n)}function Qb(n){n.g&&(e0(n),n.g.cancel(),n.g=null)}function Xb(n){Qb(n),n.u&&($t.clearTimeout(n.u),n.u=null),k_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function O_(n){nD(n.h)||n.m||(n.m=!0,g_(n.Ja,n),n.C=0)}function Gu(n,e){var t;t=e?e.m:n.U++;const i=ll(n.F);Un(i,"SID",n.I),Un(i,"RID",t),Un(i,"AID",n.T),om(n,i),n.o&&n.s&&M_(i,n.o,n.s),t=new Kp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Jb(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Qp(n.h,t),w_(t,i,e)}function om(n,e){n.ia&&jp(n.ia,function(t,i){Un(e,i,t)}),n.l&&Vh({},function(t,i){Un(e,i,t)})}function Jb(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Cr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const I=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{mx(I,u,"req"+w+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function R_(n){n.g||n.u||(n.Z=1,g_(n.Ia,n),n.A=0)}function fD(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Wp(Cr(n.Ia,n),mD(n,n.A)),n.A++,0))}function e0(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function yx(n){n.g=new Kp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ll(n.sa);Un(e,"RID","rpc"),Un(e,"SID",n.I),Un(e,"CI",n.L?"0":"1"),Un(e,"AID",n.T),Un(e,"TYPE","xmlhttp"),om(n,e),n.o&&n.s&&M_(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=E_(ll(e)),t.s=null,t.P=!0,Ub(t,n)}function k_(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function pD(n,e){var t=null;if(n.g==e){k_(n),e0(n),n.g=null;var i=2}else{if(!I_(n.h,e))return;t=e.D,Kb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;fr(i=v_(),new $C(i,t)),O_(n)}else R_(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function hD(n,e){return!(iD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Wp(Cr(n.Ja,n,e),mD(n,n.C)),n.C++,0)))}(n,e)||2==i&&fD(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:gc(n,5);break;case 4:gc(n,10);break;case 3:gc(n,6);break;default:gc(n,2)}}function mD(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function gc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Cr(n.kb,n);t||(t=new Ir("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||$u(t,"https"),E_(t)),function sD(n,e){const t=new qp;if($t.Image){const i=new Image;i.onload=cc(Xp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=cc(Xp,t,i,"TestLoadImage: error",!1,e),i.onabort=cc(Xp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=cc(Xp,t,i,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Dr(2);n.G=0,n.l&&n.l.va(e),t0(n),Xb(n)}function t0(n){if(n.G=0,n.la=[],n.l){const e=Yb(n.h);(0!=e.length||0!=n.i.length)&&(hb(n.la,e),hb(n.la,n.i),n.h.i.length=0,c_(n.i),n.i.length=0),n.l.ua()}}function gD(n,e,t){var i=t instanceof Ir?ll(t):new Ir(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),hc(i,i.m);else{var r=$t.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Ir(null,void 0);i&&$u(a,i),e&&(a.g=e),r&&hc(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Un(i,t,e),Un(i,"VER",n.ma),om(n,i),i}function n0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(t&&n.Da&&!n.ra?new Jp({jb:!0}):n.ra)).Ka(n.H),e}function r0(){}function N_(){if(ol&&!(10<=Number(XS)))throw Error("Environmental error: no available transport.")}function Ts(n,e){tr.call(this),this.g=new rm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Up(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Up(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qu(this)}function s0(n){Fb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _D(){Lb.call(this),this.status=1}function qu(n){this.g=n}(ft=ui.prototype).Ka=function(n){this.L=n},ft.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vb.g(),this.C=function zC(n){return n.h||(n.h=n.i())}(this.u?this.u:Vb),this.g.onreadystatechange=Cr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void lD(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=$t.FormData&&n instanceof $t.FormData,!(0<=vC(aD,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uD(this),0<this.B&&((this.K=function nm(n){return ol&&function QS(){return function HR(n){var e=IC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=bC(String(u_)).split("."),t=bC("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=fb(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||fb(0==r[2].length,0==a[2].length)||fb(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cr(this.qa,this)):this.A=Rb(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){lD(this,a)}},ft.qa=function(){typeof db<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),im(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),im(this,!0)),ui.X.M.call(this)},ft.Ha=function(){this.s||(this.F||this.v||this.l?cD(this):this.fb())},ft.fb=function(){cD(this)},ft.aa=function(){try{return 2<cl(this)?this.g.status:-1}catch{return-1}},ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gx(e)}},ft.Ea=function(){return this.m},ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=rm.prototype).ma=8,ft.G=1,ft.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Kp(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=SC(a),Eb(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Jb(this,r,e),Un(t=ll(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),om(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(A_(a)))+"&"+e:this.o&&M_(t,this.o,a)),Qp(this.h,r),this.Ya&&Un(t,"TYPE","init"),this.O?(Un(t,"$req",e),Un(t,"SID","null"),r.Z=!0,w_(r,t,null)):w_(r,t,e),this.G=2}}else 3==this.G&&(n?Gu(this,n):0==this.i.length||nD(this.h)||Gu(this))},ft.Ia=function(){if(this.u=null,yx(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Wp(Cr(this.eb,this),n)}},ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dr(10),Qb(this),yx(this))},ft.cb=function(){null!=this.v&&(this.v=null,Qb(this),fD(this),Dr(19))},ft.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))},(ft=r0.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Ra=function(){},N_.prototype.g=function(n,e){return new Ts(n,e)},ci(Ts,tr),Ts.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Dr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gD(n,null,n.V),O_(n)},Ts.prototype.close=function(){sm(this.g)},Ts.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ab(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&O_(e)},Ts.prototype.M=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,Ts.X.M.call(this)},ci(s0,Fb),ci(_D,Lb),ci(qu,r0),qu.prototype.xa=function(){fr(this.g,"a")},qu.prototype.wa=function(n){fr(this.g,new s0(n))},qu.prototype.va=function(n){fr(this.g,new _D)},qu.prototype.ua=function(){fr(this.g,"b")},N_.prototype.createWebChannel=N_.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,Nb.NO_ERROR=0,Nb.TIMEOUT=8,Nb.HTTP_ERROR=6,lx.COMPLETE="complete",GC.EventType=Zp,Zp.OPEN="a",Zp.CLOSE="b",Zp.ERROR="c",Zp.MESSAGE="d",tr.prototype.listen=tr.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.Oa,ui.prototype.getLastErrorCode=ui.prototype.Ea,ui.prototype.getStatus=ui.prototype.aa,ui.prototype.getResponseJson=ui.prototype.Sa,ui.prototype.getResponseText=ui.prototype.fa,ui.prototype.send=ui.prototype.da,ui.prototype.setWithCredentials=ui.prototype.Ka;var yD=ga.createWebChannelTransport=function(){return new N_},vD=ga.getStatEventTarget=function(){return v_()},P_=ga.ErrorCode=Nb,vx=ga.EventType=lx,bx=ga.Event=Hu,wx=ga.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bD=ga.FetchXmlHttpFactory=Jp,o0=ga.WebChannel=GC,jR=ga.XhrIo=ui;const Ex="@firebase/firestore";class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let am="9.14.0";const Wu=new sc.Yd("@firebase/firestore");function wD(){return Wu.logLevel}function Re(n,...e){if(Wu.logLevel<=sc.in.DEBUG){const t=e.map(Uh);Wu.debug(`Firestore (${am}): ${n}`,...t)}}function Ei(n,...e){if(Wu.logLevel<=sc.in.ERROR){const t=e.map(Uh);Wu.error(`Firestore (${am}): ${n}`,...t)}}function _c(n,...e){if(Wu.logLevel<=sc.in.WARN){const t=e.map(Uh);Wu.warn(`Firestore (${am}): ${n}`,...t)}}function Uh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${am}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function At(n,e){n||rt()}function We(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}}class Ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tx{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ci,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ci)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new Cx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new pr(e)}}class F_{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Sx{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new F_(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.A=t.token,new xx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ax(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ED{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Ax(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function lm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function CD(n){return n+"\0"}class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Pn(0,0))}static max(){return new Mt(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class L_{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===L_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof L_?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends L_{construct(e,t,i){return new Gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const Mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends L_{construct(e,t,i){return new Hn(e,t,i)}static isValidIdentifier(e){return Mx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Gt.fromString(e))}static fromName(e){return new Ze(Gt.fromString(e).popFirst(5))}static empty(){return new Ze(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Gt(e.slice()))}}class a0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function es(n){return n.fields.find(e=>2===e.kind)}function Zu(n){return n.fields.filter(e=>2!==e.kind)}a0.UNKNOWN_ID=-1;class V_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ku{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ku(0,Ss.min())}}function c0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===i?new Pn(t+1,0):new Pn(t,i));return new Ss(r,Ze.empty(),e)}function u0(n){return new Ss(n.readTime,n.key,-1)}class Ss{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ss(Mt.min(),Ze.empty(),-1)}static max(){return new Ss(Mt.max(),Ze.empty(),-1)}}function B_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const d0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ul(n){return h0.apply(this,arguments)}function h0(){return h0=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==d0)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),h0.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(r=>r?oe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new oe((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Ho{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ci,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new xs(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=p0(i.target.error);this.P.reject(new xs(e,r))}}static open(e,t,i,r){try{return new Ho(t,e.transaction(r,i))}catch(a){throw new xs(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qR(t)}}class co{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===co.D((0,an.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Yu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,an.hl)())return!1;if(co.N())return!0;const e=(0,an.z$)(),t=co.D(e),i=0<t&&t<10,r=co.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new xs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Oe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new xs(e,f))},a.onupgradeneeded=u=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=Ho.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),oe.reject(I))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Re("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class f0{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Yu(this.U.delete())}}class xs extends Oe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yc(n){return"IndexedDbTransactionError"===n.name}class qR{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Yu(i)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Yu(this.store.add(e))}get(e){return Yu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Yu(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Yu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new oe((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new oe((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new oe((i,r)=>{t.onerror=a=>{const u=p0(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new oe((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new f0(f),w=t(f.primaryKey,f.value,_);if(w instanceof oe){const I=w.catch(A=>(_.done(),oe.reject(A)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>oe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yu(n){return new oe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=p0(i.target.error);t(r)}})}let ID=!1;function p0(n){const e=co.D((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ID||(ID=!0,setTimeout(()=>{throw i},0)),i}}return n}class Rx{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){yc(i)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ul(i)}yield t.nt(6e4)}))}}class TD{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return oe.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Re("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(f=>(Re("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=u0(a);B_(u,i)>0&&(i=u)}),new Ss(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class As{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function m0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}As.at=-1;class di{constructor(e,t){this.comparator=e,this.root=t||nr.EMPTY}insert(e,t){return new di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??nr.RED,this.left=r??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new nr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1,nr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xu(n){return n.hasNext()?n.getNext():void 0}class ts{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new ts([])}unionWith(e){let t=new bn(Hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ni(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const SD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vc(n){if(At(!!n),"string"==typeof n){let e=0;const t=SD.exec(n);if(At(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ii(n.seconds),nanos:ii(n.nanos)}}function ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jh(n){return"string"==typeof n?ni.fromBase64String(n):ni.fromUint8Array(n)}function xD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kx(n){const e=n.mapValue.fields.__previous_value__;return xD(e)?kx(e):e}function $h(n){const e=vc(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}class Nx{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class bc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}function cm(n){return null==n}function H_(n){return 0===n&&1/n==-1/0}function Px(n){return"number"==typeof n&&Number.isInteger(n)&&!H_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},y0={nullValue:"NULL_VALUE"};function zh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xD(n)?4:Fx(n)?9007199254740991:10:rt()}function ya(n,e){if(n===e)return!0;const t=zh(n);if(t!==zh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $h(n).isEqual($h(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=vc(i.timestampValue),u=vc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,jh(n.bytesValue).isEqual(jh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ii(i.geoPointValue.latitude)===ii(r.geoPointValue.latitude)&&ii(i.geoPointValue.longitude)===ii(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ii(i.integerValue)===ii(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ii(i.doubleValue),u=ii(r.doubleValue);return a===u?H_(a)===H_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return lm(n.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(m0(a)!==m0(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ya(a[f],u[f])))return!1;return!0}(n,e);default:return rt()}var r}function wc(n,e){return void 0!==(n.values||[]).find(t=>ya(t,e))}function Ec(n,e){if(n===e)return 0;const t=zh(n),i=zh(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=ii(r.integerValue||r.doubleValue),f=ii(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return AD(n.timestampValue,e.timestampValue);case 4:return AD($h(n),$h(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=jh(r),f=jh(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=zt(u[_],f[_]);if(0!==w)return w}return zt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=zt(ii(r.latitude),ii(a.latitude));return 0!==u?u:zt(ii(r.longitude),ii(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=Ec(u[_],f[_]);if(w)return w}return zt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Ju.mapValue&&a===Ju.mapValue)return 0;if(r===Ju.mapValue)return 1;if(a===Ju.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const A=zt(f[I],w[I]);if(0!==A)return A;const P=Ec(u[f[I]],_[w[I]]);if(0!==P)return P}return zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw rt()}}function AD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=vc(n),i=vc(e),r=zt(t.seconds,i.seconds);return 0!==r?r:zt(t.nanos,i.nanos)}function ed(n){return dl(n)}function dl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=vc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jh(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=dl(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${dl(i.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function Cc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function um(n){return!!n&&"integerValue"in n}function td(n){return!!n&&"arrayValue"in n}function MD(n){return!!n&&"nullValue"in n}function j_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gh(n){return!!n&&"mapValue"in n}function Dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Dc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WR(n){return"nullValue"in n?y0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cc(bc.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function ZR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cc(bc.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ju:rt()}function Lx(n,e){const t=Ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function v0(n,e){const t=Ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(t)}setAll(e){let t=Hn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Dc(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Gh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Qu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new mr(Dc(this.value))}}function OD(n){const e=[];return Qu(n.fields,(t,i)=>{const r=new Hn([t]);if(Gh(i)){const a=OD(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new ts(e)}class An{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new An(e,0,Mt.min(),Mt.min(),mr.empty(),0)}static newFoundDocument(e,t,i){return new An(e,1,t,Mt.min(),i,0)}static newNoDocument(e,t){return new An(e,2,t,Mt.min(),mr.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Mt.min(),mr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vx{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function b0(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Vx(n,e,t,i,r,a,u)}function Ic(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ed(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ed(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ed(i)).join(",")),e.ht=t}return e.ht}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!YR(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ya(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wx(n.startAt,e.startAt)&&Wx(n.endAt,e.endAt)}function $_(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hm(n,e){return n.filters.filter(t=>t instanceof ir&&t.field.isEqual(e))}function z_(n,e,t){let i=y0,r=!0;for(const a of hm(n,e)){let u=y0,f=!0;switch(a.op){case"<":case"<=":u=WR(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=y0}Lx({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Lx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Bx(n,e,t){let i=Ju,r=!0;for(const a of hm(n,e)){let u=Ju,f=!0;switch(a.op){case">=":case">":u=ZR(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ju}v0({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];v0({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class ir extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new w0(e,t,i):"array-contains"===t?new KR(e,i):"in"===t?new $x(e,i):"not-in"===t?new zx(e,i):"array-contains-any"===t?new Gx(e,i):new ir(e,t,i)}static lt(e,t,i){return"in"===t?new Ux(e,i):new Hx(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ec(t,this.value)):null!==t&&zh(this.value)===zh(t)&&this.ft(Ec(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class w0 extends ir{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.ft(t)}}class Ux extends ir{constructor(e,t){super(e,"in",t),this.keys=jx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hx extends ir{constructor(e,t){super(e,"not-in",t),this.keys=jx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class KR extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return td(t)&&wc(t.arrayValue,this.value)}}class $x extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wc(this.value.arrayValue,t)}}class zx extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wc(this.value.arrayValue,t)}}class Gx extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!td(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wc(this.value.arrayValue,i))}}class nd{constructor(e,t){this.position=e,this.inclusive=t}}class fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function YR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qx(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):Ec(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Wx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ya(n.position[t],e.position[t]))return!1;return!0}class hl{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function Zx(n,e,t,i,r,a,u,f){return new hl(n,e,t,i,r,a,u,f)}function pm(n){return new hl(n)}function Kx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ND(n){for(const e of n.filters)if(e.dt())return e.field;return null}function PD(n){return null!==n.collectionGroup}function s(n){const e=We(n);if(null===e._t){e._t=[];const t=ND(e),i=kD(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new fm(t)),e._t.push(new fm(Hn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fm(Hn.keyField(),a))}}}return e._t}function o(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=b0(e.path,e.collectionGroup,s(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of s(e))t.push(new fm(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new nd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nd(e.startAt.position,e.startAt.inclusive):null;e.wt=b0(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function l(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function d(n,e){return dm(o(n),o(e))&&n.limitType===e.limitType}function h(n){return`${Ic(o(n))}|lt:${n.limitType}`}function m(n){return`Query(target=${function RD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${ed(i.value)}`;var i}).join(", ")}]`),cm(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ed(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ed(t)).join(",")),`Target(${e})`}(o(n))}; limitType=${n.limitType})`}function y(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=qx(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,s(t),i)||t.endAt&&!function(r,a,u){const f=qx(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,s(t),i)));var t,i}function E(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C(n){return(e,t)=>{let i=!1;for(const r of s(n)){const a=S(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function S(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Ec(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}function O(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H_(e)?"-0":e}}function F(n){return{integerValue:""+n}}function q(n,e){return Px(e)?F(e):O(n,e)}class J{constructor(){this._=void 0}}function _e(n,e,t){return n instanceof Ye?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof ut?Ae(n,e):n instanceof Et?wn(n,e):function(i,r){const a=ze(i,r),u=mm(a)+mm(i.yt);return um(a)&&um(i.yt)?F(u):O(i.It,u)}(n,e)}function Pe(n,e,t){return n instanceof ut?Ae(n,e):n instanceof Et?wn(n,e):t}function ze(n,e){return n instanceof gn?um(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ye extends J{}class ut extends J{constructor(e){super(),this.elements=e}}function Ae(n,e){const t=G_(e);for(const i of n.elements)t.some(r=>ya(r,i))||t.push(i);return{arrayValue:{values:t}}}class Et extends J{constructor(e){super(),this.elements=e}}function wn(n,e){let t=G_(e);for(const i of n.elements)t=t.filter(r=>!ya(r,i));return{arrayValue:{values:t}}}class gn extends J{constructor(e,t){super(),this.It=e,this.yt=t}}function mm(n){return ii(n.integerValue||n.doubleValue)}function G_(n){return td(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class id{constructor(e,t){this.field=e,this.transform=t}}class C0{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wh{}function q_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Z_(n.key,Mn.none()):new W_(n.key,n.data,Mn.none());{const t=n.data,i=mr.empty();let r=new bn(Hn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new rd(n.key,i,new ts(r.toArray()),Mn.none())}}function D0(n,e,t){n instanceof W_?function(i,r,a){const u=i.value.clone(),f=JR(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof rd?function(i,r,a){if(!qh(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=JR(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(XR(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gm(n,e,t,i){return n instanceof W_?function(r,a,u,f){if(!qh(r.precondition,a))return u;const _=r.value.clone(),w=ek(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof rd?function(r,a,u,f){if(!qh(r.precondition,a))return u;const _=ek(r.fieldTransforms,f,a),w=a.data;return w.setAll(XR(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,qh(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function _L(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=ze(i.transform,r||null);null!=a&&(null===t&&(t=mr.empty()),t.set(i.field,a))}return t||null}function QR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&lm(t,i,(r,a)=>function E0(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ut&&i instanceof ut||t instanceof Et&&i instanceof Et?lm(t.elements,i.elements,ya):t instanceof gn&&i instanceof gn?ya(t.yt,i.yt):t instanceof Ye&&i instanceof Ye);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class W_ extends Wh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rd extends Wh{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function JR(n,e,t){const i=new Map;At(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,Pe(u,f,t[r]))}return i}function ek(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,_e(a,u,e))}return i}class Z_ extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yL{constructor(e){this.count=e}}var rr,dn;function tk(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function nk(n){if(void 0===n)return Ei("GRPC error has no .code"),de.UNKNOWN;switch(n){case rr.OK:return de.OK;case rr.CANCELLED:return de.CANCELLED;case rr.UNKNOWN:return de.UNKNOWN;case rr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case rr.INTERNAL:return de.INTERNAL;case rr.UNAVAILABLE:return de.UNAVAILABLE;case rr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case rr.NOT_FOUND:return de.NOT_FOUND;case rr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case rr.ABORTED:return de.ABORTED;case rr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case rr.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(dn=rr||(rr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Zh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}const vL=new di(Ze.comparator);function uo(){return vL}const ik=new di(Ze.comparator);function I0(...n){let e=ik;for(const t of n)e=e.insert(t.key,t);return e}function rk(n){let e=ik;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Tc(){return T0()}function sk(){return T0()}function T0(){return new Zh(n=>n.toString(),(n,e)=>n.isEqual(e))}const bL=new di(Ze.comparator),wL=new bn(Ze.comparator);function Kt(...n){let e=wL;for(const t of n)e=e.add(t);return e}const EL=new bn(zt);function FD(){return EL}class S0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,x0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new S0(Mt.min(),r,FD(),uo(),Kt())}}class x0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new x0(i,t,Kt(),Kt(),Kt())}}class LD{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class ok{constructor(e,t){this.targetId=e,this.At=t}}class ak{constructor(e,t,i=ni.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class lk{constructor(){this.Rt=0,this.bt=uk(),this.Pt=ni.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Kt(),t=Kt(),i=Kt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new x0(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=uk()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class CL{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=uo(),this.qt=ck(),this.Kt=new bn(zt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if($_(a))if(0===i){const u=new Ze(a.path);this.jt(t,u,An.newNoDocument(u,Mt.min()))}else At(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&$_(f.target)){const _=new Ze(f.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,An.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=Kt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new S0(e,t,this.Kt,this.Ut,i);return this.Ut=uo(),this.qt=ck(),this.Kt=new bn(zt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new lk,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new bn(zt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new lk),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ck(){return new di(Ze.comparator)}function uk(){return new di(Ze.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},IL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TL{constructor(e,t){this.databaseId=e,this.gt=t}}function A0(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dk(n,e){return n.gt?e.toBase64():e.toUint8Array()}function SL(n,e){return A0(n,e.toTimestamp())}function Sr(n){return At(!!n),Mt.fromTimestamp(function(e){const t=vc(e);return new Pn(t.seconds,t.nanos)}(n))}function Qx(n,e){return(t=n,new Gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hk(n){const e=Gt.fromString(n);return At(bk(e)),e}function M0(n,e){return Qx(n.databaseId,e.path)}function Sc(n,e){const t=hk(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(pk(t))}function Xx(n,e){return Qx(n.databaseId,e)}function fk(n){const e=hk(n);return 4===e.length?Gt.emptyPath():pk(e)}function O0(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pk(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mk(n,e,t){return{name:M0(n,e),fields:t.value.mapValue.fields}}function gk(n,e,t){const i=Sc(n,e.name),r=Sr(e.updateTime),a=new mr({mapValue:{fields:e.fields}}),u=An.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function R0(n,e){let t;if(e instanceof W_)t={update:mk(n,e.key,e.value)};else if(e instanceof Z_)t={delete:M0(n,e.key)};else if(e instanceof rd)t={update:mk(n,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof Yx))return rt();t={verify:M0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Ye)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ut)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Et)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gn)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:SL(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function Jx(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Mn.updateTime(Sr(r.updateTime)):void 0!==r.exists?Mn.exists(r.exists):Mn.none():Mn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(At("REQUEST_TIME"===u.setToServerValue),f=new Ye):"appendMissingElements"in u?f=new ut(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Et(u.removeAllFromArray.values||[]):"increment"in u?f=new gn(a,u.increment):rt();const _=Hn.fromServerFormat(u.fieldPath);return new id(_,f)}(n,r)):[];var r;if(e.update){const r=Sc(n,e.update.name),a=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new ts((e.updateMask.fieldPaths||[]).map(w=>Hn.fromServerFormat(w)));return new rd(r,a,u,t,i)}return new W_(r,a,t,i)}if(e.delete){const r=Sc(n,e.delete);return new Z_(r,t)}if(e.verify){const r=Sc(n,e.verify);return new Yx(r,t)}return rt()}function _k(n,e){return{documents:[Xx(n,e.path)]}}function eA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Xx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(I=>function(A){if("=="===A.op){if(j_(A.value))return{unaryFilter:{field:K_(A.field),op:"IS_NAN"}};if(MD(A.value))return{unaryFilter:{field:K_(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(j_(A.value))return{unaryFilter:{field:K_(A.field),op:"IS_NOT_NAN"}};if(MD(A.value))return{unaryFilter:{field:K_(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:K_(A.field),op:kL(A.op),value:A.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:K_((I=w).field),direction:RL(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.gt||cm(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function yk(n){let e=fk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){At(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=vk(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new fm(Y_((A=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(I){let A;return A="object"==typeof I?I.value:I,cm(A)?null:A}(t.limit));let _=null;var I;t.startAt&&(_=new nd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new nd(I.values||[],!I.before)}(t.endAt)),Zx(e,r,u,a,f,"F",_,w)}function vk(n){return n?void 0!==n.unaryFilter?[PL(n)]:void 0!==n.fieldFilter?[NL(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>vk(e)).reduce((e,t)=>e.concat(t)):rt():[]}function RL(n){return DL[n]}function kL(n){return IL[n]}function K_(n){return{fieldPath:n.canonicalString()}}function Y_(n){return Hn.fromServerFormat(n.fieldPath)}function NL(n){return ir.create(Y_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function PL(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Y_(n.unaryFilter.field);return ir.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Y_(n.unaryFilter.field);return ir.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Y_(n.unaryFilter.field);return ir.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Y_(n.unaryFilter.field);return ir.create(r,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function FL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wk(e)),e=LL(n.get(t),e);return wk(e)}function LL(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function wk(n){return n+"\x01\x01"}function xc(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gt.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:rt()}a=u+2}return new Gt(i)}const Ek=["userId","batchId"];function VD(n,e){return[n,Ms(e)]}function Ck(n,e,t){return[n,Ms(e),t]}const VL={},BL=["prefixPath","collectionGroup","readTime","documentId"],UL=["prefixPath","collectionGroup","documentId"],HL=["collectionGroup","readTime","prefixPath","documentId"],jL=["canonicalId","targetId"],$L=["targetId","path"],zL=["path","targetId"],GL=["collectionId","parent"],qL=["indexId","uid"],WL=["uid","sequenceNumber"],ZL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KL=["indexId","uid","orderedDocumentKey"],YL=["userId","collectionPath","documentId"],QL=["userId","collectionPath","largestBatchId"],XL=["userId","collectionGroup","largestBatchId"],Dk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JL=[...Dk,"documentOverlays"],Ik=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tk=Ik,eV=[...Tk,"indexConfiguration","indexState","indexEntries"];class tA extends DD{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function xr(n,e){const t=We(n);return co.M(t.ie,e)}class nA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&D0(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=sk();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=q_(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&lm(this.mutations,e.mutations,(t,i)=>QR(t,i))&&lm(this.baseMutations,e.baseMutations,(t,i)=>QR(t,i))}}class iA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){At(e.mutations.length===i.length);let r=bL;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new iA(e,t,i,r)}}class rA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kh{constructor(e,t,i,r,a=Mt.min(),u=Mt.min(),f=ni.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sk{constructor(e){this.re=e}}function xk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:BD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:M0(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:A0(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:_m(e.version)};else{if(!e.isUnknownDocument())return rt();i.unknownDocument={path:t.path.toArray(),version:_m(e.version)}}var r,a;return i}function BD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _m(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ym(n){const e=new Pn(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function vm(n,e){const t=(e.baseMutations||[]).map(a=>Jx(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>Jx(n.re,a)),r=Pn.fromMillis(e.localWriteTimeMs);return new nA(e.batchId,r,t,i)}function k0(n){const e=ym(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ym(n.lastLimboFreeSnapshotVersion):Mt.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=o(pm(fk(r.documents[0])))):i=o(yk(n.query)),new Kh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ni.fromBase64String(n.resumeToken))}function Ak(n,e){const t=_m(e.snapshotVersion),i=_m(e.lastLimboFreeSnapshotVersion);let r;r=$_(e.target)?_k(n.re,e.target):eA(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ic(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function sA(n){const e=yk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?l(e,e.limit,"L"):e}function oA(n,e){return new rA(e.largestBatchId,Jx(n.re,e.overlayMutation))}function Mk(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}function Ok(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:_m(i.readTime),documentKey:Ms(i.documentKey.path),largestBatchId:i.largestBatchId}}class nV{getBundleMetadata(e,t){return Rk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ym(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Rk(e).put({bundleId:(i=t).id,createTime:_m(Sr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return kk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:sA(r.bundledQuery),readTime:ym(r.readTime)};var r})}saveNamedQuery(e,t){return kk(e).put({name:(i=t).name,readTime:_m(Sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Rk(n){return xr(n,"bundles")}function kk(n){return xr(n,"namedQueries")}class UD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new UD(e,t.uid||"")}getOverlay(e,t){return N0(e).get(Mk(this.userId,t)).next(i=>i?oA(this.It,i):null)}getOverlays(e,t){const i=Tc();return oe.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new rA(t,u);r.push(this.ue(e,f))}),oe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Ms(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(N0(e).Y("collectionPathOverlayIndex",f))}),oe.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Tc(),a=Ms(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return N0(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=oA(this.It,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Tc();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return N0(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const A=oA(this.It,w);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return N0(e).put(function(i,r,a){const[u,f,_]=Mk(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:R0(i.re,a.mutation)}}(this.It,this.userId,t))}}function N0(n){return xr(n,"documentOverlays")}class bm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ii(e.integerValue));else if("doubleValue"in e){const i=ii(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),H_(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(jh(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Fx(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Ze.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function iV(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Nk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=iV(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}bm.Te=new bm;class rV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=Nk(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=Nk(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class sV{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class oV{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class P0{constructor(){this.Be=new rV,this.Le=new sV(this.Be),this.Ue=new oV(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class wm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new wm(this.indexId,this.documentKey,this.arrayValue,i)}}function Em(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Pk(n.arrayValue,e.arrayValue),0!==t?t:(t=Pk(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function Pk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class aV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=es(e);if(void 0!==t&&!this.ze(t))return!1;const i=Zu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class lV{constructor(){this.Ye=new aA}addToCollectionParentIndex(e,t){return this.Ye.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Ss.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class aA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new bn(Gt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new bn(Gt.comparator)).toArray()}}const HD=new Uint8Array(0);class cV{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new aA,this.Ze=new Zh(i=>Ic(i),(i,r)=>dm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Ms(r)};return Fk(e).put(a)}return oe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[CD(t),""],!1,!0);return Fk(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(xc(u.parent))}return i})}addFieldIndex(e,t){const i=jD(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=L0(e);return a.next(f=>{u.put(Ok(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=jD(e),r=L0(e),a=F0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=F0(e);let r=!0;const a=new Map;return oe.forEach(this.tn(t),u=>this.en(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Kt();const f=[];return oe.forEach(a,(_,w)=>{var I;Re("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`} to execute ${Ic(t)}`);const A=function(dt,lt){const Ot=es(lt);if(void 0===Ot)return null;for(const Pt of hm(dt,Ot.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(w,_),P=function(dt,lt){const Ot=new Map;for(const Pt of Zu(lt))for(const ln of hm(dt,Pt.fieldPath))switch(ln.op){case"==":case"in":Ot.set(Pt.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return Ot.set(Pt.fieldPath.canonicalString(),ln.value),Array.from(Ot.values())}return null}(w,_),V=function(dt,lt){const Ot=[];let Pt=!0;for(const ln of Zu(lt)){const ks=0===ln.kind?z_(dt,ln.fieldPath,dt.startAt):Bx(dt,ln.fieldPath,dt.startAt);Ot.push(ks.value),Pt&&(Pt=ks.inclusive)}return new nd(Ot,Pt)}(w,_),U=function(dt,lt){const Ot=[];let Pt=!0;for(const ln of Zu(lt)){const ks=0===ln.kind?Bx(dt,ln.fieldPath,dt.endAt):z_(dt,ln.fieldPath,dt.endAt);Ot.push(ks.value),Pt&&(Pt=ks.inclusive)}return new nd(Ot,Pt)}(w,_),Q=this.nn(_,w,V),ce=this.nn(_,w,U),Fe=this.sn(_,w,P),et=this.rn(_.indexId,A,Q,V.inclusive,ce,U.inclusive,Fe);return oe.forEach(et,dt=>i.J(dt,t.limit).next(lt=>{lt.forEach(Ot=>{const Pt=Ze.fromSegments(Ot.documentKey);u.has(Pt)||(u=u.add(Pt),f.push(Pt))})}))}).next(()=>f)}return oe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let A=0;A<_;++A){const P=t?this.on(t[A/w]):HD,V=this.un(e,P,i[A%w],r),U=this.cn(e,P,a[A%w],u),Q=f.map(ce=>this.un(e,P,ce,!0));I.push(...this.createRange(V,U,Q))}return I}un(e,t,i,r){const a=new wm(e,Ze.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new wm(e,Ze.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new aV(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return oe.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new bn(Hn.comparator),_=!1;for(const w of u.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new P0;for(const r of Zu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);bm.Te.ce(a,u)}return i.$e()}on(e){const t=new P0;return bm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new P0;return bm.Te.ce(Cc(this.databaseId,t),i.qe(function(r){const a=Zu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new P0);let a=0;for(const u of Zu(e)){const f=i[a++];for(const _ of r)if(this.ln(t,u.fieldPath)&&td(f))r=this.fn(r,u,f);else{const w=_.qe(u.kind);bm.Te.ce(f,w)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new P0;_.seed(f.$e()),bm.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof ir&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=jD(e),r=L0(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return oe.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const A=I?new Ku(I.sequenceNumber,new Ss(ym(I.readTime),new Ze(xc(I.documentKey)),I.largestBatchId)):Ku.empty(),P=w.fields.map(([V,U])=>new V_(Hn.fromServerFormat(V),U));return new a0(w.indexId,w.collectionGroup,P,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=jD(e),a=L0(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>oe.forEach(f,_=>a.put(Ok(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return oe.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?oe.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),oe.forEach(f,_=>this.wn(e,r,_).next(w=>{const I=this.mn(a,_);return w.isEqual(I)?oe.resolve():this.gn(e,a,_,w,I)}))))})}yn(e,t,i,r){return F0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return F0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=F0(e);let a=new bn(Em);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,f)=>{a=a.add(new wm(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new bn(Em);const r=this.an(t,e);if(null==r)return i;const a=es(t);if(null!=a){const u=e.data.field(a.fieldPath);if(td(u))for(const f of u.arrayValue.values||[])i=i.add(new wm(t.indexId,e.key,this.on(f),r))}else i=i.add(new wm(t.indexId,e.key,HD,r));return i}gn(e,t,i,r,a){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,A){const P=f.getIterator(),V=_.getIterator();let U=Xu(P),Q=Xu(V);for(;U||Q;){let ce=!1,Fe=!1;if(U&&Q){const et=w(U,Q);et<0?Fe=!0:et>0&&(ce=!0)}else null!=U?Fe=!0:ce=!0;ce?(I(Q),Q=Xu(V)):Fe?(A(U),U=Xu(P)):(U=Xu(P),Q=Xu(V))}}(r,a,Em,f=>{u.push(this.yn(e,t,i,f))},f=>{u.push(this.pn(e,t,i,f))}),oe.waitFor(u)}_n(e){let t=1;return L0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Em(u,f)).filter((u,f,_)=>!f||0!==Em(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Em(u,e),_=Em(u,t);if(0===f)r[0]=e.Ke();else if(f>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,HD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,HD,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Lk)}getMinOffset(e,t){return oe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||rt())).next(Lk)}}function Fk(n){return xr(n,"collectionParents")}function F0(n){return xr(n,"indexEntries")}function jD(n){return xr(n,"indexConfiguration")}function L0(n){return xr(n,"indexState")}function Lk(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;B_(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Ss(e.readTime,e.documentKey,t)}const Vk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(I,A,P)=>(f++,P.delete()));a.push(_.next(()=>{At(1===f)}));const w=[];for(const I of t.mutations){const A=Ck(e,I.key.path,t.batchId);a.push(r.delete(A)),w.push(I.key)}return oe.waitFor(a).next(()=>w)}function $D(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class zD{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){At(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new zD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Q_(e),u=Yh(e);return u.add({}).next(f=>{At("number"==typeof f);const _=new nA(f,t,i,r),w=function(P,V,U){const Q=U.baseMutations.map(Fe=>R0(P.re,Fe)),ce=U.mutations.map(Fe=>R0(P.re,Fe));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Q,mutations:ce}}(this.It,this.userId,_),I=[];let A=new bn((P,V)=>zt(P.canonicalString(),V.canonicalString()));for(const P of r){const V=Ck(this.userId,P.key.path,f);A=A.add(P.key.path.popLast()),I.push(u.put(w)),I.push(a.put(V,VL))}return A.forEach(P=>{I.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),oe.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Yh(e).get(t).next(i=>i?(At(i.userId===this.userId),vm(this.It,i)):null)}Tn(e,t){return this.In[t]?oe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Yh(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(At(f.batchId>=i),a=vm(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).W("userMutationsIndex",t).next(i=>i.map(r=>vm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=VD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Q_(e).Z({range:r},(u,f,_)=>{const[w,I,A]=u,P=xc(I);if(w===this.userId&&t.path.isEqual(P))return Yh(e).get(A).next(V=>{if(!V)throw rt();At(V.userId===this.userId),a.push(vm(this.It,V))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bn(zt);const r=[];return t.forEach(a=>{const u=VD(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Q_(e).Z({range:f},(w,I,A)=>{const[P,V,U]=w,Q=xc(V);P===this.userId&&a.path.isEqual(Q)?i=i.add(U):A.done()});r.push(_)}),oe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=VD(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new bn(zt);return Q_(e).Z({range:u},(_,w,I)=>{const[A,P,V]=_,U=xc(P);A===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(V)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Yh(e).get(a).next(u=>{if(null===u)throw rt();At(u.userId===this.userId),i.push(vm(this.It,u))}))}),oe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Bk(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),oe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Q_(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=xc(a[1]);r.push(_)}else f.done()}).next(()=>{At(0===r.length)})})}containsKey(e,t){return Uk(e,this.userId,t)}Rn(e){return Hk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uk(n,e,t){const i=VD(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Q_(n).Z({range:a,X:!0},(f,_,w)=>{const[I,A,P]=f;I===e&&A===r&&(u=!0),w.done()}).next(()=>u)}function Yh(n){return xr(n,"mutations")}function Q_(n){return xr(n,"documentMutations")}function Hk(n){return xr(n,"mutationQueues")}class Cm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Cm(0)}static vn(){return new Cm(-1)}}class uV{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Cm(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mt.fromTimestamp(new Pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>X_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return X_(e).Z((u,f)=>{const _=k0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(a)).next(()=>r)}forEachTarget(e,t){return X_(e).Z((i,r)=>{const a=k0(r);t(a)})}Vn(e){return jk(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Sn(e,t){return jk(e).put("targetGlobalKey",t)}Dn(e,t){return X_(e).put(Ak(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ic(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return X_(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=k0(f);dm(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Qh(e);return t.forEach(u=>{const f=Ms(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),oe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Qh(e);return oe.forEach(t,a=>{const u=Ms(a.path);return oe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Qh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qh(e);let a=Kt();return r.Z({range:i,X:!0},(u,f,_)=>{const w=xc(u[1]),I=new Ze(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Ms(t.path),r=IDBKeyRange.bound([i],[CD(i)],!1,!0);let a=0;return Qh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}se(e,t){return X_(e).get(t).next(i=>i?k0(i):null)}}function X_(n){return xr(n,"targets")}function jk(n){return xr(n,"targetGlobal")}function Qh(n){return xr(n,"targetDocuments")}function $k([n,e],[t,i]){const r=zt(n,t);return 0===r?zt(e,i):r}class dV{constructor(e){this.xn=e,this.buffer=new bn($k),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$k(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){yc(i)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ul(i)}yield t.Fn(3e5)}))}}class fV{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(As.at);const i=new dV(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Vk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vk):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(e,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(w=Date.now(),wD()<=sc.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class pV{constructor(e,t){this.db=e,this.garbageCollector=new fV(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return GD(e,i)}removeReference(e,t,i){return GD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return GD(e,t)}Gn(e,t){return function(i,r){let a=!1;return Hk(i).tt(u=>Uk(i,u,r).next(f=>(f&&(a=!0),oe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Mt.min()),Qh(e).delete([0,Ms(u.path)])))});r.push(_)}}).next(()=>oe.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return GD(e,t)}Kn(e,t){const i=Qh(e);let r,a=As.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==As.at&&t(new Ze(xc(r)),a),a=w,r=_):a=As.at}).next(()=>{a!==As.at&&t(new Ze(xc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function GD(n,e){return Qh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ms(e.path),sequenceNumber:i}));var i}class zk{constructor(){this.changes=new Zh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mV{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Dm(e).put(i)}removeEntry(e,t,i){return Dm(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],BD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=An.newInvalidDocument(t);return Dm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(V0(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:An.newInvalidDocument(t)};return Dm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(V0(t))},(r,a)=>{i={document:this.jn(t,a),size:$D(a)}}).next(()=>i)}getEntries(e,t){let i=uo();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=uo(),r=new di(Ze.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);i=i.insert(a,f),r=r.insert(a,$D(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return oe.resolve();let r=new bn(Zk);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(V0(r.first()),V0(r.last())),u=r.getIterator();let f=u.getNext();return Dm(e).Z({index:"documentKeyIndex",range:a},(_,w,I)=>{const A=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Zk(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?I.j(V0(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),BD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dm(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=uo();for(const _ of u){const w=this.jn(Ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=uo();const u=Wk(t,i),f=Wk(t,Ss.max());return Dm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const A=this.jn(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new gV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qk(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Qn(e,t){return qk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function tV(n,e){let t;if(e.document)t=gk(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ze.fromSegments(e.noDocument.path),r=ym(e.noDocument.readTime);t=An.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const i=Ze.fromSegments(e.unknownDocument.path),r=ym(e.unknownDocument.version);t=An.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Pn(i[0],i[1]);return Mt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Mt.min()))return i}return An.newInvalidDocument(e)}}function Gk(n){return new mV(n)}class gV extends zk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Zh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new bn((a,u)=>zt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=xk(this.Yn.It,u);r=r.add(a.path.popLast());const w=$D(_);i+=w-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=xk(this.Yn.It,u.convertToNoDocument(Mt.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),oe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function qk(n){return xr(n,"remoteDocumentGlobal")}function Dm(n){return xr(n,"remoteDocumentsV14")}function V0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wk(n,e){const t=e.documentKey.path.toArray();return[n,BD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=zt(t[a],i[a]),r)return r;return r=zt(t.length,i.length),r||(r=zt(t[t.length-2],i[i.length-2]),r||zt(t[t.length-1],i[i.length-1]))}class _V{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&gm(i.mutation,r,ts.empty(),Pn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Kt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Kt()){const r=Tc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=I0();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Tc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Kt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=uo();const u=T0(),f=T0();return t.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof rd)?a=a.insert(w.key,w):void 0!==I&&(u.set(w.key,I.mutation.getFieldMask()),gm(I.mutation,w,I.mutation.getFieldMask(),Pn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var A;return f.set(w,new _V(I,null!==(A=u.get(w))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=T0();let r=new di((u,f)=>u-f),a=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=i.get(_)||ts.empty();I=f.applyToLocalView(w,I),i.set(_,I);const A=(r.get(f.batchId)||Kt()).add(_);r=r.insert(f.batchId,A)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,A=sk();I.forEach(P=>{if(!a.has(P)){const V=q_(t.get(P),i.get(P));null!==V&&A.set(P,V),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,A))}return oe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):PD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):oe.resolve(Tc());let f=-1,_=a;return u.next(w=>oe.forEach(w,(I,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(I)?oe.resolve():this.getBaseDocument(e,I,A).next(P=>{_=_.insert(I,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Kt())).next(I=>({batchId:f,changes:rk(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=I0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=I0();return this.indexManager.getCollectionParents(e,r).next(u=>oe.forEach(u,f=>{const _=(w=t,I=f.child(r),new hl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((I,A)=>{a=a.insert(I,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,An.newInvalidDocument(w)))});let u=I0();return r.forEach((f,_)=>{const w=a.get(f);void 0!==w&&gm(w.mutation,_,ts.empty(),Pn.now()),y(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):oe.resolve(An.newInvalidDocument(t))}}class yV{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Sr(i.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:sA(i.bundledQuery),readTime:Sr(i.readTime)}),oe.resolve();var i}}class vV{constructor(){this.overlays=new di(Ze.comparator),this.es=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Tc();return oe.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const r=Tc(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return oe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new di((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let I=a.get(w.largestBatchId);null===I&&(I=Tc(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Tc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=r)););return oe.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new rA(t,i));let a=this.es.get(t);void 0===a&&(a=Kt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class lA{constructor(){this.ns=new bn(Ar.ss),this.rs=new bn(Ar.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Ar(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Ar(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ze(new Gt([])),i=new Ar(t,e),r=new Ar(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ze(new Gt([])),i=new Ar(t,e),r=new Ar(t,e+1);let a=Kt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ar(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ar{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ze.comparator(e.key,t.key)||zt(e._s,t._s)}static os(e,t){return zt(e._s,t._s)||Ze.comparator(e.key,t.key)}}class bV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new bn(Ar.ss)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new nA(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new Ar(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ar(t,0),r=new Ar(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);a.push(f)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bn(zt);return t.forEach(r=>{const a=new Ar(r,0),u=new Ar(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{i=i.add(f._s)})}),oe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ze.isDocumentKey(a)||(a=a.child(""));const u=new Ar(new Ze(a),0);let f=new bn(zt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_._s)),!0)},u),oe.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){At(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return oe.forEach(t.mutations,r=>{const a=new Ar(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Ar(t,0),r=this.gs.firstAfterOrEqual(i);return oe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wV{constructor(e){this.Es=e,this.docs=new di(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let i=uo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():An.newInvalidDocument(r))}),oe.resolve(i)}getAllFromCollection(e,t,i){let r=uo();const a=new Ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||B_(u0(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return oe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){rt()}As(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EV(this)}getSize(e){return oe.resolve(this.size)}}class EV extends zk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class CV{constructor(e){this.persistence=e,this.Rs=new Zh(t=>Ic(t),dm),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new lA,this.targetCount=0,this.vs=Cm.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Cm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Dn(t),oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),oe.waitFor(a).next(()=>r)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.Ps.containsKey(t))}}class Yk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new As(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new CV(this),this.indexManager=new lV,this.remoteDocumentCache=new wV(i=>this.referenceDelegate.xs(i)),this.It=new Sk(t),this.Ns=new yV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new bV(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Re("MemoryPersistence","Starting transaction:",e);const r=new DV(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return oe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class DV extends DD{constructor(e){super(),this.currentSequenceNumber=e}}class qD{constructor(e){this.persistence=e,this.Fs=new lA,this.$s=null}static Bs(e){return new qD(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,i=>{const r=Ze.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,Mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return oe.or([()=>oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class IV{constructor(e){this.It=e}$(e,t,i,r){const a=new Ho("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0}),f.createObjectStore("documentMutations"),Qk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=oe.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Qk(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0});const I=_.store("mutations"),A=w.map(P=>I.put(P));return oe.waitFor(A)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:YL});_.createIndex("collectionPathOverlayIndex",QL,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",XL,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:BL});_.createIndex("documentKeyIndex",UL),_.createIndex("collectionGroupIndex",HL)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:qL}).createIndex("sequenceNumberIndex",WL,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ZL}).createIndex("documentKeyIndex",KL,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=$D(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>oe.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>oe.forEach(f,_=>{At(_.userId===a.userId);const w=vm(this.It,_);return Bk(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new Gt(u),w=[0,Ms(_)];a.push(t.get(w).next(I=>I?oe.resolve():t.put({targetId:0,path:Ms(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>oe.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:GL});const i=t.store("collectionParents"),r=new aA,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Ms(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new Gt(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],w)=>{const I=xc(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=k0(r),u=Ak(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ze(Gt.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):rt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>oe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Gk(this.It),a=new Yk(qD.Bs,this.It.re);return i.W().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Kt();vm(this.It,_).keys().forEach(A=>I=I.add(A)),f.set(_.userId,I)}),oe.forEach(f,(_,w)=>{const I=new pr(w),A=UD.oe(this.It,I),P=a.getIndexManager(I),V=zD.oe(I,this.It,P,a.referenceDelegate);return new Kk(r,V,A,P).recalculateAndSaveOverlaysForDocumentKeys(new tA(t,As.at),_).next()})})}}function Qk(n){n.createObjectStore("targetDocuments",{keyPath:$L}).createIndex("documentTargetsIndex",zL,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jL,{unique:!0}),n.createObjectStore("targetGlobal")}const cA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uA{constructor(e,t,i,r,a,u,f,_,w,I,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=f,this.Js=w,this.Ys=I,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!uA.C())throw new Oe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pV(this,r),this.ii=t+"main",this.It=new Sk(_),this.ri=new co(this.ii,this.Xs,new IV(this.It)),this.Cs=new uV(this.referenceDelegate,this.It),this.remoteDocumentCache=Gk(this.It),this.Ns=new nV,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,cA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new As(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>WD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(yc(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return B0(e).get("owner").next(t=>oe.resolve(this.mi(t)))}gi(e){return WD(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xr(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return oe.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?oe.resolve(!0):B0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,cA);return!1}}return!(!this.networkEnabled||!this.inForeground)||WD(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new tA(t,As.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>WD(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return zD.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cV(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return UD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Re("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?eV:14===u?Tk:13===u?Ik:12===u?JL:11===u?Dk:void rt();var u;let f;return this.ri.runTransaction(e,r,a,_=>(f=new tA(_,this.Ss?this.Ss.next():As.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(de.FAILED_PRECONDITION,d0);return i(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return B0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(de.FAILED_PRECONDITION,cA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return B0(e).put("owner",t)}static C(){return co.C()}_i(e){const t=B0(e);return t.get("owner").next(i=>this.mi(i)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,an.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function B0(n){return xr(n,"owner")}function WD(n){return xr(n,"clientMetadata")}function dA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Kt(),r=Kt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new hA(e,t.fromCache,i,r)}}class Xk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Kx(t))return oe.resolve(null);let i=o(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=l(t,null,"F"),i=o(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Kt(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Fi(t,f);return this.$i(t,w,u,_.readTime)?this.ki(e,l(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,i,r){return Kx(t)||r.isEqual(Mt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Mi(e,t):(wD()<=sc.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),m(t)),this.Bi(e,u,t,c0(r,-1)))})}Fi(e,t){let i=new bn(C(e));return t.forEach((r,a)=>{y(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return wD()<=sc.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",m(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ss.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class TV{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new di(zt),this.qi=new Zh(a=>Ic(a),dm),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Jk(n,e,t,i){return new TV(n,e,t,i)}function e1(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,ye.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Kt();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(w=>({ji:w,removedBatchIds:u,addedBatchIds:f}))})})}),fA.apply(this,arguments)}function SV(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,A=I.keys();let P=oe.resolve();return A.forEach(V=>{P=P.next(()=>w.getEntry(f,V)).next(U=>{const Q=_.docVersions.get(V);At(null!==Q),U.version.compareTo(Q)<0&&(I.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),w.addEntry(U)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Kt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function t1(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function xV(n,e){const t=We(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,A)=>{const P=r.get(A);if(!P)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,A)));let V=P.withSequenceNumber(a.currentSequenceNumber);var U,Q,ce;e.targetMismatches.has(A)?V=V.withResumeToken(ni.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):I.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(I.resumeToken,i)),r=r.insert(A,V),Q=V,ce=I,(0===(U=P).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,V))});let _=uo(),w=Kt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(n1(a,u,e.documentUpdates).next(I=>{_=I.Wi,w=I.zi})),!i.isEqual(Mt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(A=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return oe.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Ui=r,a))}function n1(n,e,t){let i=Kt(),r=Kt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=uo();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Mt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function AV(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function J_(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,oe.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Kh(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function ey(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,ye.Z)(function*(n,e,t){const i=We(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!yc(u))throw u;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),pA.apply(this,arguments)}function ZD(n,e,t){const i=We(n);let r=Mt.min(),a=Kt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=We(f),A=I.qi.get(w);return void 0!==A?oe.resolve(I.Ui.get(A)):I.Cs.getTargetData(_,w)}(i,u,o(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:Mt.min(),t?a:Kt())).next(f=>(o1(i,E(e),f),{documents:f,Hi:a})))}function r1(n,e){const t=We(n),i=We(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function s1(n,e){const t=We(n),i=t.Ki.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,c0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(o1(t,e,r),r))}function o1(n,e,t){let i=n.Ki.get(e)||Mt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function mA(){return mA=(0,ye.Z)(function*(n,e,t,i){const r=We(n);let a=Kt(),u=uo();for(const w of t){const I=e.Ji(w.metadata.name);w.document&&(a=a.add(I));const A=e.Yi(w);A.setReadTime(e.Xi(w.metadata.readTime)),u=u.insert(I,A)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield J_(r,(w=i,o(pm(Gt.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>n1(w,f,u).next(I=>(f.apply(w),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Cs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.Wi,I.zi)).next(()=>I.Wi)))}),mA.apply(this,arguments)}function OV(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ye.Z)(function*(n,e,t=Kt()){const i=yield J_(n,o(sA(e.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Sr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(ni.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),gA.apply(this,arguments)}function a1(n,e){return`firestore_clients_${n}_${e}`}function l1(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _A(n,e){return`firestore_targets_${n}_${e}`}class KD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Oe(r.error.code,r.error.message))),u?new KD(e,t,r.state,a):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Oe(i.error.code,i.error.message))),a?new U0(e,i.state,r):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=FD();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Px(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new YD(e,a):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yA(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vA{constructor(){this.activeTargetIds=FD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bA{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new di(zt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=a1(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new vA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(a1(e.persistenceKey,r));if(a){const u=YD.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_A(this.persistenceKey,e));if(i){const r=U0.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_A(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=As.at;if(null!=a)try{const f=JSON.parse(a);At("number"==typeof f),u=f}catch(f){Ei("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==As.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new KD(this.currentUser,e,t,i),a=l1(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=l1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=_A(this.persistenceKey,e),a=new U0(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return YD.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return KD.Zi(new pr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return U0.Zi(r,t)}yr(e){return yA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=FD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class c1{constructor(){this.Lr=new vA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new vA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RV{qr(e){}shutdown(){}}class u1{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class PV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const u=this.ho(e,t);Re("RestConnection","Sending: ",u,i);const f={};return this.lo(f,r,a),this.fo(e,u,f,i).then(_=>(Re("RestConnection","Received: ",_),_),_=>{throw _c("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}_o(e,t,i,r,a,u){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+am,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${kV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,u)=>{const f=new jR;f.setWithCredentials(!0),f.listenOnce(vx.COMPLETE,()=>{var w;try{switch(f.getLastErrorCode()){case P_.NO_ERROR:const I=f.getResponseJson();Re("Connection","XHR received:",JSON.stringify(I)),a(I);break;case P_.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),u(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case P_.HTTP_ERROR:const A=f.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){let P=f.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=null===(w=P)||void 0===w?void 0:w.error;if(V&&V.status&&V.message){const U=function(Q){const ce=Q.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(ce)>=0?ce:de.UNKNOWN}(V.status);u(new Oe(U,V.message))}else u(new Oe(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yD(),u=vD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new bD({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=r.join("");Re("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,A=!1;const P=new NV({Hr:U=>{A?Re("Connection","Not sending because WebChannel is closed:",U):(I||(Re("Connection","Opening WebChannel transport."),w.open(),I=!0),Re("Connection","WebChannel sending:",U),w.send(U))},Jr:()=>w.close()}),V=(U,Q,ce)=>{U.listen(Q,Fe=>{try{ce(Fe)}catch(et){setTimeout(()=>{throw et},0)}})};return V(w,o0.EventType.OPEN,()=>{A||Re("Connection","WebChannel transport opened.")}),V(w,o0.EventType.CLOSE,()=>{A||(A=!0,Re("Connection","WebChannel transport closed"),P.io())}),V(w,o0.EventType.ERROR,U=>{A||(A=!0,_c("Connection","WebChannel transport errored:",U),P.io(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),V(w,o0.EventType.MESSAGE,U=>{var Q;if(!A){const ce=U.data[0];At(!!ce);const Fe=ce,et=Fe.error||(null===(Q=Fe[0])||void 0===Q?void 0:Q.error);if(et){Re("Connection","WebChannel received error:",et);const dt=et.status;let lt=function(Pt){const ln=rr[Pt];if(void 0!==ln)return nk(ln)}(dt),Ot=et.message;void 0===lt&&(lt=de.INTERNAL,Ot="Unknown error status: "+dt+" with message "+et.message),A=!0,P.io(new Oe(lt,Ot)),w.close()}else Re("Connection","WebChannel received:",ce),P.ro(ce)}}),V(u,bx.STAT_EVENT,U=>{U.stat===wx.PROXY?Re("Connection","Detected buffering proxy"):U.stat===wx.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function d1(){return typeof window<"u"?window:null}function QD(){return typeof document<"u"?document:null}function H0(n){return new TL(n,!0)}class wA{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class h1{constructor(e,t,i,r,a,u,f,_){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Oe(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FV extends h1{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function AL(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.gt?(At(void 0===w||"string"==typeof w),ni.fromBase64String(w||"")):(At(void 0===w||w instanceof Uint8Array),ni.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?de.UNKNOWN:nk(_.code);return new Oe(w,_.message||"")}(u);t=new ak(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Sc(n,i.document.name),a=Sr(i.document.updateTime),u=new mr({mapValue:{fields:i.document.fields}}),f=An.newFoundDocument(r,a,u);t=new LD(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Sc(n,i.document),a=i.readTime?Sr(i.readTime):Mt.min(),u=An.newNoDocument(r,a);t=new LD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Sc(n,i.document);t=new LD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,a=new yL(i.count||0);t=new ok(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Mt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?Sr(a.readTime):Mt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=O0(this.It),t.addTarget=function(r,a){let u;const f=a.target;return u=$_(f)?{documents:_k(r,f)}:{query:eA(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=dk(r,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=A0(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function OL(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=O0(this.It),t.removeTarget=e,this.Bo(t)}}class LV extends h1{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ML(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(i,r){let a=Sr(i.updateTime?i.updateTime:r);return a.isEqual(Mt.min())&&(a=Sr(r)),new C0(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.Zo(i,t)}return At(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=O0(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>R0(this.It,i))};this.Bo(t)}}class VV extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(de.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(de.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class UV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ei(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class HV{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,ye.Z)(function*(){var _;sd(u)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(w){const I=We(w);I._u.add(4),yield ty(I),I.gu.set("Unknown"),I._u.delete(4),yield j0(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this.gu=new UV(i,r)}}function j0(n){return CA.apply(this,arguments)}function CA(){return CA=(0,ye.Z)(function*(n){if(sd(n))for(const e of n.wu)yield e(!0)}),CA.apply(this,arguments)}function ty(n){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),DA.apply(this,arguments)}function XD(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),SA(t)?TA(t):iy(t).ko()&&IA(t,e))}function $0(n,e){const t=We(n),i=iy(t);t.du.delete(e),i.ko()&&f1(t,e),0===t.du.size&&(i.ko()?i.Fo():sd(t)&&t.gu.set("Unknown"))}function IA(n,e){n.yu.Mt(e.targetId),iy(n).zo(e)}function f1(n,e){n.yu.Mt(e),iy(n).Ho(e)}function TA(n){n.yu=new CL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),iy(n).start(),n.gu.uu()}function SA(n){return sd(n)&&!iy(n).No()&&n.du.size>0}function sd(n){return 0===We(n)._u.size}function p1(n){n.yu=void 0}function jV(n){return xA.apply(this,arguments)}function xA(){return xA=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{IA(n,e)})}),xA.apply(this,arguments)}function $V(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ye.Z)(function*(n,e){p1(n),SA(n)?(n.gu.hu(e),TA(n)):n.gu.set("Unknown")}),AA.apply(this,arguments)}function zV(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof ak&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield JD(n,i)}else if(e instanceof LD?n.yu.Gt(e):e instanceof ok?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Mt.min()))try{const i=yield t1(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.du.get(_);w&&r.du.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(ni.EMPTY_BYTE_STRING,_.snapshotVersion)),f1(r,f);const w=new Kh(_.target,f,1,_.sequenceNumber);IA(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),yield JD(n,i)}var i}),MA.apply(this,arguments)}function JD(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,ye.Z)(function*(n,e,t){if(!yc(e))throw e;n._u.add(1),yield ty(n),n.gu.set("Offline"),t||(t=()=>t1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield j0(n)}))}),OA.apply(this,arguments)}function m1(n,e){return e().catch(t=>JD(n,t,e))}function ny(n){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(n){const e=We(n),t=Xh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;GV(e);)try{const r=yield AV(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,qV(e,r)}catch(r){yield JD(e,r)}g1(e)&&_1(e)}),RA.apply(this,arguments)}function GV(n){return sd(n)&&n.fu.length<10}function qV(n,e){n.fu.push(e);const t=Xh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function g1(n){return sd(n)&&!Xh(n).No()&&n.fu.length>0}function _1(n){Xh(n).start()}function WV(n){return kA.apply(this,arguments)}function kA(){return kA=(0,ye.Z)(function*(n){Xh(n).eu()}),kA.apply(this,arguments)}function ZV(n){return NA.apply(this,arguments)}function NA(){return NA=(0,ye.Z)(function*(n){const e=Xh(n);for(const t of n.fu)e.Xo(t.mutations)}),NA.apply(this,arguments)}function KV(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n,e,t){const i=n.fu.shift(),r=iA.from(i,e,t);yield m1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ny(n)}),PA.apply(this,arguments)}function YV(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n,e){var t;e&&Xh(n).Yo&&(yield(t=(0,ye.Z)(function*(i,r){if(tk(a=r.code)&&a!==de.ABORTED){const u=i.fu.shift();Xh(i).Mo(),yield m1(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ny(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),g1(n)&&_1(n)}),FA.apply(this,arguments)}function y1(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ye.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=sd(t);t._u.add(3),yield ty(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield j0(t)}),LA.apply(this,arguments)}function VA(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield j0(t)):e||(t._u.add(2),yield ty(t),t.gu.set("Unknown"))}),BA.apply(this,arguments)}function iy(n){return n.pu||(n.pu=function(e,t,i){const r=We(e);return r.su(),new FV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:jV.bind(null,n),Zr:$V.bind(null,n),Wo:zV.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Mo(),SA(n)?TA(n):n.gu.set("Unknown")):(yield n.pu.stop(),p1(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Xh(n){return n.Iu||(n.Iu=function(e,t,i){const r=We(e);return r.su(),new LV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:WV.bind(null,n),Zr:YV.bind(null,n),tu:ZV.bind(null,n),Zo:KV.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Mo(),yield ny(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class UA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new UA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),yc(n))return new Oe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class sy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=I0(),this.sortedSet=new di(this.comparator)}static emptySet(e){return new sy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new sy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class v1{constructor(){this.Tu=new di(Ze.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class oy{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new oy(e,t,sy.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class QV{constructor(){this.Au=void 0,this.listeners=[]}}class XV{constructor(){this.queries=new Zh(e=>h(e),d),this.onlineState="Unknown",this.Ru=new Set}}function HA(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new QV),r)try{a.Au=yield t.onListen(i)}catch(u){const f=ry(u,`Initialization of query '${m(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&GA(t)}),jA.apply(this,arguments)}function $A(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ye.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zA.apply(this,arguments)}function JV(n,e){const t=We(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&GA(t)}function e2(n,e,t){const i=We(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function GA(n){n.Ru.forEach(e=>{e.next()})}class qA{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new oy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=oy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class t2{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class b1{constructor(e){this.It=e}Ji(e){return Sc(this.It,e)}Yi(e){return e.metadata.exists?gk(this.It,e.document,!1):An.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Sr(e)}}class n2{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=w1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Gt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new b1(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Kt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function MV(n,e,t,i){return mA.apply(this,arguments)}(e.localStore,new b1(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield OV(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function w1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class E1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class D1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Kt(),this.mutatedKeys=Kt(),this.Gu=C(e),this.Qu=new sy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new v1,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,A)=>{const P=r.get(I),V=y(this.query,A)?A:null,U=!!P&&this.mutatedKeys.has(P.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ce=!1;P&&V?P.data.isEqual(V.data)?U!==Q&&(i.track({type:3,doc:V}),ce=!0):this.Hu(P,V)||(i.track({type:2,doc:V}),ce=!0,(_&&this.Gu(V,_)>0||w&&this.Gu(V,w)<0)&&(f=!0)):!P&&V?(i.track({type:0,doc:V}),ce=!0):P&&!V&&(i.track({type:1,doc:P}),ce=!0,(_||w)&&(f=!0)),ce&&(V?(u=u.add(V),a=Q?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Qu:u,zu:i,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((w,I)=>function(A,P){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return V(A)-V(P)}(w.type,I.type)||this.Gu(w.doc,I.doc)),this.Ju(i);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new oy(this.query,e.Qu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new v1,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Kt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new C1(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new E1(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Kt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return oy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class r2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class s2{constructor(e){this.key=e,this.nc=!1}}class o2{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Zh(f=>h(f),d),this.rc=new Map,this.oc=new Set,this.uc=new di(Ze.comparator),this.cc=new Map,this.ac=new lA,this.hc={},this.lc=new Map,this.fc=Cm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function a2(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ye.Z)(function*(n,e){const t=gM(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const u=yield J_(t.localStore,o(e));t.isPrimaryClient&&XD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield ZA(t,e,i,"current"===f,u.resumeToken)}return r}),WA.apply(this,arguments)}function ZA(n,e,t,i,r){return KA.apply(this,arguments)}function KA(){return KA=(0,ye.Z)(function*(n,e,t,i,r){n._c=(A,P,V)=>{return(U=(0,ye.Z)(function*(Q,ce,Fe,et){let dt=ce.view.Wu(Fe);dt.$i&&(dt=yield ZD(Q.localStore,ce.query,!1).then(({documents:Pt})=>ce.view.Wu(Pt,dt)));const lt=et&&et.targetChanges.get(ce.targetId),Ot=ce.view.applyChanges(dt,Q.isPrimaryClient,lt);return sM(Q,ce.targetId,Ot.Xu),Ot.snapshot}),function(Q,ce,Fe,et){return U.apply(this,arguments)})(n,A,P,V);var U};const a=yield ZD(n.localStore,e,!0),u=new D1(e,a.Hi),f=u.Wu(a.documents),_=x0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);sM(n,t,w.Xu);const I=new r2(e,t,u);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),KA.apply(this,arguments)}function l2(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,ye.Z)(function*(n,e){const t=We(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!d(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ey(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),$0(t.remoteStore,i.targetId),ay(t,i.targetId)}).catch(ul))):(ay(t,i.targetId),yield ey(t.localStore,i.targetId,!0))}),YA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n,e,t){const i=_M(n);try{const r=yield function(a,u){const f=We(a),_=Pn.now(),w=u.reduce((P,V)=>P.add(V.key),Kt());let I,A;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=uo(),U=Kt();return f.Gi.getEntries(P,w).next(Q=>{V=Q,V.forEach((ce,Fe)=>{Fe.isValidDocument()||(U=U.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,V)).next(Q=>{I=Q;const ce=[];for(const Fe of u){const et=_L(Fe,I.get(Fe.key).overlayedDocument);null!=et&&ce.push(new rd(Fe.key,et,OD(et.value.mapValue),Mn.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,ce,u)}).next(Q=>{A=Q;const ce=Q.applyToLocalDocumentSet(I,U);return f.documentOverlayCache.saveOverlays(P,Q.batchId,ce)})}).then(()=>({batchId:A.batchId,changes:rk(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.hc[a.currentUser.toKey()];_||(_=new di(zt)),_=_.insert(u,f),a.hc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield od(i,r.changes),yield ny(i.remoteStore)}catch(r){const a=ry(r,"Failed to persist write");t.reject(a)}}),QA.apply(this,arguments)}function I1(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,ye.Z)(function*(n,e){const t=We(n);try{const i=yield xV(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.cc.get(a);u&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?At(u.nc):r.removedDocuments.size>0&&(At(u.nc),u.nc=!1))}),yield od(t,i,e)}catch(i){yield ul(i)}}),XA.apply(this,arguments)}function T1(n,e,t){const i=We(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=We(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const A of I.listeners)A.bu(u)&&(_=!0)}),_&&GA(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function u2(n,e,t){return JA.apply(this,arguments)}function JA(){return JA=(0,ye.Z)(function*(n,e,t){const i=We(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let u=new di(Ze.comparator);u=u.insert(a,An.newNoDocument(a,Mt.min()));const f=Kt().add(a),_=new S0(Mt.min(),new Map,new bn(zt),u,f);yield I1(i,_),i.uc=i.uc.remove(a),i.cc.delete(e),oM(i)}else yield ey(i.localStore,e,!1).then(()=>ay(i,e,t)).catch(ul)}),JA.apply(this,arguments)}function d2(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,ye.Z)(function*(n,e){const t=We(n),i=e.batch.batchId;try{const r=yield SV(t.localStore,e);rM(t,i,null),iM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield od(t,r)}catch(r){yield ul(r)}}),eM.apply(this,arguments)}function h2(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,ye.Z)(function*(n,e,t){const i=We(n);try{const r=yield function(a,u){const f=We(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(At(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);rM(i,e,t),iM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield od(i,r)}catch(r){yield ul(r)}}),tM.apply(this,arguments)}function nM(){return nM=(0,ye.Z)(function*(n,e){const t=We(n);sd(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=We(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=ry(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),nM.apply(this,arguments)}function iM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function rM(n,e,t){const i=We(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||S1(n,i)})}function S1(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&($0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),oM(n))}function sM(n,e,t){for(const i of t)i instanceof E1?(n.ac.addReference(i.key,e),p2(n,i)):i instanceof C1?(Re("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||S1(n,i.key)):rt()}function p2(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Re("SyncEngine","New document in limbo: "+t),n.oc.add(i),oM(n))}function oM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ze(Gt.fromString(e)),i=n.fc.next();n.cc.set(i,new s2(t)),n.uc=n.uc.insert(t,i),XD(n.remoteStore,new Kh(o(pm(t.path)),i,2,As.at))}}function od(n,e,t){return aM.apply(this,arguments)}function aM(){return aM=(0,ye.Z)(function*(n,e,t){const i=We(n),r=[],a=[],u=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,_)=>{u.push(i._c(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const I=hA.Ci(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(f=(0,ye.Z)(function*(_,w){const I=We(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>oe.forEach(w,P=>oe.forEach(P.Si,V=>I.persistence.referenceDelegate.addReference(A,P.targetId,V)).next(()=>oe.forEach(P.Di,V=>I.persistence.referenceDelegate.removeReference(A,P.targetId,V)))))}catch(A){if(!yc(A))throw A;Re("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const P=A.targetId;if(!A.fromCache){const V=I.Ui.get(P),Q=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);I.Ui=I.Ui.insert(P,Q)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),aM.apply(this,arguments)}function m2(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,ye.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const i=yield e1(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new Oe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield od(t,i.ji)}var r}),lM.apply(this,arguments)}function g2(n,e){const t=We(n),i=t.cc.get(e);if(i&&i.nc)return Kt().add(i.key);{let r=Kt();const a=t.rc.get(e);if(!a)return r;for(const u of a){const f=t.ic.get(u);r=r.unionWith(f.view.ju)}return r}}function _2(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,ye.Z)(function*(n,e){const t=We(n),i=yield ZD(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&sM(t,e.targetId,r.Xu),r}),cM.apply(this,arguments)}function y2(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,ye.Z)(function*(n,e){const t=We(n);return s1(t.localStore,e).then(i=>od(t,i))}),uM.apply(this,arguments)}function v2(n,e,t,i){return dM.apply(this,arguments)}function dM(){return dM=(0,ye.Z)(function*(n,e,t,i){const r=We(n),a=yield function(u,f){const _=We(u),w=We(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Tn(I,f).next(A=>A?_.localDocuments.getDocuments(I,A):oe.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ny(r.remoteStore):"acknowledged"===t||"rejected"===t?(rM(r,e,i||null),iM(r,e),f=e,We(We(r.localStore).mutationQueue).An(f)):rt(),yield od(r,a)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),dM.apply(this,arguments)}function hM(){return hM=(0,ye.Z)(function*(n,e){const t=We(n);if(gM(t),_M(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield x1(t,i.toArray());t.dc=!0,yield VA(t.remoteStore,!0);for(const a of r)XD(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(ay(t,u),ey(t.localStore,u,!0))),$0(t.remoteStore,u)}),yield r,yield x1(t,i),function(a){const u=We(a);u.cc.forEach((f,_)=>{$0(u.remoteStore,_)}),u.ac.fs(),u.cc=new Map,u.uc=new di(Ze.comparator)}(t),t.dc=!1,yield VA(t.remoteStore,!1)}}),hM.apply(this,arguments)}function x1(n,e,t){return fM.apply(this,arguments)}function fM(){return fM=(0,ye.Z)(function*(n,e,t){const i=We(n),r=[],a=[];for(const u of e){let f;const _=i.rc.get(u);if(_&&0!==_.length){f=yield J_(i.localStore,o(_[0]));for(const w of _){const I=i.ic.get(w),A=yield _2(i,I);A.snapshot&&a.push(A.snapshot)}}else{const w=yield r1(i.localStore,u);f=yield J_(i.localStore,w),yield ZA(i,A1(w),u,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(a),r}),fM.apply(this,arguments)}function A1(n){return Zx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function w2(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function E2(n,e,t,i){return pM.apply(this,arguments)}function pM(){return pM=(0,ye.Z)(function*(n,e,t,i){const r=We(n);if(r.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield s1(r.localStore,E(a[0])),f=S0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ni.EMPTY_BYTE_STRING);yield od(r,u,f);break}case"rejected":yield ey(r.localStore,e,!0),ay(r,e,i);break;default:rt()}}),pM.apply(this,arguments)}function C2(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,ye.Z)(function*(n,e,t){const i=gM(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Re("SyncEngine","Adding an already active target "+r);continue}const a=yield r1(i.localStore,r),u=yield J_(i.localStore,a);yield ZA(i,A1(a),u.targetId,!1,u.resumeToken),XD(i.remoteStore,u)}for(const r of t)i.rc.has(r)&&(yield ey(i.localStore,r,!1).then(()=>{$0(i.remoteStore,r),ay(i,r)}).catch(ul))}}),mM.apply(this,arguments)}function gM(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u2.bind(null,e),e.sc.Wo=JV.bind(null,e.eventManager),e.sc.wc=e2.bind(null,e.eventManager),e}function _M(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,e),e}class M1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=H0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Jk(this.persistence,new Xk,e.initialUser,this.It)}yc(e){return new Yk(qD.Bs,this.It)}gc(e){return new c1}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class O1 extends M1{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield _M(i.Ac.syncEngine),yield ny(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Jk(this.persistence,new Xk,e.initialUser,this.It)}Tc(e,t){return new hV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new TD(t,this.persistence);return new Rx(e.asyncQueue,i)}yc(e){const t=dA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new uA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,d1(),QD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new c1}}class I2 extends O1{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof bA&&(i.sharedClientState.syncEngine={Fr:v2.bind(null,r),$r:E2.bind(null,r),Br:C2.bind(null,r),vi:w2.bind(null,r),Mr:y2.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,ye.Z)(function*(u){yield function b2(n,e){return hM.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=d1();if(!bA.C(t))throw new Oe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class yM{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>T1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=m2.bind(null,i.syncEngine),yield VA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XV}createDatastore(e){const t=H0(e.databaseInfo.databaseId),i=new PV(e.databaseInfo);return new VV(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>T1(this.syncEngine,f,0),u=u1.C()?new u1:new RV,new HV(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const I=new o2(i,r,a,u,f,_);return w&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=We(t);Re("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield ty(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vM(n,e,t){if(!t)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R1(n,e,t,i){if(!0===e&&!0===i)throw new Oe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function k1(n){if(!Ze.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N1(n){if(Ze.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eI(n);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function P1(n,e){if(e<=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const F1=new Map;class L1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class z0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dx;switch(t.type){case"gapi":return new Sx(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=F1.get(e);t&&(Re("ComponentProvider","Removing Datastore"),F1.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Ac extends ns{constructor(e,t,i){super(e,t,pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ze(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function B1(n,e,...t){if(n=(0,an.m9)(n),vM("collection","path",e),n instanceof z0){const i=Gt.fromString(e,...t);return N1(i),new Ac(n,null,i)}{if(!(n instanceof Wn||n instanceof Ac))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gt.fromString(e,...t));return N1(i),new Ac(n.firestore,null,i)}}function tI(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=ED.R()),vM("doc","path",e),n instanceof z0){const i=Gt.fromString(e,...t);return k1(i),new Wn(n,null,new Ze(i))}{if(!(n instanceof Wn||n instanceof Ac))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gt.fromString(e,...t));return k1(i),new Wn(n.firestore,n instanceof Ac?n.converter:null,new Ze(i))}}function U1(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof Wn||n instanceof Ac)&&(e instanceof Wn||e instanceof Ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function bM(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof ns&&e instanceof ns&&n.firestore===e.firestore&&d(n._query,e._query)&&n.converter===e.converter}function H1(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class S2{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ci,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new t2(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class M2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(a,u){const f=We(a),_=O0(f.It)+"/documents",w={documents:u.map(V=>M0(f.It,V))},I=yield f._o("BatchGetDocuments",_,w,u.length),A=new Map;I.forEach(V=>{const U=function xL(n,e){return"found"in e?function(t,i){At(!!i.found);const r=Sc(t,i.found.name),a=Sr(i.found.updateTime),u=new mr({mapValue:{fields:i.found.fields}});return An.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){At(!!i.missing),At(!!i.readTime);const r=Sc(t,i.missing),a=Sr(i.readTime);return An.newNoDocument(r,a)}(n,e):rt()}(f.It,V);A.set(U.key.toString(),U)});const P=[];return u.forEach(V=>{const U=A.get(V.toString());At(!!U),P.push(U)}),P}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Z_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ze.fromPath(r);e.mutations.push(new Yx(a,e.precondition(a)))}),yield(i=(0,ye.Z)(function*(r,a){const u=We(r),f=O0(u.It)+"/documents",_={writes:a.map(w=>R0(u.It,w))};yield u.ao("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Mt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Oe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class O2{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new wA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ye.Z)(function*(){const t=new M2(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!cm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tk(t)}return!1}}class R2{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=ED.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(f){Re("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ry(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function j1(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(a){i.isEqual(a)||(yield e1(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),wM.apply(this,arguments)}function $1(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CM(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>y1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>y1(e.remoteStore,a)),n.onlineComponents=e}),EM.apply(this,arguments)}function CM(n){return DM.apply(this,arguments)}function DM(){return DM=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield j1(n,new M1)),n.offlineComponents}),DM.apply(this,arguments)}function iI(n){return IM.apply(this,arguments)}function IM(){return IM=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield $1(n,new yM)),n.onlineComponents}),IM.apply(this,arguments)}function z1(n){return CM(n).then(e=>e.persistence)}function rI(n){return CM(n).then(e=>e.localStore)}function TM(n){return iI(n).then(e=>e.remoteStore)}function SM(n){return iI(n).then(e=>e.syncEngine)}function ly(n){return xM.apply(this,arguments)}function xM(){return xM=(0,ye.Z)(function*(n){const e=yield iI(n),t=e.eventManager;return t.onListen=a2.bind(null,e.syncEngine),t.onUnlisten=l2.bind(null,e.syncEngine),t}),xM.apply(this,arguments)}function q1(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new nI({next:A=>{a.enqueueAndForget(()=>$A(r,I));const P=A.docs.has(u);!P&&A.fromCache?_.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&f&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new qA(pm(u.path),w,{includeMetadataChanges:!0,Nu:!0});return HA(r,I)}(yield ly(n),n.asyncQueue,e,t,i)})),i.promise}function W1(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new nI({next:A=>{a.enqueueAndForget(()=>$A(r,I)),A.fromCache&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new qA(u,w,{includeMetadataChanges:!0,Nu:!0});return HA(r,I)}(yield ly(n),n.asyncQueue,e,t,i)})),i.promise}class U2{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wA(this,"async_queue_retry"),this.Wc=()=>{const t=QD();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=QD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=QD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ci;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!yc(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=UA.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.qc.push(r),r}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function AM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class H2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zn extends z0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new U2,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z1(this),this._firestoreClient.terminate()}}function Fi(n){return n._firestoreClient||Z1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z1(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Nx(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new R2(n._authCredentials,n._appCheckCredentials,n._queue,i)}function K1(n,e,t){const i=new Ci;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield j1(n,t),yield $1(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;_c("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function Y1(n){if(n._initialized||n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mc(ni.fromBase64String(e))}catch(t){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mc(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Im{constructor(e){this._methodName=e}}class sI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const Q2=/^__.*__$/;class X2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new W_(e,this.data,t,this.fieldTransforms)}}class Q1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class oI{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new oI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(X1(this.sa)&&Q2.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class J2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||H0(e)}da(e,t,i,r=!1){return new oI({sa:e,methodName:t,fa:i,path:Hn.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Tm(n){const e=n._freezeSettings(),t=H0(n._databaseId);return new J2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aI(n,e,t,i,r,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,r);kM("Data must be an object, but it was:",u,i);const f=tN(i,u);let _,w;if(a.merge)_=new ts(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const A of a.mergeFields){const P=NM(e,A,t);if(!u.contains(P))throw new Oe(de.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);iN(I,P)||I.push(P)}_=new ts(I),w=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=u.fieldTransforms;return new X2(new mr(f),_,w)}class G0 extends Im{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof G0}}function J1(n,e,t){return new oI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class MM extends Im{_toFieldTransform(e){return new id(e.path,new Ye)}isEqual(e){return e instanceof MM}}class eB extends Im{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=J1(this,e,!0),i=this._a.map(a=>Sm(a,t)),r=new ut(i);return new id(e.path,r)}isEqual(e){return this===e}}class tB extends Im{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=J1(this,e,!0),i=this._a.map(a=>Sm(a,t)),r=new Et(i);return new id(e.path,r)}isEqual(e){return this===e}}class nB extends Im{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new gn(e.It,q(e.It,this.wa));return new id(e.path,t)}isEqual(e){return this===e}}function OM(n,e,t,i){const r=n.da(1,e,t);kM("Data must be an object, but it was:",r,i);const a=[],u=mr.empty();Qu(i,(_,w)=>{const I=lI(e,_,t);w=(0,an.m9)(w);const A=r.ca(I);if(w instanceof G0)a.push(I);else{const P=Sm(w,A);null!=P&&(a.push(I),u.set(I,P))}});const f=new ts(a);return new Q1(u,f,r.fieldTransforms)}function RM(n,e,t,i,r,a){const u=n.da(1,e,t),f=[NM(e,i,t)],_=[r];if(a.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(NM(e,a[P])),_.push(a[P+1]);const w=[],I=mr.empty();for(let P=f.length-1;P>=0;--P)if(!iN(w,f[P])){const V=f[P];let U=_[P];U=(0,an.m9)(U);const Q=u.ca(V);if(U instanceof G0)w.push(V);else{const ce=Sm(U,Q);null!=ce&&(w.push(V),I.set(V,ce))}}const A=new ts(w);return new Q1(I,A,u.fieldTransforms)}function eN(n,e,t,i=!1){return Sm(t,n.da(i?4:3,e))}function Sm(n,e){if(nN(n=(0,an.m9)(n)))return kM("Unsupported field value:",e,n),tN(n,e);if(n instanceof Im)return function(t,i){if(!X1(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Sm(u,i.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return q(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Pn.fromDate(t);return{timestampValue:A0(i.It,r)}}if(t instanceof Pn){const r=new Pn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:A0(i.It,r)}}if(t instanceof sI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mc)return{bytesValue:dk(i.It,t._byteString)};if(t instanceof Wn){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Qx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${eI(t)}`)}(n,e)}function tN(n,e){const t={};return g0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qu(n,(i,r)=>{const a=Sm(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function nN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof sI||n instanceof Mc||n instanceof Wn||n instanceof Im)}function kM(n,e,t){if(!nN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=eI(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function NM(n,e,t){if((e=(0,an.m9)(e))instanceof ad)return e._internalPath;if("string"==typeof e)return lI(n,e);throw cI("Field path arguments must be of type string or ",n,!1,void 0,t)}const iB=new RegExp("[~\\*/\\[\\]]");function lI(n,e,t){if(e.search(iB)>=0)throw cI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw cI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cI(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Oe(de.INVALID_ARGUMENT,f+n+_)}function iN(n,e){return n.some(t=>t.isEqual(e))}class q0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rB extends q0{data(){return super.data()}}function uI(n,e){return"string"==typeof e?lI(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}function rN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}function Jh(n,...e){for(const t of e)n=t._apply(n);return n}class sB extends W0{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Tm(e.firestore),i=function(r,a,u,f,_,w,I){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){uN(I,w);const V=[];for(const U of I)V.push(cN(f,r,U));A={arrayValue:{values:V}}}else A=cN(f,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||uN(I,w),A=eN(u,"where",I,"in"===w||"not-in"===w);const P=ir.create(_,w,A);return function(V,U){if(U.dt()){const ce=ND(V);if(null!==ce&&!ce.isEqual(U.field))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ce.toString()}' and '${U.field.toString()}'`);const Fe=kD(V);null!==Fe&&dN(0,U.field,Fe)}const Q=function(ce,Fe){for(const et of ce.filters)if(Fe.indexOf(et.op)>=0)return et.op;return null}(V,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==Q)throw new Oe(de.INVALID_ARGUMENT,Q===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ns(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class aB extends W0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new fm(r,a);return function(f,_){if(null===kD(f)){const w=ND(f);null!==w&&dN(0,w,_.field)}}(i,u),u}(e._query,this.ma,this.pa);return new ns(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new hl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class sN extends W0{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new ns(e.firestore,e.converter,l(e._query,this.Ia,this.Ta))}}class oN extends W0{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=lN(e,this.type,this.Ea,this.Aa);return new ns(e.firestore,e.converter,(r=t,new hl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class aN extends W0{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=lN(e,this.type,this.Ea,this.Aa);return new ns(e.firestore,e.converter,(r=t,new hl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lN(n,e,t,i){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof q0)return function(r,a,u,f,_){if(!f)throw new Oe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of s(r))if(I.field.isKeyField())w.push(Cc(a,f.key));else{const A=f.data.field(I.field);if(xD(A))throw new Oe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const P=I.field.canonicalString();throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(A)}return new nd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Tm(n.firestore);return function(a,u,f,_,w,I){const A=a.explicitOrderBy;if(w.length>A.length)throw new Oe(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<w.length;V++){const U=w[V];if(A[V].field.isKeyField()){if("string"!=typeof U)throw new Oe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!PD(a)&&-1!==U.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const Q=a.path.child(Gt.fromString(U));if(!Ze.isDocumentKey(Q))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ce=new Ze(Q);P.push(Cc(u,ce))}else{const Q=eN(f,_,U);P.push(Q)}}return new nd(P,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function cN(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PD(e)&&-1!==t.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Gt.fromString(t));if(!Ze.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cc(n,new Ze(i))}if(t instanceof Wn)return Cc(n,t._key);throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eI(t)}.`)}function uN(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dN(n,e,t){if(!t.isEqual(e))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class PM{convertValue(e,t="none"){switch(zh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const i={};return Qu(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new sI(ii(e.latitude),ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const t=vc(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Gt.fromString(e);At(bk(i));const r=new bc(i.get(1),i.get(3)),a=new Ze(i.popFirst(5));return r.isEqual(t)||Ei(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function dI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class mB extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class xm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends q0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Z0 extends ld{data(e={}){return super.data(e)}}class ef{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Z0(this._firestore,this._userDataWriter,i.key,i,new xm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Z0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Z0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:gB(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function hN(n,e){return n instanceof ld&&e instanceof ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&bM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function fN(n,e,t){n=sn(n,Wn);const i=sn(n.firestore,Zn),r=dI(n.converter,e,t);return cy(i,[aI(Tm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Mn.none())])}function pN(n,e,t,...i){n=sn(n,Wn);const r=sn(n.firestore,Zn),a=Tm(r);let u;return u="string"==typeof(e=(0,an.m9)(e))||e instanceof ad?RM(a,"updateDoc",n._key,e,t,i):OM(a,"updateDoc",n._key,e),cy(r,[u.toMutation(n._key,Mn.exists(!0))])}function mN(n,...e){var t,i,r;n=(0,an.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||AM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(AM(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,w,I;if(n instanceof Wn)w=sn(n.firestore,Zn),I=pm(n._key.path),_={next:A=>{e[u]&&e[u](FM(w,n,A))},error:e[u+1],complete:e[u+2]};else{const A=sn(n,ns);w=sn(A.firestore,Zn),I=A._query;const P=new tf(w);_={next:V=>{e[u]&&e[u](new ef(w,P,A,V))},error:e[u+1],complete:e[u+2]},rN(n._query)}return function(A,P,V,U){const Q=new nI(U),ce=new qA(P,Q,V);return A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return HA(yield ly(A),ce)})),()=>{Q.bc(),A.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return $A(yield ly(A),ce)}))}}(Fi(w),I,f,_)}function cy(n,e){return function(t,i){const r=new Ci;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function c2(n,e,t){return QA.apply(this,arguments)}(yield SM(t),i,r)})),r.promise}(Fi(n),e)}function FM(n,e,t){const i=t.docs.get(e._key),r=new tf(n);return new ld(n,r,e._key,i,new xm(t.hasPendingWrites,t.fromCache),e.converter)}const TB={maxAttempts:5};class gN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tm(e)}set(e,t,i){this._verifyNotCommitted();const r=nf(e,this._firestore),a=dI(r.converter,t,i),u=aI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Mn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=nf(e,this._firestore);let u;return u="string"==typeof(t=(0,an.m9)(t))||t instanceof ad?RM(this._dataReader,"WriteBatch.update",a._key,t,i,r):OM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new Z_(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Oe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class SB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tm(e)}get(e){const t=nf(e,this._firestore),i=new mB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const a=r[0];if(a.isFoundDocument())return new q0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new q0(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=nf(e,this._firestore),a=dI(r.converter,t,i),u=aI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=nf(e,this._firestore);let u;return u="string"==typeof(t=(0,an.m9)(t))||t instanceof ad?RM(this._dataReader,"Transaction.update",a._key,t,i,r):OM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),i=new tf(this._firestore);return super.get(e).then(r=>new ld(this._firestore,i,t._key,r._document,new xm(!1,!1),t.converter))}}function LM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yN(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function vN(){if(!function U_(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){am=rc.SDK_VERSION,(0,rc._registerComponent)(new xh.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new Zn(new Tx(t.getProvider("auth-internal")),new GR(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,rc.registerVersion)(Ex,"3.7.3",n),(0,rc.registerVersion)(Ex,"3.7.3","esm2017")}();class K0{constructor(e){this._delegate=e}static fromBase64String(e){return vN(),new K0(Mc.fromBase64String(e))}static fromUint8Array(e){return yN(),new K0(Mc.fromUint8Array(e))}toBase64(){return vN(),this._delegate.toBase64()}toUint8Array(){return yN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VM(n){return function FB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class LB{enableIndexedDbPersistence(e,t){return function $2(n,e){Y1(n=sn(n,Zn));const t=Fi(n),i=n._freezeSettings(),r=new yM;return K1(t,r,new O1(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function z2(n){Y1(n=sn(n,Zn));const e=Fi(n),t=n._freezeSettings(),i=new yM;return K1(e,i,new I2(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function G2(n){if(n._initialized&&!n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!co.C())return Promise.resolve();const r=i+"main";yield co.delete(r)}),function(i){return t.apply(this,arguments)})(dA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bN{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof bc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function V1(n,e,t,i={}){var r;const a=(n=sn(n,z0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&_c("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=pr.MOCK_USER;else{u=(0,an.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pr(_)}n._authCredentials=new Ix(new Cx(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function W2(n){return function k2(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield z1(n),t=yield TM(n);return e.setNetworkEnabled(!0),function(i){const r=We(i);return r._u.delete(0),j0(r)}(t)}))}(Fi(n=sn(n,Zn)))}(this._delegate)}disableNetwork(){return function Z2(n){return function N2(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield z1(n),t=yield TM(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const a=We(r);a._u.add(0),yield ty(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Fi(n=sn(n,Zn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,R1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function q2(n){return function(e){const t=new Ci;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function f2(n,e){return nM.apply(this,arguments)}(yield SM(e),t)})),t.promise}(Fi(n=sn(n,Zn)))}(this._delegate)}onSnapshotsInSync(e){return function IB(n,e){return function L2(n,e){const t=new nI(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield ly(n),r=t,We(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield ly(n),r=t,void We(i).Ru.delete(r);var i,r}))}}(Fi(n=sn(n,Zn)),AM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new uy(this,B1(this._delegate,e))}catch(t){throw Os(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,tI(this._delegate,e))}catch(t){throw Os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function T2(n,e){if(n=sn(n,z0),vM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(t=e,new hl(Gt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xB(n,e,t){n=sn(n,Zn);const i=Object.assign(Object.assign({},TB),t);return function(r){if(r.maxAttempts<1)throw new Oe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Ci;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function G1(n){return iI(n).then(e=>e.datastore)}(r);new O2(r.asyncQueue,_,u,a,f).run()})),f.promise}(Fi(n),r=>e(new SB(n,r)),i)}(this._delegate,t=>e(new wN(this,t)))}batch(){return Fi(this._delegate),new EN(new gN(this._delegate,e=>cy(this._delegate,e)))}loadBundle(e){return function K2(n,e){const t=Fi(n=sn(n,Zn)),i=new H2;return function V2(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return H1(_,w);if(_ instanceof ArrayBuffer)return H1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new S2(_,u);var _}(t,H0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function D2(n,e,t){const i=We(n);var r;(r=(0,ye.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(P,V){const U=We(P),Q=Sr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ce=>U.Ns.getBundleMetadata(ce,V.id)).then(ce=>!!ce&&ce.createTime.compareTo(Q)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(w1(_));const w=new n2(_,a.localStore,u.It);let I=yield u.mc();for(;I;){const P=yield w.Fu(I);P&&f._updateProgress(P),I=yield u.mc()}const A=yield w.complete();return yield od(a,A.Lu,void 0),yield function(P,V){const U=We(P);return U.persistence.runTransaction("Save bundle","readwrite",Q=>U.Ns.saveBundleMetadata(Q,V))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(_){return _c("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Y2(n,e){return function B2(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=We(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield rI(n),e)}))}(Fi(n=sn(n,Zn)),e).then(t=>t?new ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class hI extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new K0(new Mc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class wN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}get(e){const t=Mm(e);return this._delegate.get(t).then(i=>new Y0(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Mm(e);return i?(LM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Mm(e);return this._delegate.delete(t),this}}class EN{constructor(e){this._delegate=e}set(e,t,i){const r=Mm(e);return i?(LM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Mm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Mm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Am{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Z0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Q0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Am.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Am(e,new hI(e),t),r.set(t,a)),a}}Am.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new Wn(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new va(t,new Wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new uy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uy(this.firestore,B1(this._delegate,e))}catch(t){throw Os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof Wn&&U1(this._delegate,e)}set(e,t){t=LM("DocumentReference.set",t);try{return t?fN(this._delegate,e,t):fN(this._delegate,e)}catch(i){throw Os(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?pN(this._delegate,e):pN(this._delegate,e,t,...i)}catch(r){throw Os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function CB(n){return cy(sn(n.firestore,Zn),[new Z_(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=CN(e),i=DN(e,r=>new Y0(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return mN(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function yB(n){n=sn(n,Wn);const e=sn(n.firestore,Zn),t=Fi(e),i=new tf(e);return function P2(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield function(_,w){const I=We(_);return I.persistence.runTransaction("read document","readonly",A=>I.localDocuments.getDocument(A,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ry(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield rI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ld(e,i,n._key,r,new xm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function vB(n){n=sn(n,Wn);const e=sn(n.firestore,Zn);return q1(Fi(e),n._key,{source:"server"}).then(t=>FM(e,n,t))}(this._delegate):function _B(n){n=sn(n,Wn);const e=sn(n.firestore,Zn);return q1(Fi(e),n._key).then(t=>FM(e,n,t))}(this._delegate),t.then(i=>new Y0(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?Am.getInstance(this.firestore,e):null))}}function Os(n,e,t){return n.message=n.message.replace(e,t),n}function CN(n){for(const e of n)if("object"==typeof e&&!VM(e))return e;return{}}function DN(n,e){var t,i;let r;return r=VM(n[0])?n[0]:VM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Y0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hN(this._delegate,e._delegate)}}class Q0 extends Y0{data(e){const t=this._delegate.data(e);return function zR(n,e){n||rt()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}where(e,t,i){try{return new Rs(this.firestore,Jh(this._delegate,function oB(n,e,t){const i=e,r=uI("where",n);return new sB(r,i,t)}(e,t,i)))}catch(r){throw Os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,Jh(this._delegate,function lB(n,e="asc"){const t=e,i=uI("orderBy",n);return new aB(i,t)}(e,t)))}catch(i){throw Os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,Jh(this._delegate,function cB(n){return P1("limit",n),new sN("limit",n,"F")}(e)))}catch(t){throw Os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,Jh(this._delegate,function uB(n){return P1("limitToLast",n),new sN("limitToLast",n,"L")}(e)))}catch(t){throw Os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,Jh(this._delegate,function dB(...n){return new oN("startAt",n,!0)}(...e)))}catch(t){throw Os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,Jh(this._delegate,function hB(...n){return new oN("startAfter",n,!1)}(...e)))}catch(t){throw Os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,Jh(this._delegate,function fB(...n){return new aN("endBefore",n,!1)}(...e)))}catch(t){throw Os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,Jh(this._delegate,function pB(...n){return new aN("endAt",n,!0)}(...e)))}catch(t){throw Os(t,"endAt()","Query.endAt()")}}isEqual(e){return bM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wB(n){n=sn(n,ns);const e=sn(n.firestore,Zn),t=Fi(e),i=new tf(e);return function F2(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield ZD(r,a,!0),_=new D1(a,f.Hi),w=_.Wu(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=ry(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield rI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ef(e,i,n,r))}(this._delegate):"server"===e?.source?function EB(n){n=sn(n,ns);const e=sn(n.firestore,Zn),t=Fi(e),i=new tf(e);return W1(t,n._query,{source:"server"}).then(r=>new ef(e,i,n,r))}(this._delegate):function bB(n){n=sn(n,ns);const e=sn(n.firestore,Zn),t=Fi(e),i=new tf(e);return rN(n._query),W1(t,n._query).then(r=>new ef(e,i,n,r))}(this._delegate),t.then(i=>new BM(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=CN(e),i=DN(e,r=>new BM(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return mN(this._delegate,t,i)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Am.getInstance(this.firestore,e):null))}}class BB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Q0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Q0(this._firestore,i))})}isEqual(e){return hN(this._delegate,e._delegate)}}class uy extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?tI(this._delegate):tI(this._delegate,e))}catch(t){throw Os(t,"doc()","CollectionReference.doc()")}}add(e){return function DB(n,e){const t=sn(n.firestore,Zn),i=tI(n),r=dI(n.converter,e);return cy(t,[aI(Tm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return U1(this._delegate,e._delegate)}withConverter(e){return new uy(this.firestore,this._delegate.withConverter(e?Am.getInstance(this.firestore,e):null))}}function Mm(n){return sn(n,Wn)}class UM{constructor(...e){this._delegate=new ad(...e)}static documentId(){return new UM(Hn.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class Om{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MB(){return new MM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Om(e)}static delete(){const e=function AB(){return new G0("deleteField")}();return e._methodName="FieldValue.delete",new Om(e)}static arrayUnion(...e){const t=function OB(...n){return new eB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Om(t)}static arrayRemove(...e){const t=function RB(...n){return new tB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Om(t)}static increment(e){const t=function kB(n){return new nB("increment",n)}(e);return t._methodName="FieldValue.increment",new Om(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const UB={Firestore:bN,GeoPoint:sI,Timestamp:Pn,Blob:K0,Transaction:wN,WriteBatch:EN,DocumentReference:va,DocumentSnapshot:Y0,Query:Rs,QueryDocumentSnapshot:Q0,QuerySnapshot:BM,CollectionReference:uy,FieldPath:UM,FieldValue:Om,setLogLevel:function VB(n){!function $R(n){Wu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function IN(n,e){return function $B(n,e=ub.z){return new _i.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function HM(n,e){return IN(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function fI(n,e){return HM(n,e).pipe(to(void 0),o_(),(0,it.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function TN(n,e,t){return fI(n,t).pipe(jd((i,r)=>function GB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),a_(),(0,it.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function jM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function SN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function jB(n){(function HB(n,e){n.INTERNAL.registerComponent(new xh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},UB)))})(n,(e,t)=>new bN(e,t,new LB)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(pC.Z);class xN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=fI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(to(void 0),o_(),Bn(([i,r])=>r.length>0||!i),(0,it.U)(([i,r])=>r),Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SN(e);return TN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return HM(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ni.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ni.iC)}add(e){return this.ref.add(e)}doc(e){return new AN(this.ref.doc(e),this.afs)}}class AN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=RN(i,t);return new xN(r,a,this.afs)}snapshotChanges(){return function zB(n,e){return IN(n,e).pipe(to(void 0),o_(),(0,it.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(Ni.iC)}}class WB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?fI(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Bn(t=>t.length>0),Ni.iC):fI(this.query,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SN(e);return TN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return HM(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ni.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ni.iC)}}const MN=new c.OlP("angularfire2.enableFirestorePersistence"),ON=new c.OlP("angularfire2.firestore.persistenceSettings"),ZB=new c.OlP("angularfire2.firestore.settings"),KB=new c.OlP("angularfire2.firestore.use-emulator");function RN(n,e=(t=>t)){return{query:e(n),ref:n}}let kN=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,P,V,U,Q,ce,Fe,et){this.schedulers=_;const dt=(0,ao.on)(t,f,i),lt=I;A&&Vp(dt,f,P,U,Q,ce,V,Fe),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const Ot=f.runOutsideAngular(()=>dt.firestore());if(a&&Ot.settings(a),lt&&Ot.useEmulator(...lt),r&&!Bc(u)){const Pt=()=>{try{return(0,vn.D)(Ot.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),qe(!1)}};return[Ot,f.runOutsideAngular(Pt)]}return[Ot,qe(!1)]},[a,lt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=RN(r,i),f=this.schedulers.ngZone.run(()=>a);return new xN(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new WB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new AN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ao.Dh),c.LFG(ao.xv,8),c.LFG(MN,8),c.LFG(ZB,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ni.HU),c.LFG(ON,8),c.LFG(KB,8),c.LFG(ac,8),c.LFG(Tt,8),c.LFG(uC,8),c.LFG(dC,8),c.LFG(hC,8),c.LFG(Vu,8),c.LFG(fC,8),c.LFG(r_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YB=(()=>{class n{constructor(){cb.Z.registerVersion("angularfire",Ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:MN,useValue:!0},{provide:ON,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kN]}),n})();class NN{}class QB{}const cd="*";function X0(n,e){return{type:7,name:n,definitions:e,options:{}}}function Rm(n,e=null){return{type:4,styles:e,timings:n}}function FN(n,e=null){return{type:2,steps:n,options:e}}function fo(n){return{type:6,styles:n,offset:null}}function km(n,e,t){return{type:0,name:n,styles:e,options:t}}function rf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $M(n=null){return{type:9,options:n}}function zM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function LN(n){Promise.resolve().then(n)}class J0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class VN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?LN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const BN=["toast-component",""];function XB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function JB(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function eU(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,JB,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function tU(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function nU(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function iU(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class uU{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dU{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class hU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new _t.x,this._activate=new _t.x,this._manualClose=new _t.x,this._resetTimeout=new _t.x,this._countDuplicate=new _t.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class pI{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new _t.x,this._onAction=new _t.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const HN=new c.OlP("ToastConfig");class fU extends dU{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class pU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let mU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gU=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new fU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new pU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mU),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ew=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&a.enableHtml&&(w=this.sanitizer.sanitize(c.q3G.HTML,i));const I=new hU(_),A=new pI(this.index,a,w,r,t,I),V=c.zs3.create({providers:[{provide:pI,useValue:A}],parent:this._injector}),U=new uU(a.toastComponent,V),Q=_.attach(U,a.newestOnTop);I.componentInstance=Q.instance;const ce={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:Q};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ce.toastRef.activate()})),this.toasts.push(ce),ce}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(HN),c.LFG(gU),c.LFG(c.zs3),c.LFG(lu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _U={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ew),c.Y36(pI),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",i.state),c.Tol(i.toastClasses),c.Udp("display",i.displayStyle))},attrs:BN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(c.YNc(0,XB,3,0,"button",0),c.YNc(1,eU,3,5,"div",1),c.YNc(2,tU,1,3,"div",2),c.YNc(3,nU,2,4,"div",3),c.YNc(4,iU,2,2,"div",4)),2&t&&(c.Q6J("ngIf",i.options.closeButton),c.xp6(1),c.Q6J("ngIf",i.title),c.xp6(1),c.Q6J("ngIf",i.message&&i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.message&&!i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.options.progressBar))},dependencies:[tn],encapsulation:2,data:{animation:[X0("flyInOut",[km("inactive",fo({opacity:0})),km("active",fo({opacity:1})),km("removed",fo({opacity:0})),rf("inactive => active",Rm("{{ easeTime }}ms {{ easing }}")),rf("active => removed",Rm("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let qM,yU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:HN,useValue:{default:_U,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mi]}),n})();class ud{constructor(e,t){this.firestore=e,this.toastr=t}uploadClient(e){var t=this;return(0,ye.Z)(function*(){let i={...e},r=t.firestore.createId();i.id=r,i.favorites=new Array,i.notifications=new Array,yield t.firestore.collection("users").doc(r).set(i)})()}createUsersObserver(e){return this.usersFirebase=this.firestore.collection("users",t=>t.where("id","==",e.id)),this.usersObservable=this.usersFirebase.valueChanges(),this.usersObservable}getUsers(){var e=this;return(0,ye.Z)(function*(){let t;e.usersList=new Array,yield e.firestore.collection("users").ref.get().then(r=>r.forEach(a=>{t=a.data(),e.usersList.push(t)}))})()}getUserByMail(e){return this.firestore.collection("users",t=>t.where("email","==",e)).snapshotChanges()}addNewFavorite(e,t){e.favorites.findIndex(r=>r.id===t.id)<0?(e.favorites.push(t),this.firestore.collection("users").doc(e.id).update({favorites:e.favorites}).then(()=>{this.toastr.success(`${t.name} was added to favorites`,"Nice!")}).catch(a=>{console.log(a)})):this.toastr.error(`${t.name} is already in your favorites!`,"Error!")}delteFavorite(e,t){let i=e.favorites.findIndex(r=>r.id===t.id);i>-1?(e.favorites.splice(i,1),this.firestore.collection("users").doc(e.id).update({favorites:e.favorites}).then(()=>{this.toastr.success(`${t.name} was deleted of your favorites`,"Nice!")}).catch(a=>{console.log(a)})):this.toastr.error(`${t.name} is not in your favorites!`,"Error!")}addNewNotification(e,t){e.notifications.push(t),this.firestore.collection("users").doc(e.id).update({notifications:e.notifications}).then(()=>{this.toastr.success(`Notification for ${t.city} was created`,"New notification created \u{1f514}")}).catch(r=>{console.log(r)})}deleteNotification(e,t){let i=e.notifications.findIndex(r=>r.id===t.id);i>-1?(e.notifications.splice(i,1),this.firestore.collection("users").doc(e.id).update({notifications:e.notifications}).then(()=>{this.toastr.success(`Notification for ${t.city} was deleted`,"Nice!")}).catch(a=>{console.log(a)})):this.toastr.error(`Notification for ${t.city} is not created!`,"Error!")}static#e=this.\u0275fac=function(t){return new(t||ud)(c.LFG(kN),c.LFG(ew))};static#t=this.\u0275prov=c.Yz7({token:ud,factory:ud.\u0275fac,providedIn:"root"})}class fl{constructor(e,t,i,r,a){this.angularFireAuth=e,this.fireAuth=t,this.router=i,this.userService=r,this.toast=a,this.isLoggedIn=!1,this.userSettedEvent=new c.vpe}createUser(e){return new Promise((t,i)=>{this.angularFireAuth.createUserWithEmailAndPassword(e.email,e.password).then(r=>{this.toast.success("Account successfully created!.","Welcome!",{positionClass:"toast-top-center"}),this.isLoggedIn=!0,this.userService.uploadClient(e),this.setLoggedInUser(e.email)},r=>i(r))})}signinUser(e){return this.fireAuth.signInWithEmailAndPassword(e.email,e.password).then(t=>{this.isLoggedIn=!0,this.setLoggedInUser(e.email)}).catch(t=>{this.toast.error("Incorrect email or password, try again.","ERROR",{positionClass:"toast-top-center"})})}signoutUser(){return new Promise((e,t)=>{this.angularFireAuth.signOut().then(()=>{this.router.navigateByUrl("login"),this.isLoggedIn=!1,this.userLoggedIn={}}).catch(()=>{t()})})}userDetails(){return this.angularFireAuth.user}setLoggedInUser(e){this.userService.getUsers().then(()=>{this.userService.usersList.forEach(t=>{t.email===e&&(this.userLoggedIn=t)}),this.userSettedEvent.emit(!0)})}static#e=this.\u0275fac=function(t){return new(t||fl)(c.LFG(ac),c.LFG(ac),c.LFG(wi),c.LFG(ud),c.LFG(ew))};static#t=this.\u0275prov=c.Yz7({token:fl,factory:fl.\u0275fac,providedIn:"root"})}try{qM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qM=!1}let dy,po=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function gf(n){return n===Ed}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $N(){if(dy)return dy;if("object"!=typeof document||!document)return dy=new Set(jN),dy;let n=document.createElement("input");return dy=new Set(jN.filter(e=>(n.setAttribute("type",e),n.type===e))),dy}let tw,Nm,WM;function mI(n){return function vU(){if(null==tw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tw=!0}))}finally{tw=tw||!1}return tw}()?n:!!n.capture}function bU(){if(null==Nm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Nm=!1,Nm;if("scrollBehavior"in document.documentElement.style)Nm=!0;else{const n=Element.prototype.scrollTo;Nm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Nm}function ZM(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Pm(n){return n.composedPath?n.composedPath()[0]:n.target}function KM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function tO(n,e=ub.z){return(0,Nn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);f()}t.subscribe((0,L.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function WN(n){return Bn((e,t)=>n<=t)}var FU=N(5032);function ba(n){return(0,Nn.e)((e,t)=>{(0,ot.Xf)(n).subscribe((0,L.x)(t,()=>t.complete(),FU.Z)),!t.closed&&e.subscribe(t)})}function is(n){return null!=n&&"false"!=`${n}`}function sf(n,e=0){return function LU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function _I(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function dd(n){return n instanceof c.SBq?n.nativeElement:n}let ZN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=dd(t);return new _i.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new _t.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ZN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=is(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=sf(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(tO(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(VU),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZN]}),n})();const YN=new Set;let hy,UU=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function HU(n){if(!YN.has(n))try{hy||(hy=document.createElement("style"),hy.setAttribute("type","text/css"),document.head.appendChild(hy)),hy.sheet&&(hy.sheet.insertRule(`@media ${n} {body{ }}`,0),YN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let $U=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new _t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return QN(_I(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=re(QN(_I(t)).map(u=>this._registerQuery(u).observable));return a=St(a.pipe(Yi(1)),a.pipe(WN(1),tO(0))),a.pipe((0,it.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new _i.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(to(i),(0,it.U)(({matches:u})=>({query:t,matches:u})),ba(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UU),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class qU{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _t.x,this._typeaheadSubscription=Hr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new _t.x,this.change=new _t.x,e instanceof c.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,yi.b)(t=>this._pressedLetters.push(t)),tO(e),Bn(()=>this._pressedLetters.length>0),(0,it.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(a<u?a:u-1,-1);break}return;default:return void((r||Fm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class WU extends qU{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let yI=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function KU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function ZU(n){try{return n.frameElement}catch{return null}}(function iH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===tP(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=tP(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function tH(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function nH(n){return!function QU(n){return function JU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function YU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function XU(n){return function eH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||eP(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function tP(n){if(!eP(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class rH{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Yi(1)).subscribe(e)}}let nO=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new rH(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yI),c.LFG(c.R0b),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sH=new c.OlP("cdk-input-modality-detector-options"),oH={ignoreKeys:[18,17,224,91,16]},fy=mI({passive:!0,capture:!0});let aH=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new ei(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nP(u)?"keyboard":"mouse"),this._mostRecentTarget=Pm(u))},this._onTouchstart=u=>{iP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pm(u))},this._options={...oH,...a},this.modalityDetected=this._modality.pipe(WN(1)),this.modalityChanged=this.modalityDetected.pipe(a_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fy),r.addEventListener("mousedown",this._onMousedown,fy),r.addEventListener("touchstart",this._onTouchstart,fy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fy),document.removeEventListener("mousedown",this._onMousedown,fy),document.removeEventListener("touchstart",this._onTouchstart,fy))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po),c.LFG(c.R0b),c.LFG(te),c.LFG(sH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lH=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function cH(){return null}}),uH=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dH=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lH,8),c.LFG(c.R0b),c.LFG(te),c.LFG(uH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hH=new c.OlP("cdk-focus-monitor-default-options"),vI=mI({passive:!0,capture:!0});let iO=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=Pm(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=dd(t);if(!this._platform.isBrowser||1!==r.nodeType)return qe(null);const a=function EU(n){if(function wU(){if(null==WM){const n=typeof document<"u"?document.head:null;WM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return WM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new _t.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=dd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=dd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Pm(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ba(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(po),c.LFG(aH),c.LFG(te,8),c.LFG(hH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sP="cdk-high-contrast-black-on-white",oP="cdk-high-contrast-white-on-black",rO="cdk-high-contrast-active";let aP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)($U).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rO,sP,oP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(rO,sP):2===i&&t.add(rO,oP)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fH=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aP))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[KN]}),n})();const pH=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function mH(){return(0,c.f3M)(te)}}),gH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let py=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function _H(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function yH(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function vH(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const bH=["*"],EH=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function wH(){return!0}});let jo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!KM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aP),c.LFG(EH,8),c.LFG(te))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nw,nw]}),n})();function CH(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=is(e)}}}function DH(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function IH(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=is(e)}}}function TH(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?sf(t):this.defaultTabIndex}}}function uP(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let dP=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xH{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hP={enterDuration:225,exitDuration:150},sO=mI({passive:!0}),fP=["mousedown","touchstart"],pP=["mouseup","mouseleave","touchend","touchcancel"];class MH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=dd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...hP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function OH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const A=window.getComputedStyle(I),V=A.transitionDuration,U="none"===A.transitionProperty||"0s"===V||"0s, 0s"===V,Q=new xH(this,I,i,U);I.style.transform="scale3d(1, 1, 1)",Q.state=0,i.persistent||(this._mostRecentTransientRipple=Q);let ce=null;return!U&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Fe=()=>this._finishRippleTransition(Q),et=()=>this._destroyRipple(Q);I.addEventListener("transitionend",Fe),I.addEventListener("transitioncancel",et),ce={onTransitionEnd:Fe,onTransitionCancel:et}}),this._activeRipples.set(Q,ce),(U||!w)&&this._finishRippleTransition(Q),Q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...hP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=dd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(fP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=nP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,sO)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(fP.forEach(e=>{this._triggerElement.removeEventListener(e,this,sO)}),this._pointerUpEventsRegistered&&pP.forEach(e=>{this._triggerElement.removeEventListener(e,this,sO)}))}}const RH=new c.OlP("mat-ripple-global-options");let kH=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new MH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(po),c.Y36(RH,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),NH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jo,jo]}),n})(),PH=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jo]}),n})();const mP=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),gP=new c.OlP("MatOptgroup");let LH=0;class VH{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let BH=(()=>{class n{constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+LH++,this.onSelectionChange=new c.vpe,this._stateChanges=new _t.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=is(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Fm(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new VH(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),_P=(()=>{class n extends BH{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(mP,8),c.Y36(gP,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:bH,decls:5,vars:4,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,yH,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,vH,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[kH,tn,PH],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-pseudo-checkbox{margin-right:16px}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox{margin-right:0;margin-left:16px}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[NH,mi,jo,FH]}),n})();const jH=["determinateSpinner"];function $H(n,e){if(1&n&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&n){const t=c.oxw();c.uIk("viewBox",t._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),c.uIk("r",t._circleRadius())}}const zH=DH(class{constructor(n){this._elementRef=n}},"primary"),GH=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function qH(){return{diameter:vP}}}),vP=100;let bP=(()=>{class n extends zH{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=vP,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,sf(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=sf(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=sf(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(GH))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&c.Gf(jH,5),2&t){let r;c.iGM(r=c.CRH())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,i){2&t&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),c.Udp("width",i.diameter,"px")("height",i.diameter,"px"),c.ekj("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(c.YNc(0,$H,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&t){const r=c.MAs(1);c.xp6(4),c.uIk("viewBox",i._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),c.uIk("r",i._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",r),c.xp6(2),c.Q6J("ngTemplateOutlet",r),c.xp6(2),c.Q6J("ngTemplateOutlet",r)}},dependencies:[Ai],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),ZH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mi,jo]}),n})();function KH(n,e){if(1&n&&(c.TgZ(0,"div",12),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function YH(n,e){if(1&n&&(c.ynx(0),c.YNc(1,KH,2,1,"div",11),c.BQk()),2&n){const t=e.$implicit,i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",i.loginForm.get("email").hasError(t.type)&&(i.loginForm.get("email").dirty||i.loginForm.get("email").touched))}}function QH(n,e){if(1&n&&(c.TgZ(0,"div",12),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function XH(n,e){if(1&n&&(c.ynx(0),c.YNc(1,QH,2,1,"div",11),c.BQk()),2&n){const t=e.$implicit,i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",i.loginForm.get("password").hasError(t.type)&&(i.loginForm.get("password").dirty||i.loginForm.get("password").touched))}}function JH(n,e){if(1&n&&c._UZ(0,"input",13),2&n){const t=c.oxw(2);c.s9C("value",t.submitMessage),c.Q6J("disabled",!t.loginForm.valid)}}function ej(n,e){1&n&&(c.TgZ(0,"div",14),c._UZ(1,"mat-spinner"),c.qZA())}function tj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.changeFormState())}),c._uU(1,"Don't have an account? Register."),c.qZA()}}function nj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.changeFormState())}),c._uU(1,"Already have an account? Login."),c.qZA()}}function ij(n,e){if(1&n&&(c.TgZ(0,"div")(1,"p",3)(2,"span",4),c._uU(3),c.qZA()(),c._UZ(4,"input",5),c.YNc(5,YH,2,1,"ng-container",6),c._UZ(6,"input",7),c.YNc(7,XH,2,1,"ng-container",6),c.YNc(8,JH,1,2,"input",8),c.YNc(9,ej,2,0,"div",9),c.YNc(10,tj,2,0,"a",10),c.YNc(11,nj,2,0,"a",10),c.qZA()),2&n){const t=c.oxw();c.xp6(3),c.hij(" ",t.title,""),c.xp6(2),c.Q6J("ngForOf",t.error_msg.email),c.xp6(2),c.Q6J("ngForOf",t.error_msg.password),c.xp6(1),c.Q6J("ngIf",!t.loading),c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",!t.loading&&!t.isSignUp),c.xp6(1),c.Q6J("ngIf",!t.loading&&t.isSignUp)}}function rj(n,e){1&n&&(c.TgZ(0,"div",16),c._UZ(1,"mat-spinner"),c.qZA())}class bI{constructor(e,t,i){this.authService=e,this.router=t,this.formBuilder=i,this.loading=!1,this.isSignUp=!1,this.title="Sign In",this.submitMessage="Login",this.error_msg={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Invalid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Minimun of 6 characters."}]},e.userSettedEvent.subscribe(r=>this.isLogged(r))}ngOnInit(){this.loginForm=this.formBuilder.group({email:new Vo("",qn.compose([qn.required,qn.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new Vo("",qn.compose([qn.minLength(6),qn.required]))})}formSubmit(e){this.loading=!0,this.isSignUp?this.authService.createUser(e).then(t=>{},t=>{console.log(t)}):this.subscription=this.authService.signinUser(e).then(t=>{})}changeFormState(){this.loading=!0,setTimeout(()=>{this.isSignUp=!this.isSignUp,this.title="Sign In"===this.title?"Sing Up":"Sign In",this.submitMessage="Sign In"===this.title?"Login":"Register",this.loading=!1},500)}test(){this.loginForm.setValue({email:"martin@hotmail.com",password:"123456"})}isLogged(e){e&&(this.loading=!1,this.router.navigateByUrl("weather"))}static#e=this.\u0275fac=function(t){return new(t||bI)(c.Y36(fl),c.Y36(wi),c.Y36(ic))};static#t=this.\u0275cmp=c.Xpm({type:bI,selectors:[["app-login"]],decls:3,vars:3,consts:[[1,"login-form",3,"formGroup","ngSubmit"],[4,"ngIf"],["class","form-spinner w-100",4,"ngIf"],[1,"login-panel-title"],[1,"font-weight-bold"],["formControlName","email","type","email","required","true","placeholder","Email","name","ec",1,"login-panel-input"],[4,"ngFor","ngForOf"],["formControlName","password","type","password","required","true","placeholder","Password","name","pc",1,"login-panel-input"],["type","submit","expand","block","name","Login","class","btn btn-login-submit",3,"disabled","value",4,"ngIf"],["class","login-form-spinner",4,"ngIf"],["class","form-login-register-link",3,"click",4,"ngIf"],["class","login-form-validation-error",4,"ngIf"],[1,"login-form-validation-error"],["type","submit","expand","block","name","Login",1,"btn","btn-login-submit",3,"disabled","value"],[1,"login-form-spinner"],[1,"form-login-register-link",3,"click"],[1,"form-spinner","w-100"]],template:function(t,i){1&t&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return i.formSubmit(i.loginForm.value)}),c.YNc(1,ij,12,7,"div",1),c.YNc(2,rj,2,0,"div",2),c.qZA()),2&t&&(c.Q6J("formGroup",i.loginForm),c.xp6(1),c.Q6J("ngIf",!i.loading),c.xp6(1),c.Q6J("ngIf",i.loading))},dependencies:[zi,tn,Th,xu,xg,wh,Av,ec,Ep,bP],styles:[".login-form-validation-error[_ngcontent-%COMP%]{color:red;font-weight:700;border:2px solid red;background-color:#fff;width:calc(100% - 2rem);margin:1rem;text-align:center}.form-login-register-link[_ngcontent-%COMP%]{text-decoration:underline!important;text-align:center;display:block;color:#007bff!important}.form-login-register-link[_ngcontent-%COMP%]:hover{cursor:pointer}.login-form[_ngcontent-%COMP%]{box-shadow:0 0 1rem #000;min-height:10rem;margin:2rem auto;padding:.5rem;border:8px solid black;border-radius:6%;background-color:#fcd462;overflow-x:hidden;overflow-y:auto;width:30rem}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}.btn-login-submit[_ngcontent-%COMP%]{display:block;margin:1rem auto;min-width:1px;padding:.5rem;cursor:pointer}.btn-login-submit[_ngcontent-%COMP%]:hover:hover{transform:translateY(+7px);box-shadow:0 15px 20px #2ee59d66}.login-submit[_ngcontent-%COMP%]:focus{background:white;color:#000;transition:.25s background ease-in}.login-form-input[_ngcontent-%COMP%]{border:0 solid;border-bottom:1px solid rgba(white,.5);color:#000;display:block;margin:1rem;padding:.5rem;transition:.25s background ease-in;width:calc(100% - 2rem)}.login-form-input[_ngcontent-%COMP%]:focus{background:white;color:#000;transition:.25s background ease-in}.login-form-title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin:0 auto;max-width:50%;padding:.5rem;text-align:center}.login-form-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: black}.login-panel-title[_ngcontent-%COMP%]{margin:2rem auto;text-align:center;box-shadow:0 0 1rem #000;padding:.5rem;border:2px solid black;border-radius:2rem;background-color:#fff;width:50%}.login-panel-input[_ngcontent-%COMP%]{width:60%;border:2px solid black;padding:.375rem .75rem;transition:.25s background ease-in;width:calc(100% - 2rem);margin:1rem auto;display:block}.form-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}"]})}var sj=N(1144);const oj=["addListener","removeListener"],aj=["addEventListener","removeEventListener"],lj=["on","off"];function oO(n,e,t,i){if((0,ki.m)(t)&&(i=t,t=void 0),i)return oO(n,e,t).pipe(T(i));const[r,a]=function dj(n){return(0,ki.m)(n.addEventListener)&&(0,ki.m)(n.removeEventListener)}(n)?aj.map(u=>f=>n[u](e,f,t)):function cj(n){return(0,ki.m)(n.addListener)&&(0,ki.m)(n.removeListener)}(n)?oj.map(wP(n,e)):function uj(n){return(0,ki.m)(n.on)&&(0,ki.m)(n.off)}(n)?lj.map(wP(n,e)):[];if(!r&&(0,sj.z)(n))return(0,Qi.z)(u=>oO(u,e,t))((0,ot.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new _i.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function wP(n,e){return t=>i=>n[t](e,i)}var EP=N(4408);const rw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=rw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Hr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=rw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var CP=N(7565);new class fj extends CP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hj extends EP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(rw.cancelAnimationFrame(t),e._scheduled=void 0)}});let aO,mj=1;const wI={};function DP(n){return n in wI&&(delete wI[n],!0)}const gj={setImmediate(n){const e=mj++;return wI[e]=!0,aO||(aO=Promise.resolve()),aO.then(()=>DP(e)&&n()),e},clearImmediate(n){DP(n)}},{setImmediate:_j,clearImmediate:yj}=gj,EI={setImmediate(...n){const{delegate:e}=EI;return(e?.setImmediate||_j)(...n)},clearImmediate(n){const{delegate:e}=EI;return(e?.clearImmediate||yj)(n)},delegate:void 0};new class bj extends CP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class vj extends EP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=EI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(EI.clearImmediate(t),e._scheduled=void 0)}});var Cj=N(3532);function IP(n,e=ub.z){return function Ej(n){return(0,Nn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,L.x)(t,w=>{i=!0,r=w,a||(0,ot.Xf)(n(w)).subscribe(a=(0,L.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Ij(n=0,e,t=ub.P){let i=-1;return null!=e&&((0,Cj.K)(e)?t=e:i=e),new _i.y(r=>{let a=function Dj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let Sj=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new _t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _i.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(IP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Bn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=dd(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>oO(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(po),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lO=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new _t.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po),c.LFG(c.R0b),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),TP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nw,cO,nw,cO]}),n})();class uO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dO extends uO{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class hO extends uO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Aj extends uO{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class fO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof dO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof hO?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Aj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Mj extends fO{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pO=(()=>{class n extends fO{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(te))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),CI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const SP=bU();class Oj{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=sr(-this._previousScrollPosition.left),e.style.top=sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),SP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),SP&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Rj{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xP{enable(){}disable(){}attach(){}}function mO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function AP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kj{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();mO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Nj=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xP,this.close=u=>new Rj(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Oj(this._viewportRuler,this._document),this.reposition=u=>new kj(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sj),c.LFG(lO),c.LFG(c.R0b),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gO{constructor(e){if(this.scrollStrategy=new xP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Pj{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let MP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fj=(()=>{class n extends MP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lj=(()=>{class n extends MP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Pm(a)},this._clickListener=a=>{const u=Pm(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const A=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(po),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DI=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||KM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),KM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(po))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sw{constructor(e,t,i,r,a,u,f,_,w,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new _t.x,this._attachments=new _t.x,this._detachments=new _t.x,this._locationChanges=Hr.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new _t.x,this._outsidePointerEvents=new _t.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Yi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=sr(this._config.width),e.height=sr(this._config.height),e.minWidth=sr(this._config.minWidth),e.minHeight=sr(this._config.minHeight),e.maxWidth=sr(this._config.maxWidth),e.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=_I(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ba((0,oo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const OP="cdk-overlay-connected-position-bounding-box",Vj=/([A-Za-z%]+)$/;class Bj{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.x,this._resizeSubscription=Hr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(OP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=kP(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let P=0-f,V=f+a.height-i.height,U=this._subtractOverflows(a.width,0-u,u+a.width-i.width),Q=this._subtractOverflows(a.height,P,V),ce=U*Q;return{visibleArea:ce,isCompletelyWithinViewport:a.width*a.height===ce,fitsInViewportVertically:Q===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=RP(this._overlayRef.getConfig().minHeight),f=RP(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=kP(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let I=0,A=0;return I=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,A=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:A},{x:e.x+I,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Pj(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,A,P;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)A=e.x,I=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;I=2*V,A=e.x-V,I>U&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-U/2)}return{top:u,left:A,bottom:f,right:P,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=sr(a)),u&&(r.maxWidth=sr(u))}this._lastBoundingBoxSize=i,Lm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Lm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Lm(i,this._getExactOverlayY(t,e,I)),Lm(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=sr(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=sr(u.maxWidth):a&&(i.maxWidth="")),Lm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=sr(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=sr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AP(e,i),isOriginOutsideView:mO(e,i),isOverlayClipped:AP(t,i),isOverlayOutsideView:mO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&_I(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Lm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function RP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Vj);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const NP="cdk-global-overlay-wrapper";class Uj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(NP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,A=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",U="",Q="";_?Q="flex-start":"center"===I?(Q="center",P?U=A:V=A):P?"left"===I||"end"===I?(Q="flex-end",V=A):("right"===I||"start"===I)&&(Q="flex-start",U=A):"left"===I||"start"===I?(Q="flex-start",V=A):("right"===I||"end"===I)&&(Q="flex-end",U=A),e.position=this._cssPosition,e.marginLeft=_?"0":V,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":U,t.justifyContent=Q,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(NP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Hj=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new Uj}flexibleConnectedTo(t){return new Bj(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lO),c.LFG(te),c.LFG(po),c.LFG(DI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jj=0,af=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,P,V){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=A,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new gO(t);return u.direction=u.direction||this._directionality.value,new sw(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jj++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Mj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nj),c.LFG(DI),c.LFG(c._Vd),c.LFG(Hj),c.LFG(Fj),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(te),c.LFG(py),c.LFG(Te),c.LFG(Lj),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $j=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],PP=new c.OlP("cdk-connected-overlay-scroll-strategy");let _O=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),FP=(()=>{class n{constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Hr.w0.EMPTY,this._attachSubscription=Hr.w0.EMPTY,this._detachSubscription=Hr.w0.EMPTY,this._positionSubscription=Hr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new hO(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=is(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=is(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=is(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=is(t)}get push(){return this._push}set push(t){this._push=is(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$j);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Fm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new gO({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof _O?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(zd(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(af),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(PP),c.Y36(py,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const Gj={provide:PP,deps:[af],useFactory:function zj(n){return()=>n.scrollStrategies.reposition()}};let yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[af,Gj],imports:[nw,CI,TP,TP]}),n})();var Vm_OPEN="mdc-dialog--open",LP_DIALOG_ANIMATION_CLOSE_TIME_MS=(["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),75);function qj(n,e){}class II{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let VP=(()=>{class n extends fO{constructor(t,i,r,a,u,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const A=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),A},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=ZM(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=ZM();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ZM())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(nO),c.Y36(te,8),c.Y36(II),c.Y36(yI),c.Y36(c.R0b),c.Y36(sw),c.Y36(iO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&c.Gf(pO,7),2&t){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,qj,0,0,"ng-template",0)},dependencies:[pO],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class vO{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new _t.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Fm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const BP=new c.OlP("DialogScrollStrategy"),Wj=new c.OlP("DialogData"),Zj=new c.OlP("DefaultDialogConfig"),Yj={provide:BP,deps:[af],useFactory:function Kj(n){return()=>n.scrollStrategies.block()}};let Qj=0,UP=(()=>{class n{constructor(t,i,r,a,u,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._ariaHiddenElements=new Map,this.afterAllClosed=mn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(to(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new II,...i}).id=i.id||"cdk-dialog-"+Qj++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),u=this._overlay.create(a),f=new vO(u,i),_=this._attachContainer(u,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){bO(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){bO(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),bO(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new gO({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector||r.viewContainerRef?.injector,u=[{provide:II,useValue:r},{provide:vO,useValue:i},{provide:sw,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,u.push(...r.container.providers(r))):f=VP;const _=new dO(f,r.viewContainerRef,c.zs3.create({parent:a||this._injector,providers:u}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){if(t instanceof c.Rgc){const u=this._createInjector(a,i,r,void 0);let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new hO(t,null,f,u))}else{const u=this._createInjector(a,i,r,this._injector),f=r.attachComponentPortal(new dO(t,a.viewContainerRef,u,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,a){const u=t.injector||t.viewContainerRef?.injector,f=[{provide:Wj,useValue:t.data},{provide:vO,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!u||!u.get(py,null,{optional:!0}))&&f.push({provide:py,useValue:{value:t.direction,change:qe()}}),c.zs3.create({parent:u||a,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(af),c.LFG(c.zs3),c.LFG(Zj,8),c.LFG(n,12),c.LFG(DI),c.LFG(BP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function bO(n,e){let t=n.length;for(;t--;)e(n[t])}let Xj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[UP,Yj],imports:[yO,CI,fH,CI]}),n})();function Jj(n,e){}class ow{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let e$=(()=>{class n extends VP{constructor(t,i,r,a,u,f,_,w){super(t,i,r,a,u,f,_,w),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(nO),c.Y36(te,8),c.Y36(ow),c.Y36(yI),c.Y36(c.R0b),c.Y36(sw),c.Y36(iO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const HP="--mat-dialog-transition-duration";function jP(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?sf(n.substring(0,n.length-2)):n.endsWith("s")?1e3*sf(n.substring(0,n.length-1)):"0"===n?0:null}let t$=(()=>{class n extends e${constructor(t,i,r,a,u,f,_,w,I){super(t,i,r,a,u,f,_,I),this._animationMode=w,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?jP(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?jP(this._config.exitAnimationDuration)??LP_DIALOG_ANIMATION_CLOSE_TIME_MS:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(HP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--opening"),this._hostElement.classList.add(Vm_OPEN),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Vm_OPEN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Vm_OPEN),this._animationsEnabled?(this._hostElement.style.setProperty(HP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--closing"),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove("mdc-dialog--opening"),this._hostElement.classList.remove("mdc-dialog--closing")}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(nO),c.Y36(te,8),c.Y36(ow),c.Y36(yI),c.Y36(c.R0b),c.Y36(sw),c.Y36(c.QbO,8),c.Y36(iO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[c.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,Jj,0,0,"ng-template",2),c.qZA()())},dependencies:[pO],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class $P{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new _t.x,this._beforeClosed=new _t.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Bn(r=>"opened"===r.state),Yi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Bn(r=>"closed"===r.state),Yi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,oo.T)(this.backdropClick(),this.keydownEvents().pipe(Bn(r=>27===r.keyCode&&!this.disableClose&&!Fm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function n$(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Bn(t=>"closing"===t.state),Yi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const zP=new c.OlP("MatMdcDialogData"),i$=new c.OlP("mat-mdc-dialog-default-options"),GP=new c.OlP("mat-mdc-dialog-scroll-strategy"),s$={provide:GP,deps:[af],useFactory:function r$(n){return()=>n.scrollStrategies.block()}};let o$=0,a$=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ow,this.afterAllClosed=mn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(to(void 0))),this._scrollStrategy=f,this._dialog=i.get(UP)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new ow,...i}).id=i.id||`${this._idPrefix}${o$++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:II,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,f,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qP=(()=>{class n extends a${constructor(t,i,r,a,u,f,_,w){super(t,i,a,f,_,u,$P,t$,zP,w),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(af),c.LFG(c.zs3),c.LFG(Te,8),c.LFG(i$,8),c.LFG(GP),c.LFG(n,12),c.LFG(DI),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qP,s$],imports:[Xj,yO,CI,jo,jo]}),n})();const c$=["matFormFieldNotchedOutline",""],u$=["*"],d$=["textField"],h$=["iconPrefixContainer"],f$=["textPrefixContainer"];function p$(n,e){1&n&&c._UZ(0,"span",19)}function m$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,p$,1,0,"span",18),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function g$(n,e){if(1&n&&c.YNc(0,m$,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function _$(n,e){1&n&&c._UZ(0,"div",20)}function y$(n,e){}function v$(n,e){if(1&n&&c.YNc(0,y$,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function b$(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,v$,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function w$(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function E$(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function C$(n,e){}function D$(n,e){if(1&n&&c.YNc(0,C$,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function I$(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function T$(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function S$(n,e){1&n&&c._UZ(0,"div",29)}function x$(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function A$(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function M$(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,A$,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const O$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],R$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})();const k$=new c.OlP("MatError");let N$=0,ZP=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+N$++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const P$=new c.OlP("MatPrefix"),F$=new c.OlP("MatSuffix");let KP=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function L$(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const YP="mdc-line-ripple--active",TI="mdc-line-ripple--deactivating";let QP=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,u=a.contains(TI);"opacity"===r.propertyName&&u&&a.remove(YP,TI)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(TI),t.add(YP)}deactivate(){this._elementRef.nativeElement.classList.add(TI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),XP=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:c$,ngContentSelectors:u$,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(1),c.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const V$={transitionMessages:X0("transitionMessages",[km("enter",fo({opacity:1,transform:"translateY(0%)"})),rf("void => enter",[fo({opacity:0,transform:"translateY(-5px)"}),Rm("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const CO=new c.OlP("MatFormField"),B$=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let JP=0,j$=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=u,this._defaults=f,this._animationMode=_,this._document=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+JP++,this._hintLabelId="mat-mdc-hint-"+JP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new _t.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=is(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ba(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,oo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ba(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ba(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(py),c.Y36(po),c.Y36(B$,8),c.Y36(c.QbO,8),c.Y36(te))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,wO,5),c.Suo(r,wO,7),c.Suo(r,EO,5),c.Suo(r,P$,5),c.Suo(r,F$,5),c.Suo(r,k$,5),c.Suo(r,ZP,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._formFieldControl=a.first),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(d$,5),c.Gf(h$,5),c.Gf(f$,5),c.Gf(KP,5),c.Gf(XP,5),c.Gf(QP,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:CO,useExisting:n}])],ngContentSelectors:R$,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(c.F$t(O$),c.YNc(0,g$,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(4,_$,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,b$,2,3,"div",5),c.YNc(7,w$,3,0,"div",6),c.YNc(8,E$,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,D$,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,I$,2,0,"div",10),c.YNc(13,T$,2,0,"div",11),c.qZA(),c.YNc(14,S$,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,x$,2,1,"div",14),c.YNc(17,M$,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[tn,Ai,_o,ls,BU,ZP,KP,XP,QP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[V$.transitionMessages]},changeDetection:0}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jo,mi,KN,jo]}),n})();class $${constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new _t.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(a=>this._markSelected(a)),t.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const z$=["trigger"],G$=["panel"];function q$(n,e){if(1&n&&(c.TgZ(0,"span",10),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function W$(n,e){if(1&n&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function Z$(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function K$(n,e){if(1&n&&(c.TgZ(0,"span",11),c.YNc(1,W$,2,1,"span",12),c.YNc(2,Z$,1,0,"ng-content",13),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function Y$(n,e){if(1&n){const t=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"div",15,16),c.NdJ("@transformPanel.done",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a._handleKeydown(r))}),c.Hsn(2,1),c.qZA()}if(2&n){const t=c.oxw();c.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),c.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Q$=[[["mat-select-trigger"]],"*"],X$=["mat-select-trigger","*"],J$={transformPanelWrap:X0("transformPanelWrap",[rf("* => void",zM("@transformPanel",[$M()],{optional:!0}))]),transformPanel:X0("transformPanel",[km("void",fo({opacity:0,transform:"scale(1, 0.8)"})),rf("void => showing",Rm("120ms cubic-bezier(0, 0, 0.2, 1)",fo({opacity:1,transform:"scale(1, 1)"}))),rf("* => void",Rm("100ms linear",fo({opacity:0})))])};let nF=0;const iF=new c.OlP("mat-select-scroll-strategy"),t3=new c.OlP("MAT_SELECT_CONFIG"),n3={provide:iF,deps:[af],useFactory:function e3(n){return()=>n.scrollStrategies.reposition()}},i3=new c.OlP("MatSelectTrigger");class r3{constructor(e,t){this.source=e,this.value=t}}const s3=IH(TH(CH(uP(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new _t.x}}))));let o3=(()=>{class n extends s3{constructor(t,i,r,a,u,f,_,w,I,A,P,V,U,Q){super(u,a,_,w,A),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=I,this._liveAnnouncer=U,this._defaultOptions=Q,this._panelOpen=!1,this._compareWith=(ce,Fe)=>ce===Fe,this._uid="mat-select-"+nF++,this._triggerAriaLabelledBy=null,this._destroy=new _t.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+nF++,this._panelDoneAnimatingStream=new _t.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=mn(()=>{const ce=this.options;return ce?ce.changes.pipe(to(ce),on(()=>(0,oo.T)(...ce.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe(Yi(1),on(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(Bn(ce=>ce),(0,it.U)(()=>{})),this._closedStream=this.openedChange.pipe(Bn(ce=>!ce),(0,it.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Q?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Q.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(qn.required)??!1}set required(t){this._required=is(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=is(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=is(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=sf(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new $$(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(a_(),ba(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ba(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(to(null),ba(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!Fm(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Fm(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Yi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new WU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,oo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ba(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,oo.T)(...this.options.map(i=>i._stateChanges)).pipe(ba(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lO),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(dP),c.Y36(c.SBq),c.Y36(py,8),c.Y36(Jr,8),c.Y36(ec,8),c.Y36(CO,8),c.Y36(pa,10),c.$8M("tabindex"),c.Y36(iF),c.Y36(dH),c.Y36(t3,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(z$,5),c.Gf(G$,5),c.Gf(FP,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),a3=(()=>{class n extends o3{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}]}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ba(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,a=function UH(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}(t,this.options,this.optionGroups),u=i._getHostElement();r.scrollTop=0===t&&1===a?0:function HH(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(u.offsetTop,u.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new r3(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof _O?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,i3,5),c.Suo(r,_P,5),c.Suo(r,gP,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.customTrigger=a.first),c.iGM(a=c.CRH())&&(i.options=a),c.iGM(a=c.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:EO,useExisting:n},{provide:mP,useExisting:n}]),c.qOj],ngContentSelectors:X$,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t(Q$),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,q$,2,1,"span",3),c.YNc(5,K$,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"div",6),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()()()(),c.YNc(10,Y$,3,9,"ng-template",9),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(5),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[$i,_o,ls,Pc,FP,_O],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[J$.transformPanel]},changeDetection:0}),n})(),l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[n3],imports:[mi,yO,yP,jo,cO,DO,yP,jo]}),n})();const rF=mI({passive:!0});let c3=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return oi.E;const i=dd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new _t.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,rF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,rF)}}),a}stopMonitoring(t){const i=dd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(po),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const d3=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),h3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let f3=0;const p3=uP(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new _t.x}});let m3=(()=>{class n extends p3{constructor(t,i,r,a,u,f,_,w,I,A){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=A,this._uid="mat-input-"+f3++,this.focused=!1,this.stateChanges=new _t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>$N().has(U)),this._iOSKeyupListener=U=>{const Q=U.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=_||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=is(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(qn.required)??!1}set required(t){this._required=is(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&$N().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=is(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){h3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(po),c.Y36(pa,10),c.Y36(Jr,8),c.Y36(ec,8),c.Y36(dP),c.Y36(d3,10),c.Y36(c3),c.Y36(c.R0b),c.Y36(CO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:EO,useExisting:n}]),c.qOj,c.TTD]}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jo,DO,DO,u3,jo]}),n})();function _3(n,e){if(1&n&&(c.TgZ(0,"div",18),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function y3(n,e){if(1&n&&(c.ynx(0),c.YNc(1,_3,2,1,"div",17),c.BQk()),2&n){const t=e.$implicit,i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.notificationForm.get("condition").hasError(t.type)&&(i.notificationForm.get("condition").dirty||i.notificationForm.get("condition").touched))}}function v3(n,e){if(1&n&&(c.TgZ(0,"div",18),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function b3(n,e){if(1&n&&(c.ynx(0),c.YNc(1,v3,2,1,"div",17),c.BQk()),2&n){const t=e.$implicit,i=c.oxw();let r;c.xp6(1),c.Q6J("ngIf",(null==(r=i.notificationForm.get("temp"))?null:r.hasError(t.type))&&((null==(r=i.notificationForm.get("temp"))?null:r.dirty)||(null==(r=i.notificationForm.get("temp"))?null:r.touched)))}}class SI{constructor(e,t,i,r,a){this.dialogRef=t,this.formBuilder=i,this.userService=r,this.authService=a,this.error_msg={condition:[{type:"required",message:"Condition is required."}],temp:[{type:"required",message:"Temp is required."},{type:"minLength",message:"Please enter a valid temperature."}]},this.location=e.location}ngOnInit(){this.notificationForm=this.formBuilder.group({condition:new Vo("",qn.compose([qn.required])),temp:new Vo("",qn.compose([qn.minLength(1),qn.required]))})}close(){this.dialogRef.close()}confirm(e){let t={};t.condition=e.condition,t.temp=e.temp,t.city=this.location.name,t.id=Math.random(),this.userService.addNewNotification(this.authService.userLoggedIn,t),this.close()}static#e=this.\u0275fac=function(t){return new(t||SI)(c.Y36(zP),c.Y36($P),c.Y36(ic),c.Y36(ud),c.Y36(fl))};static#t=this.\u0275cmp=c.Xpm({type:SI,selectors:[["app-create-notification-modal"]],decls:43,vars:6,consts:[[1,"row","create-notification-panel"],[1,"col-2"],[1,"col-8"],[1,"row"],[1,"create-notification-panel__title"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"my-form-field"],["formControlName","condition"],["value","more"],["value","equal"],["value","less"],[4,"ngFor","ngForOf"],["appearance","fill",1,"my-form-field","w-100"],["matInput","","formControlName","temp"],[1,"row","justify-content-evenly"],["type","submit",1,"btn","btn-create",3,"disabled"],["type","button",1,"btn","btn-cancel",3,"click"],["class","notification-form-validation-error",4,"ngIf"],[1,"notification-form-validation-error"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"p",4),c._uU(5),c.qZA(),c._UZ(6,"hr"),c.qZA(),c.TgZ(7,"div",3)(8,"p"),c._uU(9,"Complete the following information:"),c.qZA()(),c.TgZ(10,"div",3)(11,"p"),c._uU(12),c.qZA()(),c.TgZ(13,"div",3)(14,"form",5),c.NdJ("ngSubmit",function(){return i.confirm(i.notificationForm.value)}),c.TgZ(15,"p")(16,"mat-label"),c._uU(17,"Condition"),c.qZA(),c.TgZ(18,"mat-form-field",6)(19,"mat-select",7)(20,"mat-option",8),c._uU(21,"MORE"),c.qZA(),c.TgZ(22,"mat-option",9),c._uU(23,"EQUAL"),c.qZA(),c.TgZ(24,"mat-option",10),c._uU(25,"LESS"),c.qZA()()(),c.YNc(26,y3,2,1,"ng-container",11),c.qZA(),c.TgZ(27,"p"),c._uU(28,"Than:"),c.qZA(),c.TgZ(29,"p")(30,"mat-form-field",12)(31,"mat-label"),c._uU(32,"Degrees in F\xba"),c.qZA(),c._UZ(33,"input",13),c.qZA(),c.YNc(34,b3,2,1,"ng-container",11),c.qZA(),c.TgZ(35,"div",14)(36,"button",15),c._uU(37," Create "),c.qZA(),c.TgZ(38,"button",16),c.NdJ("click",function(){return i.close()}),c._uU(39," Cancel "),c.qZA()()()(),c.TgZ(40,"div"),c._UZ(41,"hr"),c.qZA()(),c._UZ(42,"div",1),c.qZA()),2&t&&(c.xp6(5),c.hij(" You are creating an alert for ",i.location.name," "),c.xp6(7),c.hij("I want to get an alert when ",i.location.name," is:"),c.xp6(2),c.Q6J("formGroup",i.notificationForm),c.xp6(12),c.Q6J("ngForOf",i.error_msg.condition),c.xp6(8),c.Q6J("ngForOf",i.error_msg.temp),c.xp6(2),c.Q6J("disabled",!i.notificationForm.valid))},dependencies:[zi,tn,Th,xu,xg,wh,ec,Ep,j$,wO,a3,_P,m3],styles:[".create-notification-panel[_ngcontent-%COMP%]{padding:.5rem;overflow-x:hidden}.notification-form-validation-error[_ngcontent-%COMP%]{color:red;font-weight:700;border:2px solid red;background-color:#fff;width:calc(100% - 2rem);margin:1rem;text-align:center}.create-notification-panel__title[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin:0}hr[_ngcontent-%COMP%]{width:100%;border-top:2px solid #242424}p[_ngcontent-%COMP%]{font-weight:700}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}.btn-create[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-create[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #2ee59d66;background-color:#90ee90}.btn-cancel[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-cancel[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #e1151566;background-color:#f08080}.justify-content-evenly[_ngcontent-%COMP%]{justify-content:space-evenly}"]})}function w3(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Favorites \u{1f320}"),c.qZA())}function E3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6)(1,"div",7)(2,"div",8),c._uU(3),c.qZA(),c.TgZ(4,"div",9),c._UZ(5,"hr"),c.qZA(),c.TgZ(6,"div",10)(7,"button",11),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(2);return c.KtG(u.checkCurrentWeather(a))}),c._uU(8," Check current weather \u{1f50e} "),c.qZA(),c.TgZ(9,"button",12),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(2);return c.KtG(u.openCreateCheckModal(a))}),c._uU(10," Create checker \u{1f514} "),c.qZA(),c.TgZ(11,"button",13),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(2);return c.KtG(u.delete(a))}),c._uU(12," Delete \u{1f5d1}\ufe0f "),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.AsE(" City ",t.name,", Country: ",t.sys.country," ")}}function C3(n,e){if(1&n&&(c.TgZ(0,"div",4),c.YNc(1,E3,13,2,"div",5),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.user.favorites)}}function D3(n,e){1&n&&(c.TgZ(0,"div",9)(1,"div",7)(2,"div",14),c._uU(3," \xa1You don't have favorites, try to add one! "),c.qZA()()())}class aw{constructor(e,t,i){this.usersService=e,this.authService=t,this.matDialog=i,this.checkCurrentEvent=new c.vpe,this.generateInitialData()}checkFavorites(){this.subscription=this.usersService.createUsersObserver(this.authService.userLoggedIn).subscribe({next:e=>{let t;this.generateInitialData(),t=e.map(function(i,r){return i}),t[0].favorites.forEach(i=>{this.user.favorites.push(i)}),this.deleteRepetadFavorites()},error:e=>{console.log(e)}})}stopSubscription(){null!=this.subscription&&this.subscription.unsubscribe()}generateInitialData(){this.user={},this.user.favorites=new Array,this.user.favorites.push({name:"",sys:{country:""}})}deleteRepetadFavorites(){this.user.favorites=this.user.favorites.filter(e=>{if(""!==e.name)return e}),this.user.favorites=this.user.favorites.filter((e,t,i)=>t===i.findIndex(r=>r.id===e.id))}checkCurrentWeather(e){let t={lat:0,lon:0};t.lat=e.coord.lat,t.lon=e.coord.lon,this.checkCurrentEvent.emit(t)}delete(e){this.usersService.delteFavorite(this.authService.userLoggedIn,e)}openCreateCheckModal(e){const t=new ow;t.disableClose=!0,t.autoFocus=!0,t.data={location:e},this.matDialog.open(SI,t)}static#e=this.\u0275fac=function(t){return new(t||aw)(c.Y36(ud),c.Y36(fl),c.Y36(qP))};static#t=this.\u0275cmp=c.Xpm({type:aw,selectors:[["app-favorites"]],inputs:{visible:"visible"},outputs:{checkCurrentEvent:"checkCurrentEvent"},decls:3,vars:3,consts:[["class","search-panel-text w-100",4,"ngIf"],["class","search-results",4,"ngIf"],["class","row",4,"ngIf"],[1,"search-panel-text","w-100"],[1,"search-results"],["class","row favorite-card",4,"ngFor","ngForOf"],[1,"row","favorite-card"],[1,"col-12"],[1,"row","font-weight-bold","justify-content-center","text-size-large"],[1,"row"],[1,"row","justify-content-between"],[1,"btn","btn-search-again",3,"click"],[1,"btn","btn-checker",3,"click"],[1,"btn","btn-delete",3,"click"],[1,"row","no-favorites"]],template:function(t,i){1&t&&(c.YNc(0,w3,2,0,"p",0),c.YNc(1,C3,2,1,"div",1),c.YNc(2,D3,4,0,"div",2)),2&t&&(c.Q6J("ngIf",i.visible),c.xp6(1),c.Q6J("ngIf",i.visible&&i.user.favorites.length>0),c.xp6(1),c.Q6J("ngIf",0===i.user.favorites.length))},dependencies:[zi,tn],styles:[".search-panel-text[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:.2rem}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}.btn-search-again[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-search-again[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #2ee59d66;background-color:#90ee90}.btn-delete[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #e1151566;background-color:#f08080}.btn-checker[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-checker[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #d0d92866;background-color:#ffffe0}.favorite-card[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #242424;margin-bottom:1rem;padding:.5rem}.search-results[_ngcontent-%COMP%]{height:20rem}.text-size-large[_ngcontent-%COMP%]{font-size:large}hr[_ngcontent-%COMP%]{width:100%;border-top:2px solid #242424}.no-favorites[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:.2rem;border:2px solid #242424;border-radius:2rem;text-align:center;background-color:#fff}"]})}function I3(n,e){1&n&&(c.TgZ(0,"p",6),c._uU(1," \xa1There aren't notifications setted! "),c.qZA())}function T3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7)(1,"div",2)(2,"p",8),c._uU(3),c.qZA()(),c.TgZ(4,"div",2),c._UZ(5,"hr"),c.qZA(),c.TgZ(6,"div",2)(7,"button",9),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.deleteNotification(a))}),c._uU(8," Delete notification "),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.lnq(" Notify me when ",t.city," is ",t.condition," than ",t.temp," \xbaF ")}}class lw{constructor(e,t){this.authService=e,this.usersService=t,this.userNotifications=this.authService.userLoggedIn.notifications,this.createNotificationsSubcription()}createNotificationsSubcription(){this.subscription=this.usersService.createUsersObserver(this.authService.userLoggedIn).subscribe({next:e=>{let t;t=e.map(function(i,r){return i}),t[0].notifications.forEach(i=>{this.userNotifications.push(i)}),this.deleteRepetadNotifications()},error:e=>{console.log(e)}})}deleteRepetadNotifications(){this.userNotifications=this.userNotifications.filter((e,t,i)=>t===i.findIndex(r=>r.id===e.id))}stopSubscription(){null!=this.subscription&&this.subscription.unsubscribe()}deleteNotification(e){this.usersService.deleteNotification(this.authService.userLoggedIn,e);let t=this.userNotifications.findIndex(i=>i.id===e.id);this.userNotifications.splice(t,1)}ngOnInit(){console.log(this.userNotifications)}static#e=this.\u0275fac=function(t){return new(t||lw)(c.Y36(fl),c.Y36(ud))};static#t=this.\u0275cmp=c.Xpm({type:lw,selectors:[["app-notifications"]],decls:7,vars:2,consts:[[1,"mt-4","notification-panel"],[1,"notification-panel__title"],[1,"row"],[1,"col-12"],["class","notificactions-state",4,"ngIf"],["class","notification-card",4,"ngFor","ngForOf"],[1,"notificactions-state"],[1,"notification-card"],[1,"notification-card__text"],[1,"btn","btn-delete",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"h2",1),c._uU(2,"Active notifications"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3),c.YNc(5,I3,2,0,"p",4),c.YNc(6,T3,9,3,"div",5),c.qZA()()()),2&t&&(c.xp6(5),c.Q6J("ngIf",0===i.userNotifications.length),c.xp6(1),c.Q6J("ngForOf",i.userNotifications))},dependencies:[zi,tn],styles:[".notification-panel[_ngcontent-%COMP%]{margin:2rem auto;box-shadow:0 0 1rem #000;padding:.5rem;border:2px solid black;border-radius:2rem;overflow-x:hidden;overflow-y:auto;width:70%;background:#FCD462}.notification-panel__title[_ngcontent-%COMP%]{margin:2rem auto;text-align:center;box-shadow:0 0 1rem #000;padding:.5rem;border:2px solid black;border-radius:2rem;overflow-x:hidden;overflow-y:auto;background-color:#fff}.notificactions-state[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:.2rem;border:2px solid #242424;border-radius:2rem;text-align:center;background-color:#fff}.notification-card__text[_ngcontent-%COMP%]{font-weight:700;margin:0}.notification-card[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #242424;margin-bottom:1rem;padding:1.4rem}hr[_ngcontent-%COMP%]{width:100%;border-top:2px solid #242424}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}.btn-delete[_ngcontent-%COMP%]{background-color:#e1151566;transition:.4s background ease-in;width:100%}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #e1151566;background-color:#f08080}"]})}class xI{constructor(){this.newLocationInformationEvent=new c.vpe}selectedItem(e){this.newLocationInformationEvent.emit(e)}static#e=this.\u0275fac=function(t){return new(t||xI)};static#t=this.\u0275cmp=c.Xpm({type:xI,selectors:[["app-location-detail"]],inputs:{locationInformation:"locationInformation"},outputs:{newLocationInformationEvent:"newLocationInformationEvent"},decls:12,vars:4,consts:[[1,"card","card-size"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-success",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),c._uU(3),c.qZA(),c.TgZ(4,"p",3),c._uU(5),c.qZA(),c.TgZ(6,"p",3),c._uU(7),c.qZA(),c.TgZ(8,"p",3),c._uU(9),c.qZA(),c.TgZ(10,"button",4),c.NdJ("click",function(){return i.selectedItem(i.locationInformation)}),c._uU(11," Select "),c.qZA()()()),2&t&&(c.xp6(3),c.hij("Name: ",i.locationInformation.name,""),c.xp6(2),c.hij("Lat: ",i.locationInformation.lat,""),c.xp6(2),c.hij("Lon: ",i.locationInformation.lon,""),c.xp6(2),c.hij("Country: ",i.locationInformation.country,""))},styles:[".card-size[_ngcontent-%COMP%]{width:20rem}"]})}const S3_firebaseConfig={apiKey:"AIzaSyDHtq5VHCMNCg13BusG7NUXH8HxNxkTmiw",authDomain:"weather-app-726d1.firebaseapp.com",projectId:"weather-app-726d1",storageBucket:"weather-app-726d1.appspot.com",messagingSenderId:"1086258121958",appId:"1:1086258121958:web:e07f4f7527afc0f9013f27"};class AI{}class IO{}class hd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class A3{encodeKey(e){return sF(e)}encodeValue(e){return sF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const O3=/%(\d[a-f0-9])/gi,R3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sF(n){return encodeURIComponent(n).replace(O3,(e,t)=>R3[t]??e)}function MI(n){return`${n}`}class lf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new A3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(MI):[MI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new lf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(MI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(MI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class k3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function oF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aF(n){return typeof Blob<"u"&&n instanceof Blob}function lF(n){return typeof FormData<"u"&&n instanceof FormData}class cw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function N3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new hd),this.context||(this.context=new k3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new lf,this.urlWithParams=t}serializeBody(){return null===this.body?null:oF(this.body)||aF(this.body)||lF(this.body)||function P3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lF(this.body)?null:aF(this.body)?this.body.type||null:oF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,P)=>A.set(P,e.setHeaders[P]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,P)=>A.set(P,e.setParams[P]),w)),new cw(t,i,a,{params:w,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class TO{constructor(e,t=200,i="OK"){this.headers=e.headers||new hd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class SO extends TO{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new SO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OI extends TO{constructor(e={}){super(e),this.type=or.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new OI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cF extends TO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof cw)a=t;else{let _,w;_=r.headers instanceof hd?r.headers:new hd(r.headers),r.params&&(w=r.params instanceof lf?r.params:new lf({fromObject:r.params})),a=new cw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=qe(a).pipe(vs(_=>this.handler.handle(_)));if(t instanceof cw||"events"===r.observe)return u;const f=u.pipe(Bn(_=>_ instanceof OI));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,it.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,it.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,it.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new lf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xO(r,i))}post(t,i,r={}){return this.request("POST",t,xO(r,i))}put(t,i,r={}){return this.request("PUT",t,xO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function dF(n,e){return e(n)}function F3(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const V3=new c.OlP("HTTP_INTERCEPTORS"),uw=new c.OlP("HTTP_INTERCEPTOR_FNS");function B3(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(V3,{optional:!0})??[]).reduceRight(F3,dF)),n(e,t))}let hF=(()=>{class n extends AI{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(uw)));this.chain=i.reduceRight((r,a)=>function L3(n,e,t){return(i,r)=>t.runInContext(()=>e(i,a=>n(a,r)))}(r,a,this.injector),dF)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(IO),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $3=/^\)\]\}',?\n/;let pF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _i.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((V,U)=>r.setRequestHeader(V,U.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&r.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();r.responseType="json"!==V?V:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const V=r.statusText||"OK",U=new hd(r.getAllResponseHeaders()),Q=function z3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new SO({headers:U,status:r.status,statusText:V,url:Q}),u},_=()=>{let{headers:V,status:U,statusText:Q,url:ce}=f(),Fe=null;204!==U&&(Fe=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=Fe?200:0);let et=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof Fe){const dt=Fe;Fe=Fe.replace($3,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(lt){Fe=dt,et&&(et=!1,Fe={error:lt,text:Fe})}}et?(i.next(new OI({body:Fe,headers:V,status:U,statusText:Q,url:ce||void 0})),i.complete()):i.error(new cF({error:Fe,headers:V,status:U,statusText:Q,url:ce||void 0}))},w=V=>{const{url:U}=f(),Q=new cF({error:V,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(Q)};let I=!1;const A=V=>{I||(i.next(f()),I=!0);let U={type:or.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===t.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},P=V=>{let U={type:or.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),i.next(U)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",A),null!==a&&r.upload&&r.upload.addEventListener("progress",P)),r.send(a),i.next({type:or.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",A),null!==a&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const AO=new c.OlP("XSRF_ENABLED"),mF="XSRF-TOKEN",gF=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>mF}),_F="X-XSRF-TOKEN",yF=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>_F});class vF{}let G3=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(c.Lbi),c.LFG(gF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function q3(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(AO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,c.f3M)(vF).getToken(),r=(0,c.f3M)(yF);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Li=(()=>((Li=Li||{})[Li.Interceptors=0]="Interceptors",Li[Li.LegacyInterceptors=1]="LegacyInterceptors",Li[Li.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Li[Li.NoXsrfProtection=3]="NoXsrfProtection",Li[Li.JsonpSupport=4]="JsonpSupport",Li[Li.RequestsMadeViaParent=5]="RequestsMadeViaParent",Li))();function my(n,e){return{\u0275kind:n,\u0275providers:e}}function W3(...n){const e=[uF,pF,hF,{provide:AI,useExisting:hF},{provide:IO,useExisting:pF},{provide:uw,useValue:q3,multi:!0},{provide:AO,useValue:!0},{provide:vF,useClass:G3}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const bF=new c.OlP("LEGACY_INTERCEPTOR_FN");function K3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:gF,useValue:n}),void 0!==e&&t.push({provide:yF,useValue:e}),my(Li.CustomXsrfConfiguration,t)}let Y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[W3(my(Li.LegacyInterceptors,[{provide:bF,useFactory:B3},{provide:uw,useExisting:bF,multi:!0}]),K3({cookieName:mF,headerName:_F}))]}),n})();class gy{constructor(e){this.httpClient=e,this.apiKey="bc391b1c779143d522b496dca2e29d5f",this.geoCodingURIByName=`https://api.openweathermap.org/geo/1.0/direct?appid=${this.apiKey}&limit=4`,this.geoCodingURIByZipCode=`https://api.openweathermap.org/geo/1.0/zip?appid=${this.apiKey}`,this.weatherURI=`https://api.openweathermap.org/data/2.5/weather?appid=${this.apiKey}`}getLatLonByName(e){return this.httpClient.get(`${this.geoCodingURIByName}&q=${e}`)}getLatLonByZipCode(e,t){return this.httpClient.get(`${this.geoCodingURIByZipCode}&zip=${e},${t}`)}getWeatherByLatLon(e,t){return this.httpClient.get(`${this.weatherURI}&lat=${e.toString()}&lon=${t.toString()}`)}static#e=this.\u0275fac=function(t){return new(t||gy)(c.LFG(uF))};static#t=this.\u0275prov=c.Yz7({token:gy,factory:gy.\u0275fac,providedIn:"root"})}function Q3(n,e){1&n&&(c.TgZ(0,"div",7),c._UZ(1,"mat-spinner"),c.qZA())}function X3(n,e){1&n&&c._UZ(0,"input",17)}function J3(n,e){if(1&n&&(c.TgZ(0,"div",19),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function ez(n,e){if(1&n&&(c.ynx(0),c.YNc(1,J3,2,1,"div",18),c.BQk()),2&n){const t=e.$implicit,i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",i.searchForm.get("name").hasError(t.type)&&(i.searchForm.get("name").dirty||i.searchForm.get("name").touched))}}function tz(n,e){1&n&&c._UZ(0,"input",20)}function nz(n,e){if(1&n&&(c.TgZ(0,"div",19),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij(" ",t.message," ")}}function iz(n,e){if(1&n&&(c.ynx(0),c.YNc(1,nz,2,1,"div",18),c.BQk()),2&n){const t=e.$implicit,i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",i.searchForm.get("zipAndCountry").hasError(t.type)&&(i.searchForm.get("zipAndCountry").dirty||i.searchForm.get("zipAndCountry").touched))}}function rz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",8)(1,"form",9),c.NdJ("ngSubmit",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.formSubmit(r.searchForm.value))}),c.TgZ(2,"div",10)(3,"div",11),c.YNc(4,X3,1,0,"input",12),c.YNc(5,ez,2,1,"ng-container",13),c.YNc(6,tz,1,0,"input",14),c.YNc(7,iz,2,1,"ng-container",13),c.qZA(),c.TgZ(8,"div",15)(9,"button",16),c._uU(10," \u{1f50e} "),c.qZA()()()()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("formGroup",t.searchForm),c.xp6(3),c.Q6J("ngIf",t.isSearchingByName),c.xp6(1),c.Q6J("ngForOf",t.error_msg.name),c.xp6(1),c.Q6J("ngIf",!t.isSearchingByName),c.xp6(1),c.Q6J("ngForOf",t.error_msg.zipAndCountry),c.xp6(2),c.Q6J("disabled",!t.searchForm.valid)}}class RI{constructor(e,t){this.formBuilder=e,this.weatherService=t,this.isSearchingByName=!0,this.loading=!1,this.responseApiEvent=new c.vpe,this.newSearchStateEvent=new c.vpe,this.error_msg={name:[{type:"required",message:"Name of location is required."},{type:"minLength",message:"Please enter at least 2 characters."}],zipAndCountry:[{type:"required",message:"Zip code and country code separated by coma are required."},{type:"minLength",message:"Please enter at least 2 characters."}]}}ngOnInit(){this.searchForm=this.formBuilder.group({name:new Vo("",qn.compose([qn.required,qn.minLength(2)])),zipAndCountry:new Vo("",qn.compose([qn.required,qn.minLength(2)]))}),this.switchValidationInputs()}switchSearchState(e){this.isSearchingByName=!!e,this.switchValidationInputs()}switchValidationInputs(){this.isSearchingByName?(this.searchForm.get("zipAndCountry").setErrors(null),this.searchForm.get("zipAndCountry").clearValidators(),this.searchForm.get("zipAndCountry").updateValueAndValidity(),this.searchForm.get("name").addValidators([qn.required,qn.minLength(2)]),this.searchForm.get("name").updateValueAndValidity()):(this.searchForm.get("name").setErrors(null),this.searchForm.get("name").clearValidators(),this.searchForm.get("name").updateValueAndValidity(),this.searchForm.get("zipAndCountry").addValidators([qn.required,qn.minLength(2)]),this.searchForm.get("zipAndCountry").updateValueAndValidity())}formSubmit(e){if(this.loading=!0,this.isSearchingByName)this.weatherService.getLatLonByName(e.name).subscribe({next:t=>{this.results=t,this.responseApiEvent.emit(this.results),0===this.results.length&&this.newSearchStateEvent.emit("\xa1No location found for your search, please try again!")},error:t=>{this.loading=!1,console.log(t),this.results=[],this.responseApiEvent.emit(this.results),this.newSearchStateEvent.emit("\xa1No location found for your search, please try again!")},complete:()=>{this.loading=!1}});else{let t=e.zipAndCountry.split(",");this.weatherService.getLatLonByZipCode(t[0],t[1]).subscribe({next:i=>{this.results=new Array,this.results.push(i),this.responseApiEvent.emit(this.results)},error:i=>{this.loading=!1,console.log(i),this.results=new Array,this.responseApiEvent.emit(this.results),this.newSearchStateEvent.emit("\xa1No location found for your search, please try again!")},complete:()=>{this.loading=!1}})}this.searchForm.reset()}static#e=this.\u0275fac=function(t){return new(t||RI)(c.Y36(ic),c.Y36(gy))};static#t=this.\u0275cmp=c.Xpm({type:RI,selectors:[["app-search"]],outputs:{responseApiEvent:"responseApiEvent",newSearchStateEvent:"newSearchStateEvent"},decls:11,vars:2,consts:[[1,"row"],[1,"search-panel-text","w-100"],[1,"btn","btn-name",3,"click"],[1,"search-panel-divisor-text","ml-2"],[1,"btn","btn-zipcode","ml-2",3,"click"],["class","form-spinner w-100",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"form-spinner","w-100"],[1,"row","mt-4"],[1,"w-100",3,"formGroup","ngSubmit"],[1,"row","w-100"],[1,"col-10"],["type","text","placeholder","Search by name. E.g: London","class","search-panel-input","formControlName","name",4,"ngIf"],[4,"ngFor","ngForOf"],["type","text","placeholder","Search by zip code and country code. E.g: E14,GB","class","search-panel-input","formControlName","zipAndCountry",4,"ngIf"],[1,"col-2"],["type","submit",1,"btn","search-panel-submit",3,"disabled"],["type","text","placeholder","Search by name. E.g: London","formControlName","name",1,"search-panel-input"],["class","search-panel-form-validation-error",4,"ngIf"],[1,"search-panel-form-validation-error"],["type","text","placeholder","Search by zip code and country code. E.g: E14,GB","formControlName","zipAndCountry",1,"search-panel-input"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"p",1),c._uU(2,"You can search by:"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return i.switchSearchState(!0)}),c._uU(4,"Name"),c.qZA(),c.TgZ(5,"p",3),c._uU(6,"OR"),c.qZA(),c.TgZ(7,"button",4),c.NdJ("click",function(){return i.switchSearchState(!1)}),c._uU(8," Zip code and country code "),c.qZA()(),c.YNc(9,Q3,2,0,"div",5),c.YNc(10,rz,11,6,"div",6)),2&t&&(c.xp6(9),c.Q6J("ngIf",i.loading),c.xp6(1),c.Q6J("ngIf",!i.loading))},dependencies:[zi,tn,Th,xu,xg,wh,ec,Ep,bP],styles:[".btn-name[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-name[_ngcontent-%COMP%]:hover{background-color:#90ee90}.btn-zipcode[_ngcontent-%COMP%]{background-color:#fff;transition:.4s background ease-in}.btn-zipcode[_ngcontent-%COMP%]:hover{background-color:#90ee90}.search-panel-input[_ngcontent-%COMP%]{width:100%;border:2px solid black;padding:.375rem .75rem}.search-panel-submit[_ngcontent-%COMP%]{width:4rem;border:2px solid black;border-radius:2rem;background-color:#fff;transition:.4s background ease-in}.search-panel-submit[_ngcontent-%COMP%]:hover{background-color:#90ee90}.search-panel-form-validation-error[_ngcontent-%COMP%]{color:red;font-weight:700;border:2px solid red;background-color:#fff;width:calc(100% - 2rem);margin:1rem;text-align:center}.search-panel-text[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:.2rem}.search-panel-divisor-text[_ngcontent-%COMP%]{font:bold large;font-weight:700;margin:0;display:table-cell;vertical-align:middle;padding:10px}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 15px 20px #2ee59d66}.form-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}"]})}class kI{transform(e,...t){return parseFloat((1.8*(e-273.15)+32).toFixed(2))}static#e=this.\u0275fac=function(t){return new(t||kI)};static#t=this.\u0275pipe=c.Yjl({name:"temperature",type:kI,pure:!0})}class NI{constructor(e,t,i){this.weatherService=e,this.usersService=t,this.authService=i,this.searchAgainEvent=new c.vpe,this.locationWeather={weather:[{main:"",description:""}],main:{temp:0,temp_min:0,temp_max:0},sys:{country:""},name:""}}ngOnChanges(){null!=this.locationInformation&&this.weatherService.getWeatherByLatLon(this.locationInformation.lat,this.locationInformation.lon).subscribe({next:e=>{this.locationWeather=e,console.log(this.locationWeather)},error:e=>{console.log(e)}})}searchAgain(){this.searchAgainEvent.emit(void 0)}addFavorites(e){this.usersService.addNewFavorite(this.authService.userLoggedIn,e)}static#e=this.\u0275fac=function(t){return new(t||NI)(c.Y36(gy),c.Y36(ud),c.Y36(fl))};static#t=this.\u0275cmp=c.Xpm({type:NI,selectors:[["app-weather-detail"]],inputs:{locationInformation:"locationInformation"},outputs:{searchAgainEvent:"searchAgainEvent"},features:[c.TTD],decls:46,vars:13,consts:[[1,"row"],[1,"col-2"],[1,"col-8"],[1,"weather-card"],[1,"col-6","divider-line"],[1,"row","mt-4","weather-card__current-temp"],[1,"row","font-weight-bold"],[1,"col-6"],[1,"row","weather-card__city-info","mt-4"],[1,"row","weather-card__city-info"],[1,"col-12"],[1,"row","text-capitalize","font-weight-bold"],[1,"btn","btn-back",3,"click"],[1,"btn","btn-favorite","ml-2",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"div",5),c._uU(7),c.ALo(8,"temperature"),c.qZA(),c.TgZ(9,"div",0),c._UZ(10,"hr"),c.qZA(),c.TgZ(11,"div",6),c._uU(12),c.ALo(13,"temperature"),c.qZA(),c.TgZ(14,"div",6),c._uU(15),c.ALo(16,"temperature"),c.qZA(),c.TgZ(17,"div",0),c._UZ(18,"hr"),c.qZA()(),c.TgZ(19,"div",7)(20,"div",5),c._uU(21,"\u{1f3d9}\ufe0f Location"),c.qZA(),c.TgZ(22,"div",8),c._uU(23),c.qZA(),c.TgZ(24,"div",9),c._uU(25),c.qZA(),c.TgZ(26,"div",0),c._UZ(27,"hr"),c.qZA()()(),c.TgZ(28,"div",0),c._UZ(29,"hr"),c.qZA(),c.TgZ(30,"div",0)(31,"div",10)(32,"div",6),c._uU(33,"\u{1f4c5} Additional information:"),c.qZA(),c.TgZ(34,"div",6),c._uU(35),c.qZA(),c.TgZ(36,"div",11),c._uU(37),c.qZA()()(),c.TgZ(38,"div",0),c._UZ(39,"hr"),c.qZA(),c.TgZ(40,"div",0)(41,"button",12),c.NdJ("click",function(){return i.searchAgain()}),c._uU(42,"Go back \u{1f519}"),c.qZA(),c.TgZ(43,"button",13),c.NdJ("click",function(){return i.addFavorites(i.locationWeather)}),c._uU(44," Add to favorites \u{1f31f} "),c.qZA()()()(),c._UZ(45,"div",1),c.qZA()),2&t&&(c.xp6(7),c.hij(" \u{1f321}\ufe0f ",c.lcZ(8,7,i.locationWeather.main.temp)," \xbaF "),c.xp6(5),c.hij(" \u2744\ufe0f Min: ",c.lcZ(13,9,i.locationWeather.main.temp_min)," \xbaF "),c.xp6(3),c.hij(" \u{1f525} Max: ",c.lcZ(16,11,i.locationWeather.main.temp_max)," \xbaF "),c.xp6(8),c.hij(" City: ",i.locationWeather.name,", "),c.xp6(2),c.hij(" Country code: ",i.locationWeather.sys.country," "),c.xp6(10),c.hij(" ",i.locationWeather.weather[0].main," "),c.xp6(2),c.hij(" ",i.locationWeather.weather[0].description," "))},dependencies:[kI],styles:[".row[_ngcontent-%COMP%]{justify-content:center}.weather-card[_ngcontent-%COMP%]{background-color:#fff;padding:.5rem;border:2px solid#242424}hr[_ngcontent-%COMP%]{width:50%;border-top:2px solid #242424}.divider-line[_ngcontent-%COMP%]{border-right:2px solid #242424}.weather-card__current-temp[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}.weather-card__city-info[_ngcontent-%COMP%]{font-weight:700;font-size:large}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700}.btn-back[_ngcontent-%COMP%]{transition:.4s background ease-in}.btn-back[_ngcontent-%COMP%]:hover{background-color:#ffa07a}.btn-favorite[_ngcontent-%COMP%]{transition:.4s background ease-in}.btn-favorite[_ngcontent-%COMP%]:hover{background-color:#90ee90}"]})}function sz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",16)(1,"app-location-detail",17),c.NdJ("newLocationInformationEvent",function(r){c.CHM(t);const a=c.oxw(2);return c.KtG(a.itemSelected(r))}),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("locationInformation",t)}}function oz(n,e){if(1&n&&(c.TgZ(0,"div",14),c.YNc(1,sz,2,1,"div",15),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.results)}}function az(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"app-weather-detail",18),c.NdJ("searchAgainEvent",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.searchAgain(r))}),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("locationInformation",t.locationInformation)}}function lz(n,e){if(1&n&&(c.TgZ(0,"div")(1,"p",19),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.searchState)}}function cz(n,e){1&n&&(c.TgZ(0,"div",0),c._UZ(1,"hr"),c.qZA())}function uz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.check())}),c._uU(1," Click here to show my favorites \u2b50 "),c.qZA()}}class PI{constructor(e){this.authService=e,this.loading=!1,this.searchState="\xa1Try searching something!",this.showFavorites=!1,this.results=new Array}check(){this.favoritesComponent.checkFavorites(),this.showFavorites=!this.showFavorites}logout(){this.authService.signoutUser(),this.favoritesComponent.stopSubscription(),this.notificationComponent.stopSubscription()}itemSelected(e){this.locationInformation=e}searchAgain(e){this.locationInformation=e}searchResult(e){this.results=[...e],this.locationInformation=void 0}searchStateChanged(e){this.searchState=e}searchFavoriteAgain(e){this.locationInformation=e}static#e=this.\u0275fac=function(t){return new(t||PI)(c.Y36(fl))};static#t=this.\u0275cmp=c.Xpm({type:PI,selectors:[["app-weather"]],viewQuery:function(t,i){if(1&t&&(c.Gf(aw,5),c.Gf(lw,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.favoritesComponent=r.first),c.iGM(r=c.CRH())&&(i.notificationComponent=r.first)}},decls:23,vars:6,consts:[[1,"row"],[1,"col-8"],[1,"mt-4","search-panel"],[1,"col-2"],[1,"btn","btn-logout",3,"click"],[1,"search-panel-title"],[3,"responseApiEvent","newSearchStateEvent"],["class","row w-100 justify-content-center mt-4 search-results d-grid",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row","justify-content-center"],["class","btn btn-favorites",3,"click",4,"ngIf"],[3,"visible","checkCurrentEvent"],[1,"col-4"],[1,"row","w-100","justify-content-center","mt-4","search-results","d-grid"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"locationInformation","newLocationInformationEvent"],[3,"locationInformation","searchAgainEvent"],[1,"search-result-state"],[1,"btn","btn-favorites",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",0)(4,"div",3)(5,"button",4),c.NdJ("click",function(){return i.logout()}),c._uU(6,"Logout \u{1f519}"),c.qZA()(),c.TgZ(7,"div",1)(8,"h2",5),c._uU(9," \xa1Welcome to the WeatherApp! \u{1f31e}\u26c5\u{1f324}\ufe0f\u{1f325}\ufe0f\u{1f326}\ufe0f "),c.qZA(),c.TgZ(10,"app-search",6),c.NdJ("responseApiEvent",function(a){return i.searchResult(a)})("newSearchStateEvent",function(a){return i.searchStateChanged(a)}),c.qZA(),c.TgZ(11,"div",0),c._UZ(12,"hr"),c.qZA(),c.YNc(13,oz,2,1,"div",7),c.YNc(14,az,2,1,"div",8),c.YNc(15,lz,3,1,"div",8),c.YNc(16,cz,2,0,"div",9),c.TgZ(17,"div",10),c.YNc(18,uz,2,0,"button",11),c.TgZ(19,"app-favorites",12),c.NdJ("checkCurrentEvent",function(a){return i.searchFavoriteAgain(a)}),c.qZA()()(),c._UZ(20,"div",3),c.qZA()()(),c.TgZ(21,"div",13),c._UZ(22,"app-notifications"),c.qZA()()),2&t&&(c.xp6(13),c.Q6J("ngIf",i.results.length>0&&void 0===i.locationInformation),c.xp6(1),c.Q6J("ngIf",i.locationInformation),c.xp6(1),c.Q6J("ngIf",0===i.results.length),c.xp6(1),c.Q6J("ngIf",i.results),c.xp6(2),c.Q6J("ngIf",!i.showFavorites),c.xp6(1),c.Q6J("visible",i.showFavorites))},dependencies:[zi,tn,xI,RI,NI,aw,lw],styles:[".search-panel-body[_ngcontent-%COMP%]{background-color:#242424}.search-panel-title[_ngcontent-%COMP%]{margin:2rem auto;text-align:center;box-shadow:0 0 1rem #000;padding:.5rem;border:2px solid black;border-radius:2rem;overflow-x:hidden;overflow-y:auto;background-color:#fff}.search-panel[_ngcontent-%COMP%]{margin:2rem auto;box-shadow:0 0 1rem #000;padding:.5rem;border:2px solid black;border-radius:2rem;overflow-x:hidden;overflow-y:auto;width:80%;background:#FCD462}.btn[_ngcontent-%COMP%]{text-align:center;border:2px solid black;border-radius:2rem;font-weight:700;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s}hr[_ngcontent-%COMP%]{width:100%;border-top:2px solid #242424}.search-results[_ngcontent-%COMP%]{height:20rem;overflow-y:auto;overflow-x:hidden}.search-result-state[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:.2rem;border:2px solid #242424;border-radius:2rem;text-align:center;background-color:#fff}.d-grid[_ngcontent-%COMP%]{display:grid}.btn-logout[_ngcontent-%COMP%]{background-color:#e11515}.btn-logout[_ngcontent-%COMP%]:hover{transform:translateY(+7px);box-shadow:0 15px 20px #e1151566}.btn-favorites[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 20px #5c5e0b66}"]})}class dw{constructor(e,t,i){this.authService=e,this.router=t,this.toastr=i}canActivate(e,t){return!!this.authService.isLoggedIn||(this.router.navigate(["login"]),this.toastr.error("You must be logged in to access weather app!","ERROR",{positionClass:"toast-top-center"}),!1)}static#e=this.\u0275fac=function(t){return new(t||dw)(c.LFG(fl),c.LFG(wi),c.LFG(ew))};static#t=this.\u0275prov=c.Yz7({token:dw,factory:dw.\u0275fac,providedIn:"root"})}const dz=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:bI},{path:"weather",component:PI,canActivate:[dw]}];class FI{static#e=this.\u0275fac=function(t){return new(t||FI)};static#t=this.\u0275mod=c.oAB({type:FI});static#n=this.\u0275inj=c.cJS({imports:[FT.forRoot(dz),FT]})}class LI{constructor(){this.title="weather-app"}static#e=this.\u0275fac=function(t){return new(t||LI)};static#t=this.\u0275cmp=c.Xpm({type:LI,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[ch]})}function wF(n){return new c.vHH(3e3,!1)}function qz(){return typeof window<"u"&&typeof window.document<"u"}function MO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function cf(n){switch(n.length){case 0:return new J0;case 1:return n[0];default:return new VN(n)}}function EF(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(I=>{const A=I.get("offset"),P=A==_,V=P&&w||new Map;I.forEach((U,Q)=>{let ce=Q,Fe=U;if("offset"!==Q)switch(ce=e.normalizePropertyName(ce,u),Fe){case"!":Fe=r.get(Q);break;case cd:Fe=a.get(Q);break;default:Fe=e.normalizeStyleValue(Q,ce,Fe,u)}V.set(ce,Fe)}),P||f.push(V),w=V,_=A}),u.length)throw function Nz(n){return new c.vHH(3502,!1)}();return f}function OO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&RO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&RO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&RO(t,"destroy",n)))}}function RO(n,e,t){const a=kO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function kO(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function $o(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function CF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let NO=(n,e)=>!1,DF=(n,e,t)=>[],IF=null;function PO(n){const e=n.parentNode||n.host;return e===IF?null:e}(MO()||typeof Element<"u")&&(qz()?(IF=(()=>document.documentElement)(),NO=(n,e)=>{for(;e;){if(e===n)return!0;e=PO(e)}return!1}):NO=(n,e)=>n.contains(e),DF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Bm=null,TF=!1;const SF=NO,xF=DF;let AF=(()=>{class n{validateStyleProperty(t){return function Zz(n){Bm||(Bm=function Kz(){return typeof document<"u"?document.body:null}()||{},TF=!!Bm.style&&"WebkitAppearance"in Bm.style);let e=!0;return Bm.style&&!function Wz(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Bm.style,!e&&TF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Bm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return SF(t,i)}getParentElement(t){return PO(t)}query(t,i,r){return xF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new J0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FO=(()=>{class n{}return n.NOOP=new AF,n})();const LO="ng-enter",VI="ng-leave",BI="ng-trigger",UI=".ng-trigger",OF="ng-animating",VO=".ng-animating";function fd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:BO(parseFloat(e[1]),e[2])}function BO(n,e){return"s"===e?1e3*n:n}function HI(n,e,t){return n.hasOwnProperty("duration")?n:function Xz(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(wF()),{duration:0,delay:0,easing:""};r=BO(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=BO(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function hz(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function fz(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,wF())}return{duration:r,delay:a,easing:u}}(n,e,t)}function hw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function RF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function uf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function NF(n,e,t){return t?e+":"+t+";":""}function PF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=NF(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=NF(0,nG(t),n.style[t]));n.setAttribute("style",e)}function Oc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=HO(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),MO()&&PF(n))}function Um(n,e){n.style&&(e.forEach((t,i)=>{const r=HO(i);n.style[r]=""}),MO()&&PF(n))}function fw(n){return Array.isArray(n)?1==n.length?n[0]:FN(n):n}const UO=new RegExp("{{\\s*(.+?)\\s*}}","g");function FF(n){let e=[];if("string"==typeof n){let t;for(;t=UO.exec(n);)e.push(t[1]);UO.lastIndex=0}return e}function pw(n,e,t){const i=n.toString(),r=i.replace(UO,(a,u)=>{let f=e[u];return null==f&&(t.push(function mz(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function jI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tG=/-+([a-z0-9])/g;function HO(n){return n.replace(tG,(...e)=>e[1].toUpperCase())}function nG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gz(n){return new c.vHH(3004,!1)}()}}function LF(n,e){return window.getComputedStyle(n)[e]}function lG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cG(n,e,t){if(":"==n[0]){const _=function uG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Mz(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Az(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(VF(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(VF(u,r))}(i,t,e)):t.push(n),t}const qI=new Set(["true","1"]),WI=new Set(["false","0"]);function VF(n,e){const t=qI.has(n)||WI.has(n),i=qI.has(e)||WI.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?qI.has(n):WI.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?qI.has(e):WI.has(e)),u&&f}}const dG=new RegExp("s*:selfs*,?","g");function jO(n,e,t,i){return new hG(n).build(e,t,i)}class hG{constructor(e){this._driver=e}build(e,t,i){const r=new mG(t);return this._resetContextStyleTimingState(r),zo(this,fw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function yz(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function vz(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{FF(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(jI(a.values()),t.errors.push(function bz(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=zo(this,fw(e.animation),t);return{type:1,matchers:lG(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Hm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>zo(this,i,t)),options:Hm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=zo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Hm(e.options)}}visitAnimate(e,t){const i=function _G(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $O(HI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=$O(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=HI(t,e);return $O(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:fo({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=fo(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===cd?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(RF(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let A=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function Ez(n,e,t,i,r){return new c.vHH(3010,!1)}()),A=!1),a=I.startTime),A&&w.set(_,{startTime:a,endTime:r}),t.options&&function eG(n,e,t){const i=e.params||{},r=FF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function pz(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Cz(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map(Fe=>{const et=this._makeStyleAst(Fe,t);let dt=null!=et.offset?et.offset:function gG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(et.styles),lt=0;return null!=dt&&(a++,lt=et.offset=dt),_=_||lt<0||lt>1,f=f||lt<w,w=lt,u.push(lt),et});_&&t.errors.push(function Dz(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function Iz(){return new c.vHH(3200,!1)}());const A=e.steps.length;let P=0;a>0&&a<A?t.errors.push(function Tz(){return new c.vHH(3202,!1)}()):0==a&&(P=1/(A-1));const V=A-1,U=t.currentTime,Q=t.currentAnimateTimings,ce=Q.duration;return I.forEach((Fe,et)=>{const dt=P>0?et==V?1:P*et:u[et],lt=dt*ce;t.currentTime=U+Q.delay+lt,Q.duration=lt,this._validateStyleAst(Fe,t),Fe.offset=dt,i.styles.push(Fe)}),i}visitReference(e,t){return{type:8,animation:zo(this,fw(e.animation),t),options:Hm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Hm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Hm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function fG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(dG,"")),n=n.replace(/@\*/g,UI).replace(/@\w+/g,t=>UI+"-"+t.slice(1)).replace(/:animating/g,VO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,$o(t.collectedStyles,t.currentQuerySelector,new Map);const f=zo(this,fw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Hm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Sz(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:HI(e.timings,t.errors,!0);return{type:12,animation:zo(this,fw(e.animation),t),timings:i,options:null}}}class mG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hm(n){return n?(n=hw(n)).params&&(n.params=function pG(n){return n?hw(n):null}(n.params)):n={},n}function $O(n,e,t){return{duration:n,delay:e,easing:t}}function zO(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class ZI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bG=new RegExp(":enter","g"),EG=new RegExp(":leave","g");function GO(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new CG).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class CG{buildKeyframes(e,t,i,r,a,u,f,_,w,I=[]){w=w||new ZI;const A=new qO(e,t,w,r,a,I,[]);A.options=_;const P=_.delay?fd(_.delay):0;A.currentTimeline.delayNextStep(P),A.currentTimeline.setStyles([u],null,A.errors,_),zo(this,i,A);const V=A.timelines.filter(U=>U.containsAnimation());if(V.length&&f.size){let U;for(let Q=V.length-1;Q>=0;Q--){const ce=V[Q];if(ce.element===t){U=ce;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,A.errors,_)}return V.length?V.map(U=>U.buildKeyframes()):[zO(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:fd(pw(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?fd(i.duration):null,f=null!=i.delay?fd(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),zo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=KI);const u=fd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>zo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?fd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),zo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return HI(t.params?pw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?fd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=KI);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const A=t.createSubContext(e.options,w);a&&A.delayNextStep(a),w===t.element&&(_=A.currentTimeline),zo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const A=I.currentTime;zo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const KI={};class qO{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new YI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=fd(i.duration)),null!=i.delay&&(r.delay=fd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=pw(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new qO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=KI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new DG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(bG,"."+this._enterClassName)).replace(EG,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function xz(n){return new c.vHH(3014,!1)}()),f}}class YI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new YI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||cd),this._currentKeyframe.set(t,cd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function IG(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,cd)}else uf(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=pw(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??cd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=uf(f,new Map,this._backFill);w.forEach((I,A)=>{"!"===I?e.add(A):I===cd&&t.add(A)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?jI(e.values()):[],u=t.size?jI(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return zO(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class DG extends YI{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=uf(e[0]);_.set("offset",0),a.push(_);const w=uf(e[0]);w.set("offset",HF(f)),a.push(w);const I=e.length-1;for(let A=1;A<=I;A++){let P=uf(e[A]);const V=P.get("offset");P.set("offset",HF((t+V*i)/u)),a.push(P)}i=u,t=0,r="",e=a}return zO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function HF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WO{}const TG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SG extends WO{normalizePropertyName(e,t){return HO(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(TG.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function _z(n,e){return new c.vHH(3005,!1)}())}return u+a}}function jF(n,e,t,i,r,a,u,f,_,w,I,A,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:A,errors:P}}const ZO={};class $F{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function xG(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,I){const A=[],P=this.ast.options&&this.ast.options.params||ZO,U=this.buildStyles(i,f&&f.params||ZO,A),Q=_&&_.params||ZO,ce=this.buildStyles(r,Q,A),Fe=new Set,et=new Map,dt=new Map,lt="void"===r,Ot={params:AG(Q,P),delay:this.ast.options?.delay},Pt=I?[]:GO(e,t,this.ast.animation,a,u,U,ce,Ot,w,A);let ln=0;if(Pt.forEach(pd=>{ln=Math.max(pd.duration+pd.delay,ln)}),A.length)return jF(t,this._triggerName,i,r,lt,U,ce,[],[],et,dt,ln,A);Pt.forEach(pd=>{const md=pd.element,rL=$o(et,md,new Set);pd.preStyleProps.forEach(jm=>rL.add(jm));const gw=$o(dt,md,new Set);pd.postStyleProps.forEach(jm=>gw.add(jm)),md!==t&&Fe.add(md)});const ks=jI(Fe.values());return jF(t,this._triggerName,i,r,lt,U,ce,Pt,ks,et,dt,ln)}}function AG(n,e){const t=hw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class MG{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=hw(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=pw(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class RG{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new MG(r.style,r.options&&r.options.params||{},i))}),zF(this.states,"true","1"),zF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new $F(e,r,this.states))}),this.fallbackTransition=function kG(n,e,t){return new $F(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function zF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const NG=new ZI;class PG{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=jO(this._driver,t,i,[]);if(i.length)throw function Pz(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=EF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=GO(this._driver,t,a,LO,VI,new Map,new Map,i,NG,r),u.forEach(I=>{const A=$o(f,I.element,new Map);I.postStyleProps.forEach(P=>A.set(P,null))})):(r.push(function Fz(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function Lz(n){return new c.vHH(3504,!1)}();f.forEach((I,A)=>{I.forEach((P,V)=>{I.set(V,this._driver.computeStyle(A,V,cd))})});const w=cf(u.map(I=>{const A=f.get(I.element);return this._buildPlayer(I,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Vz(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=kO(t,"","","");return OO(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const GF="ng-animate-queued",KO="ng-animate-disabled",UG=[],qF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed";class YO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function GG(n){return n??null}(i?e.value:e),i){const a=hw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const mw="void",QO=new YO(mw);class jG{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ea(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Bz(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function Uz(n){return new c.vHH(3303,!1)}();if(!function qG(n){return"start"==n||"done"==n}(i))throw function Hz(n,e){return new c.vHH(3400,!1)}();const a=$o(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=$o(this._engine.statesByElement,e,new Map);return f.has(t)||(Ea(e,BI),Ea(e,BI+"-"+t),f.set(t,QO)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jz(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new XO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ea(e,BI),Ea(e,BI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new YO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=QO),w.value!==mw&&_.value===w.value){if(!function KG(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const Q=[],ce=a.matchStyles(_.value,_.params,Q),Fe=a.matchStyles(w.value,w.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Um(e,ce),Oc(e,Fe)})}return}const P=$o(this._engine.playersByElement,e,[]);P.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let V=a.matchTransition(_.value,w.value,e,w.params),U=!1;if(!V){if(!r)return;V=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:w,player:u,isFallbackTransition:U}),U||(Ea(e,GF),u.onStart(()=>{_y(e,GF)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ce=this._engine.playersByElement.get(e);if(ce){let Fe=ce.indexOf(u);Fe>=0&&ce.splice(Fe,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,UI,!0);i.forEach(r=>{if(r[wa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,mw,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&cf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||QO,I=new YO(mw),A=new XO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[wa];(!a||a===qF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ea(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=kO(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,OO(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class $G{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new jG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(QI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!QI(t))return;const a=t[wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ea(e,KO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_y(e,KO))}removeNode(e,t,i,r){if(QI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[wa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return QI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,UI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return cf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wa];if(t&&t.setForRemoval){if(e[wa]=qF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(KO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ea(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?cf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function $z(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new ZI,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(pt=>{I.add(pt);const Rt=this.driver.query(pt,".ng-animate-queued",!0);for(let Vt=0;Vt<Rt.length;Vt++)I.add(Rt[Vt])});const A=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=KF(P,this.collectedEnterElements),U=new Map;let Q=0;V.forEach((pt,Rt)=>{const Vt=LO+Q++;U.set(Rt,Vt),pt.forEach(fn=>Ea(fn,Vt))});const ce=[],Fe=new Set,et=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Rt=this.collectedLeaveElements[pt],Vt=Rt[wa];Vt&&Vt.setForRemoval&&(ce.push(Rt),Fe.add(Rt),Vt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(fn=>Fe.add(fn)):et.add(Rt))}const dt=new Map,lt=KF(P,Array.from(Fe));lt.forEach((pt,Rt)=>{const Vt=VI+Q++;dt.set(Rt,Vt),pt.forEach(fn=>Ea(fn,Vt))}),e.push(()=>{V.forEach((pt,Rt)=>{const Vt=U.get(Rt);pt.forEach(fn=>_y(fn,Vt))}),lt.forEach((pt,Rt)=>{const Vt=dt.get(Rt);pt.forEach(fn=>_y(fn,Vt))}),ce.forEach(pt=>{this.processLeaveNode(pt)})});const Ot=[],Pt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(t).forEach(Vt=>{const fn=Vt.player,Mr=Vt.element;if(Ot.push(fn),this.collectedEnterElements.length){const rs=Mr[wa];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(Vt.triggerName)){const $m=rs.previousTriggersValues.get(Vt.triggerName),Ca=this.statesByElement.get(Vt.element);if(Ca&&Ca.has(Vt.triggerName)){const tT=Ca.get(Vt.triggerName);tT.value=$m,Ca.set(Vt.triggerName,tT)}}return void fn.destroy()}}const Rc=!A||!this.driver.containsElement(A,Mr),Go=dt.get(Mr),df=U.get(Mr),hi=this._buildInstruction(Vt,i,df,Go,Rc);if(hi.errors&&hi.errors.length)return void Pt.push(hi);if(Rc)return fn.onStart(()=>Um(Mr,hi.fromStyles)),fn.onDestroy(()=>Oc(Mr,hi.toStyles)),void r.push(fn);if(Vt.isFallbackTransition)return fn.onStart(()=>Um(Mr,hi.fromStyles)),fn.onDestroy(()=>Oc(Mr,hi.toStyles)),void r.push(fn);const aL=[];hi.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||aL.push(rs)}),hi.timelines=aL,i.append(Mr,hi.timelines),u.push({instruction:hi,player:fn,element:Mr}),hi.queriedElements.forEach(rs=>$o(f,rs,[]).push(fn)),hi.preStyleProps.forEach((rs,$m)=>{if(rs.size){let Ca=_.get($m);Ca||_.set($m,Ca=new Set),rs.forEach((tT,tR)=>Ca.add(tR))}}),hi.postStyleProps.forEach((rs,$m)=>{let Ca=w.get($m);Ca||w.set($m,Ca=new Set),rs.forEach((tT,tR)=>Ca.add(tR))})});if(Pt.length){const pt=[];Pt.forEach(Rt=>{pt.push(function zz(n,e){return new c.vHH(3505,!1)}())}),Ot.forEach(Rt=>Rt.destroy()),this.reportError(pt)}const ln=new Map,ks=new Map;u.forEach(pt=>{const Rt=pt.element;i.has(Rt)&&(ks.set(Rt,Rt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,ln))}),r.forEach(pt=>{const Rt=pt.element;this._getPreviousPlayers(Rt,!1,pt.namespaceId,pt.triggerName,null).forEach(fn=>{$o(ln,Rt,[]).push(fn),fn.destroy()})});const pd=ce.filter(pt=>QF(pt,_,w)),md=new Map;ZF(md,this.driver,et,w,cd).forEach(pt=>{QF(pt,_,w)&&pd.push(pt)});const gw=new Map;V.forEach((pt,Rt)=>{ZF(gw,this.driver,new Set(pt),_,"!")}),pd.forEach(pt=>{const Rt=md.get(pt),Vt=gw.get(pt);md.set(pt,new Map([...Array.from(Rt?.entries()??[]),...Array.from(Vt?.entries()??[])]))});const jm=[],sL=[],oL={};u.forEach(pt=>{const{element:Rt,player:Vt,instruction:fn}=pt;if(i.has(Rt)){if(I.has(Rt))return Vt.onDestroy(()=>Oc(Rt,fn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(fn.totalTime),void r.push(Vt);let Mr=oL;if(ks.size>1){let Go=Rt;const df=[];for(;Go=Go.parentNode;){const hi=ks.get(Go);if(hi){Mr=hi;break}df.push(Go)}df.forEach(hi=>ks.set(hi,Mr))}const Rc=this._buildAnimation(Vt.namespaceId,fn,ln,a,gw,md);if(Vt.setRealPlayer(Rc),Mr===oL)jm.push(Vt);else{const Go=this.playersByElement.get(Mr);Go&&Go.length&&(Vt.parentPlayer=cf(Go)),r.push(Vt)}}else Um(Rt,fn.fromStyles),Vt.onDestroy(()=>Oc(Rt,fn.toStyles)),sL.push(Vt),I.has(Rt)&&r.push(Vt)}),sL.forEach(pt=>{const Rt=a.get(pt.element);if(Rt&&Rt.length){const Vt=cf(Rt);pt.setRealPlayer(Vt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<ce.length;pt++){const Rt=ce[pt],Vt=Rt[wa];if(_y(Rt,VI),Vt&&Vt.hasAnimation)continue;let fn=[];if(f.size){let Rc=f.get(Rt);Rc&&Rc.length&&fn.push(...Rc);let Go=this.driver.query(Rt,VO,!0);for(let df=0;df<Go.length;df++){let hi=f.get(Go[df]);hi&&hi.length&&fn.push(...hi)}}const Mr=fn.filter(Rc=>!Rc.destroyed);Mr.length?WG(this,Rt,Mr):this.processLeaveNode(Rt)}return ce.length=0,jm.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Rt=this.players.indexOf(pt);this.players.splice(Rt,1)}),pt.play()}),jm}elementContainsData(e,t){let i=!1;const r=t[wa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==mw;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,A=$o(i,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),A.push(V)})}Um(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,A=new Set,P=t.timelines.map(U=>{const Q=U.element;I.add(Q);const ce=Q[wa];if(ce&&ce.removedBeforeQueried)return new J0(U.duration,U.delay);const Fe=Q!==_,et=function ZG(n){const e=[];return YF(n,e),e}((i.get(Q)||UG).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===Q),dt=a.get(Q),lt=u.get(Q),Ot=EF(0,this._normalizer,0,U.keyframes,dt,lt),Pt=this._buildPlayer(U,Ot,et);if(U.subTimeline&&r&&A.add(Q),Fe){const ln=new XO(e,f,Q);ln.setRealPlayer(Pt),w.push(ln)}return Pt});w.forEach(U=>{$o(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function zG(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),I.forEach(U=>Ea(U,OF));const V=cf(P);return V.onDestroy(()=>{I.forEach(U=>_y(U,OF)),Oc(_,t.toStyles)}),A.forEach(U=>{$o(r,U,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new J0(e.duration,e.delay)}}class XO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new J0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>OO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$o(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function QI(n){return n&&1===n.nodeType}function WF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ZF(n,e,t,i,r){const a=[];t.forEach(_=>a.push(WF(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(A=>{const P=e.computeStyle(w,A,r);I.set(A,P),(!P||0==P.length)&&(w[wa]=HG,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>WF(_,a[f++])),u}function KF(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Ea(n,e){n.classList?.add(e)}function _y(n,e){n.classList?.remove(e)}function WG(n,e,t){cf(t).onDone(()=>n.processLeaveNode(e))}function YF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof VN?YF(i.players,e):e.push(i)}}function QF(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class XI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new $G(e,t,i),this._timelineEngine=new PG(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=jO(this._driver,a,_,[]);if(_.length)throw function kz(n,e){return new c.vHH(3404,!1)}();f=function OG(n,e,t){return new RG(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=CF(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=CF(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QG=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Oc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oc(this._element,this._initialStyles),this._endStyles&&(Oc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Um(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Um(this._element,this._endStyles),this._endStyles=null),Oc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JO(n){let e=null;return n.forEach((t,i)=>{(function XG(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class XF{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:LF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class JG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SF(e,t)}getParentElement(e){return PO(e)}query(e,t,i){return xF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=u.filter(V=>V instanceof XF);(function iG(n,e){return 0===n||0===e})(i,r)&&I.forEach(V=>{V.currentSnapshot.forEach((U,Q)=>w.set(Q,U))});let A=function Jz(n){return n.length?n[0]instanceof Map?n:n.map(e=>RF(e)):[]}(t).map(V=>uf(V));A=function rG(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,LF(n,f)))}}return e}(e,A,w);const P=function YG(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=JO(e[0]),e.length>1&&(i=JO(e[e.length-1]))):e instanceof Map&&(t=JO(e)),t||i?new QG(n,t,i):null}(e,A);return new XF(e,A,_,P)}}let e6=(()=>{class n extends NN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?FN(t):t;return JF(this._renderer,null,i,"register",[r]),new t6(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class t6 extends QB{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new n6(this._id,e,t||{},this._renderer)}}class n6{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JF(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const eL="@.disabled";let i6=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new tL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new r6(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(XI),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class tL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==eL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class r6 extends tL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function s6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function o6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let a6=(()=>{class n extends XI{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(FO),c.LFG(WO),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nL=[{provide:NN,useClass:e6},{provide:WO,useFactory:function l6(){return new SG}},{provide:XI,useClass:a6},{provide:c.FYo,useFactory:function c6(n,e,t){return new i6(n,e,t)},deps:[Zr,XI,c.R0b]}],eR=[{provide:FO,useFactory:()=>new JG},{provide:c.QbO,useValue:"BrowserAnimations"},...nL],iL=[{provide:FO,useClass:AF},{provide:c.QbO,useValue:"NoopAnimations"},...nL];let u6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?iL:eR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:eR,imports:[Nd]}),n})();class eT{static#e=this.\u0275fac=function(t){return new(t||eT)};static#t=this.\u0275mod=c.oAB({type:eT,bootstrap:[LI]});static#n=this.\u0275inj=c.cJS({imports:[Nd,FI,ti,ao.hO.initializeApp(S3_firebaseConfig),YB,Ds,$g,u6,ZH,yU.forRoot(),Y3,l$,l3,g3]})}iu().bootstrapModule(eT).catch(n=>console.error(n))},5867:(ct,we,N)=>{N.d(we,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=N(9681);(0,c.registerVersion)("firebase","9.14.0","app")},127:(ct,we,N)=>{N.d(we,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.14.0","app-compat")},1277:(ct,we,N)=>{N.r(we);var c=N(5861),ee=N(3942),k=N(2090),ae=N(9681),le=N(1877),he=N(655),te=N(4859);const Ke=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new le.Yd("@firebase/auth");function Le(v,...p){Ce.logLevel<=le.in.ERROR&&Ce.error(`Auth (${ae.SDK_VERSION}): ${v}`,...p)}function Te(v,...p){throw ke(v,...p)}function be(v,...p){return ke(v,...p)}function Me(v,p,g){const b=Object.assign(Object.assign({},tt()),{[p]:g});return new k.LL("auth","Firebase",b).create(p,{appName:v.name})}function He(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Te(v,"argument-error"),Me(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(v,...p){if("string"!=typeof v){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return pe.create(v,...p)}function H(v,p,...g){if(!v)throw ke(p,...g)}function ve(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Le(p),new Error(p)}function W(v,p){v||ve(p)}const X=new Map;function se(v){W(v instanceof Function,"Expected a class definition");let p=X.get(v);return p?(W(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,X.set(v,p),p)}function Ne(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ht(){return"http:"===nn()||"https:"===nn()}function nn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ht{constructor(p,g){this.shortDelay=p,this.longDelay=g,W(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(v,p){W(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class en{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Di={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vi=new Ht(3e4,6e4);function vt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function En(v,p,g,b){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(v,p,g,b,x={}){return ar(v,x,(0,c.Z)(function*(){let R={},G={};b&&("GET"===p?G=b:R={body:JSON.stringify(b)});const ue=(0,k.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),en.fetch()(Ns(v,v.config.apiHost,g,ue),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ar(v,p,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(v,p,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Di),p);try{const x=new Or(v),R=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const G=yield R.json();if("needConfirmation"in G)throw Hi(v,"account-exists-with-different-credential",G);if(R.ok&&!("errorMessage"in G))return G;{const ue=R.ok?G.errorMessage:G.error.message,[Be,Qe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Hi(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Be)throw Hi(v,"email-already-in-use",G);if("USER_DISABLED"===Be)throw Hi(v,"user-disabled",G);const yt=b[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Me(v,yt,Qe);Te(v,yt)}}catch(x){if(x instanceof k.ZR)throw x;Te(v,"network-request-failed")}})).apply(this,arguments)}function Ui(v,p,g,b){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(v,p,g,b,x={}){const R=yield En(v,p,g,b,x);return"mfaPendingCredential"in R&&Te(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ns(v,p,g,b){const x=`${p}${g}?${b}`;return v.config.emulator?mt(v.config,x):`${v.config.apiScheme}://${x}`}class Or{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),Vi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hi(v,p,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=be(v,p,b);return x.customData._tokenResponse=g,x}function _n(){return(_n=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function lr(v,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ss(v,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Cn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function kt(){return(kt=(0,c.Z)(function*(v,p=!1){const g=(0,k.m9)(v),b=yield g.getIdToken(p),x=It(b);H(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,G=R?.sign_in_provider;return{claims:x,token:b,authTime:Cn(bt(x.auth_time)),issuedAtTime:Cn(bt(x.iat)),expirationTime:Cn(bt(x.exp)),signInProvider:G||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(v){return 1e3*Number(v)}function It(v){var p;const[g,b,x]=v.split(".");if(void 0===g||void 0===b||void 0===x)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,k.tV)(b);return R?JSON.parse(R):(Le("Failed to decode base64 JWT payload"),null)}catch(R){return Le("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function On(v,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&kr(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function kr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ii{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Da{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cn(this.lastLoginAt),this.creationTime=Cn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(v){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(v){var p;const g=v.auth,b=yield v.getIdToken(),x=yield On(v,ss(g,{idToken:b}));H(x?.users.length,g,"internal-error");const R=x.users[0];v._notifyReloadListener(R);const G=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?je(R.providerUserInfo):[],ue=zr(v.providerData,G),yt=!!v.isAnonymous&&!(v.email&&R.passwordHash||ue?.length),at={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new Da(R.createdAt,R.lastLoginAt),isAnonymous:yt};Object.assign(v,at)})).apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(v){const p=(0,k.m9)(v);yield cn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zr(v,p){return[...v.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}function je(v){return v.map(p=>{var{providerId:g}=p,b=(0,he._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Xe(){return(Xe=(0,c.Z)(function*(v,p){const g=yield ar(v,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:R}=v.config,G=Ns(v,x,"/v1/token",`key=${R}`),ue=yield v._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(G,{method:"POST",headers:ue,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function os(v){const p=It(v);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,c.Z)(function*(){return H(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:G}=yield function De(v,p){return Xe.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(x,R,Number(G))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:x,expirationTime:R}=g,G=new Ct;return b&&(H("string"==typeof b,"internal-error",{appName:p}),G.refreshToken=b),x&&(H("string"==typeof x,"internal-error",{appName:p}),G.accessToken=x),R&&(H("number"==typeof R,"internal-error",{appName:p}),G.expirationTime=R),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Dt(v,p){H("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Ut{constructor(p){var{uid:g,auth:b,stsTokenManager:x}=p,R=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Da(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const b=yield On(g,g.stsTokenManager.getToken(g.auth,p));return H(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Ps(v){return kt.apply(this,arguments)}(this,p)}reload(){return function Xt(v){return Ti.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Ut(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,c.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield cn(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield On(p,function mo(v,p){return _n.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,x,R,G,ue,Be,Qe,yt;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,ai=null!==(x=g.email)&&void 0!==x?x:void 0,jr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,bu=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Jf=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,lh=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,ws=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,Qa=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Xa,emailVerified:wu,isAnonymous:ch,providerData:ep,stsTokenManager:dg}=g;H(Xa&&dg,p,"internal-error");const tp=Ct.fromJSON(this.name,dg);H("string"==typeof Xa,p,"internal-error"),Dt(at,p.name),Dt(ai,p.name),H("boolean"==typeof wu,p,"internal-error"),H("boolean"==typeof ch,p,"internal-error"),Dt(jr,p.name),Dt(bu,p.name),Dt(Jf,p.name),Dt(lh,p.name),Dt(ws,p.name),Dt(Qa,p.name);const Eu=new Ut({uid:Xa,auth:p,email:ai,emailVerified:wu,displayName:at,isAnonymous:ch,photoURL:bu,phoneNumber:jr,tenantId:Jf,stsTokenManager:tp,createdAt:ws,lastLoginAt:Qa});return ep&&Array.isArray(ep)&&(Eu.providerData=ep.map(bw=>Object.assign({},bw))),lh&&(Eu._redirectEventId=lh),Eu}static _fromIdTokenResponse(p,g,b=!1){return(0,c.Z)(function*(){const x=new Ct;x.updateFromServerResponse(g);const R=new Ut({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield cn(R),R})()}}const B=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var x=this;return(0,c.Z)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function Z(v,p,g){return`firebase:${v}:${p}:${g}`}class ge{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:x,name:R}=this.auth;this.fullUserKey=Z(this.userKey,x.apiKey,R),this.fullPersistenceKey=Z("persistence",x.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Ut._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new ge(se(B),p,b);const x=(yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let R=x[0]||se(B);const G=Z(b,p.config.apiKey,p.name);let ue=null;for(const Qe of g)try{const yt=yield Qe._get(G);if(yt){const at=Ut._fromJSON(p,yt);Qe!==R&&(ue=at),R=Qe;break}}catch{}const Be=x.filter(Qe=>Qe._shouldAllowMigration);return R._shouldAllowMigration&&Be.length?(R=Be[0],ue&&(yield R._set(G,ue.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,c.Z)(function*(yt){if(yt!==R)try{yield yt._remove(G)}catch{}});return function(yt){return Qe.apply(this,arguments)}}())),new ge(R,p,b)):new ge(R,p,b)})()}}function ne(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(In(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(nt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ri(p))return"Blackberry";if(qt(p))return"Webos";if(jt(p))return"Safari";if((p.includes("chrome/")||Yt(p))&&!p.includes("edge/"))return"Chrome";if(wt(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function nt(v=(0,k.z$)()){return/firefox\//i.test(v)}function jt(v=(0,k.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Yt(v=(0,k.z$)()){return/crios\//i.test(v)}function In(v=(0,k.z$)()){return/iemobile/i.test(v)}function wt(v=(0,k.z$)()){return/android/i.test(v)}function ri(v=(0,k.z$)()){return/blackberry/i.test(v)}function qt(v=(0,k.z$)()){return/webos/i.test(v)}function Kn(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function hf(v=(0,k.z$)()){return Kn(v)||wt(v)||qt(v)||ri(v)||/windows phone/i.test(v)||In(v)}function pl(v,p=[]){let g;switch(v){case"Browser":g=ne((0,k.z$)());break;case"Worker":g=`${ne((0,k.z$)())}-${v}`;break;default:g=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${b}`}class kc{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=R=>new Promise((G,ue)=>{try{G(p(R))}catch(Be){ue(Be)}});b.onAbort=g,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){var b;if(g.auth.currentUser===p)return;const x=[];try{for(const R of g.queue)yield R(p),R.onAbort&&x.push(R.onAbort)}catch(R){x.reverse();for(const G of x)try{G()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=R)||void 0===b?void 0:b.message})}})()}}class gd{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _d(this),this.idTokenSubscription=new _d(this),this.beforeStateQueue=new kc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,R;if(!b._deleted&&(b.persistenceManager=yield ge.create(b,p),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var b;const x=yield g.assertedPersistence.getCurrentUser();let R=x,G=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ue=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Be=R?._redirectEventId,Qe=yield g.tryRedirectSignIn(p);(!ue||ue===Be)&&Qe?.user&&(R=Qe.user,G=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(G)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ue){R=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ue))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return H(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){var b;try{yield cn(p)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&H(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return p&&H(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,c.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&se(p)||g._popupRedirectResolver;H(b,g,"argument-error"),g.redirectPersistenceManager=yield ge.create(g,[se(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,x){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return H(G,this,"internal-error"),G.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,b,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=pl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Tn(v){return(0,k.m9)(v)}class _d{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sa(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Jt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Fn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(p){return ve("not implemented")}_linkToIdToken(p,g){return ve("not implemented")}_getReauthenticationResolver(p){return ve("not implemented")}}function jn(v,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:resetPassword",vt(v,p))})).apply(this,arguments)}function $i(v,p){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ft(v,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:update",vt(v,p))})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithPassword",vt(v,p))})).apply(this,arguments)}function Sn(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:sendOobCode",vt(v,p))})).apply(this,arguments)}function tn(v,p){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(v,p){return Sn(v,p)})).apply(this,arguments)}function Fs(v,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(v,p){return Sn(v,p)})).apply(this,arguments)}function _o(v,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(v,p){return Sn(v,p)})).apply(this,arguments)}function Pc(v,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v,p){return Sn(v,p)})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithEmailLink",vt(v,p))})).apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithEmailLink",vt(v,p))})).apply(this,arguments)}class cs extends Fn{constructor(p,g,b,x=null){super("password",b),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new cs(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new cs(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function xi(v,p){return zi.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function pi(v,p){return yo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return $i(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Zo(v,p){return Ai.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ln(v,p){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithIdp",vt(v,p))})).apply(this,arguments)}class Gr extends Fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Gr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=g,R=(0,he._T)(g,["providerId","signInMethod"]);if(!b||!x)return null;const G=new Gr(b,x);return G.idToken=R.idToken||void 0,G.accessToken=R.accessToken||void 0,G.secret=R.secret,G.nonce=R.nonce,G.pendingToken=R.pendingToken||null,G}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Ln(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ln(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,k.xO)(g)}return p}}function ml(v,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:sendVerificationCode",vt(v,p))})).apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithPhoneNumber",vt(v,p))})).apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(v,p){const g=yield Ui(v,"POST","/v1/accounts:signInWithPhoneNumber",vt(v,p));if(g.temporaryProof)throw Hi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const pf={USER_NOT_FOUND:"user-not-found"};function cr(){return(cr=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithPhoneNumber",vt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),pf)})).apply(this,arguments)}class us extends Fn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new us({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new us({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Ls(v,p){return _r.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function vo(v,p){return Qn.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Gi(v,p){return cr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:R}=p;return b||g||x||R?new us({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:R}):null}}class Mi{constructor(p){var g,b,x,R,G,ue;const Be=(0,k.zd)((0,k.pd)(p)),Qe=null!==(g=Be.apiKey)&&void 0!==g?g:null,yt=null!==(b=Be.oobCode)&&void 0!==b?b:null,at=function Fc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Be.mode)&&void 0!==x?x:null);H(Qe&&yt&&at,"argument-error"),this.apiKey=Qe,this.operation=at,this.code=yt,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(G=Be.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ue=Be.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function Ko(v){const p=(0,k.zd)((0,k.pd)(v)).link,g=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||p||v}(p);try{return new Mi(g)}catch{return null}}}let vd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return cs._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=Mi.parseLink(b);return H(x,"argument-error"),cs._fromEmailAndCode(g,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ds{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Vs extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ma extends Vs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return H("providerId"in g&&"signInMethod"in g,"argument-error"),Gr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),Gr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ma.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ma.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:R,nonce:G,providerId:ue}=p;if(!b&&!x&&!g&&!R||!ue)return null;try{return new Ma(ue)._credential({idToken:g,accessToken:b,nonce:G,pendingToken:R})}catch{return null}}}let bd=(()=>{class v extends Vs{constructor(){super("facebook.com")}static credential(g){return Gr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),mf=(()=>{class v extends Vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Gr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Lc=(()=>{class v extends Vs{constructor(){super("github.com")}static credential(g){return Gr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class gl extends Fn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Ln(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ln(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:R}=g;return b&&x&&R&&b===x?new gl(b,R):null}static _create(p,g){return new gl(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends ds{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=gl.fromJSON(p);return H(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return gl._create(b,g)}catch{return null}}}let Ed=(()=>{class v extends Vs{constructor(){super("twitter.com")}static credential(g,b){return Gr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Vc(v,p){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signUp",vt(v,p))})).apply(this,arguments)}class yr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,x=!1){return(0,c.Z)(function*(){const R=yield Ut._fromIdTokenResponse(p,b,x),G=gf(b);return new yr({user:R,providerId:G,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=gf(b);return new yr({user:p,providerId:x,_tokenResponse:b,operationType:g})})()}}function gf(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Uc(){return(Uc=(0,c.Z)(function*(v){var p;const g=Tn(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new yr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Vc(g,{returnSecureToken:!0}),x=yield yr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Oa extends k.ZR{constructor(p,g,b,x){var R;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,x){return new Oa(p,g,b,x)}}function zm(v,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Oa._fromErrorAndOperation(v,R,p,b):R})}function bo(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function vr(){return(vr=(0,c.Z)(function*(v,p){const g=(0,k.m9)(v);yield Bs(!0,g,p);const{providerUserInfo:b}=yield lr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=bo(b||[]);return g.providerData=g.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yl(v,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(v,p,g=!1){const b=yield On(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return yr._forOperation(v,"link",b)})).apply(this,arguments)}function Bs(v,p,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(v,p,g){yield cn(p);const x=!1===v?"provider-already-linked":"no-such-provider";H(bo(p.providerData).has(g)===v,p.auth,x)})).apply(this,arguments)}function bl(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,p,g=!1){var b;const{auth:x}=v,R="reauthenticate";try{const G=yield On(v,zm(x,R,p,v),g);H(G.idToken,x,"internal-error");const ue=It(G.idToken);H(ue,x,"internal-error");const{sub:Be}=ue;return H(v.uid===Be,x,"user-mismatch"),yr._forOperation(v,R,G)}catch(G){throw"auth/user-not-found"===(null===(b=G)||void 0===b?void 0:b.code)&&Te(x,"user-mismatch"),G}})).apply(this,arguments)}function ka(v,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(v,p,g=!1){const b="signIn",x=yield zm(v,b,p),R=yield yr._fromIdTokenResponse(v,b,x);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function xn(v,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(v,p){return ka(Tn(v),p)})).apply(this,arguments)}function Oi(v,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(v,p){const g=(0,k.m9)(v);return yield Bs(!1,g,p.providerId),yl(g,p)})).apply(this,arguments)}function El(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(v,p){return bl((0,k.m9)(v),p)})).apply(this,arguments)}function Id(v,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,c.Z)(function*(v,p){return Ui(v,"POST","/v1/accounts:signInWithCustomToken",vt(v,p))})).apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(v,p){const g=Tn(v),b=yield Id(g,{token:p,returnSecureToken:!0}),x=yield yr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Dl{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Pa._fromServerResponse(p,g):Te(p,"internal-error")}}class Pa extends Dl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Pa(g)}}function gi(v,p,g){var b;H((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),H(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(H(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(H(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Xo(){return(Xo=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v),x={requestType:"PASSWORD_RESET",email:p};g&&gi(b,x,g),yield Fs(b,x)})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(v,p,g){yield jn((0,k.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(v,p){yield Ft((0,k.m9)(v),{oobCode:p})})).apply(this,arguments)}function Il(v,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(v,p){const g=(0,k.m9)(v),b=yield jn(g,{oobCode:p}),x=b.requestType;switch(H(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,g,"internal-error");default:H(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=Dl._fromServerResponse(Tn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(v,p){const{data:g}=yield Il((0,k.m9)(v),p);return g.email})).apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(v,p,g){const b=Tn(v),x=yield Vc(b,{returnSecureToken:!0,email:p,password:g}),R=yield yr._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v),x={requestType:"EMAIL_SIGNIN",email:p};H(g.handleCodeInApp,b,"argument-error"),g&&gi(b,x,g),yield _o(b,x)})).apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v),x=vd.credentialWithLink(p,g||Ne());return H(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),xn(b,x)})).apply(this,arguments)}function qm(v,p){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:createAuthUri",vt(v,p))})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(v,p){const b={identifier:p,continueUri:ht()?Ne():"http://localhost"},{signinMethods:x}=yield qm((0,k.m9)(v),b);return x||[]})).apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(v,p){const g=(0,k.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&gi(g.auth,x,p);const{email:R}=yield tn(g.auth,x);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&gi(b.auth,R,g);const{email:G}=yield Pc(b.auth,R);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function Fr(v,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(v,p){return En(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,k.m9)(v),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},G=yield On(b,Fr(b.auth,R));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const ue=b.providerData.find(({providerId:Be})=>"password"===Be);ue&&(ue.displayName=b.displayName,ue.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)})).apply(this,arguments)}function Zc(v,p,g){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(v,p,g){const{auth:b}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const G=yield On(v,$i(b,R));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class ta{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class na extends ta{constructor(p,g,b,x){super(p,g,b),this.username=x}}class hs extends ta{constructor(p,g){super(p,"facebook.com",g)}}class Sd extends na{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class bf extends ta{constructor(p,g){super(p,"google.com",g)}}class xd extends na{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Wm(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function js(v){var p,g;if(!v)return null;const{providerId:b}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const G=null===(g=null===(p=It(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new ta(R,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new hs(R,x);case"github.com":return new Sd(R,x);case"google.com":return new bf(R,x);case"twitter.com":return new xd(R,x,v.screenName||null);case"custom":case"anonymous":return new ta(R,null);default:return new ta(R,b,x)}}(g)}class Eo{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Eo("enroll",p,g)}static _fromMfaPendingCredential(p){return new Eo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Eo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Eo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Al{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Tn(p),x=g.customData._serverResponse,R=(x.mfaInfo||[]).map(ue=>Dl._fromServerResponse(b,ue));H(x.mfaPendingCredential,b,"internal-error");const G=Eo._fromMfaPendingCredential(x.mfaPendingCredential);return new Al(G,R,function(){var ue=(0,c.Z)(function*(Be){const Qe=yield Be._process(b,G);delete x.mfaInfo,delete x.mfaPendingCredential;const yt=Object.assign(Object.assign({},x),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const at=yield yr._fromIdTokenResponse(b,g.operationType,yt);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return H(g.user,b,"internal-error"),yr._forOperation(g.user,g.operationType,yt);default:Te(b,"internal-error")}});return function(Be){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function Ad(v,p){return En(v,"POST","/v2/accounts/mfaEnrollment:start",vt(v,p))}class fs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Dl._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new fs(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Eo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,c.Z)(function*(){const x=p,R=yield b.getSession(),G=yield On(b.user,x._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){var b;const x="string"==typeof p?p:p.uid,R=yield g.user.getIdToken(),G=yield On(g.user,function zn(v,p){return En(v,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(v,p))}(g.user.auth,{idToken:R,mfaEnrollmentId:x}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ue})=>ue!==x),yield g.user._updateTokensIfNecessary(G);try{yield g.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(b=ue)||void 0===b?void 0:b.code))throw ue}})()}}const rn=new WeakMap,Co="__sak";class Xc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wr=(()=>{class v extends Xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function If(){const v=(0,k.z$)();return jt(v)||Kn(v)}()&&function Ta(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hf(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),R=this.localCache[b];x!==R&&g(b,R,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ue,Be,Qe)=>{this.notifyListeners(ue,Qe)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(x);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const R=()=>{const ue=this.storage.getItem(x);!b&&this.localCache[x]===ue||this.notifyListeners(x,ue)},G=this.storage.getItem(x);!function Ia(){return(0,k.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,R=this;return(0,c.Z)(function*(){yield x().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,c.Z)(function*(){const R=yield b().call(x,g);return x.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,x=this;return(0,c.Z)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return v.type="LOCAL",v})(),Lr=(()=>{class v extends Xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let Od=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const x=new v(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const x=g,{eventId:R,eventType:G,data:ue}=x.data,Be=b.handlersMap[G];if(!Be?.size)return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:G});const Qe=Array.from(Be).map(function(){var at=(0,c.Z)(function*(ai){return ai(x.origin,ue)});return function(ai){return at.apply(this,arguments)}}()),yt=yield function Do(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Qe);x.ports[0].postMessage({status:"done",eventId:R,eventType:G,response:yt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Wi(v="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return v+g}class ps{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var x=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let G,ue;return new Promise((Be,Qe)=>{const yt=Wi("",20);R.port1.start();const at=setTimeout(()=>{Qe(new Error("unsupported_event"))},b);ue={messageChannel:R,onMessage(ai){const jr=ai;if(jr.data.eventId===yt)switch(jr.data.status){case"ack":clearTimeout(at),G=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Be(jr.data.response);break;default:clearTimeout(at),clearTimeout(G),Qe(new Error("invalid_response"))}}},x.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),x.target.postMessage({eventType:p,eventId:yt,data:g},[R.port2])}).finally(()=>{ue&&x.removeMessageHandler(ue)})})()}}function Vn(){return window}function $s(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Jc(){return(Jc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rl="firebaseLocalStorageDb",Zr="firebaseLocalStorage",Ua="fbase_key";class Vr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ia(v,p){return v.transaction([Zr],p?"readwrite":"readonly").objectStore(Zr)}function zs(){const v=indexedDB.open(Rl,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Zr,{keyPath:Ua})}catch(x){g(x)}}),v.addEventListener("success",(0,c.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Zr)?p(b):(b.close(),yield function Ha(){const v=indexedDB.deleteDatabase(Rl);return new Vr(v).toPromise()}(),p(yield zs()))}))})}function kl(v,p,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v,p,g){const b=ia(v,!0).put({[Ua]:p,value:g});return new Vr(b).toPromise()})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(v,p){const g=ia(v,!1).get(p),b=yield new Vr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function kd(v,p){const g=ia(v,!0).delete(p);return new Vr(g).toPromise()}const Zi=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield zs()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(x++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return $s()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Od._getInstance(function eu(){return $s()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(x,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(x,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,x;if(g.activeServiceWorker=yield function Ba(){return Jc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ps(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function xf(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield zs();return yield kl(g,Co,"1"),yield kd(g,Co),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(R=>kl(R,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const x=yield b._withRetries(R=>function ra(v,p){return qs.apply(this,arguments)}(R,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(x=>kd(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(G=>{const ue=ia(G,!1).getAll();return new Vr(ue).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:G,value:ue}of b)R.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(ue)&&(g.notifyListeners(G,ue),x.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!R.has(G)&&(g.notifyListeners(G,null),x.push(G));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Pl(v,p){return En(v,"POST","/v2/accounts/mfaSignIn:start",vt(v,p))}function sa(){return(sa=(0,c.Z)(function*(v){return(yield En(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ws(v){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=x=>{const R=be("internal-error");R.customData=x,g(R)},b.type="text/javascript",b.charset="UTF-8",function ja(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function iu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class Nd{constructor(p){this.auth=p,this.counter=Zs,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Km(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Zs;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Zs))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(p||Zs))||void 0===b||b.execute(),""})()}}class Km{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;H(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ll(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=iu("rcb"),Mf=new Ht(3e4,6e4);class Vl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Vn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return H(function $a(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Vn().grecaptcha):new Promise((b,x)=>{const R=Vn().setTimeout(()=>{x(be(p,"network-request-failed"))},Mf.get());Vn()[oa]=()=>{Vn().clearTimeout(R),delete Vn()[oa];const ue=Vn().grecaptcha;if(!ue)return void x(be(p,"internal-error"));const Be=ue.render;ue.render=(Qe,yt)=>{const at=Be(Qe,yt);return this.counter++,at},this.hostLanguage=g,b(ue)},Ws(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:oa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),x(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Vn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vy{load(p){return(0,c.Z)(function*(){return new Nd(p)})()}clearedOneInstance(){}}const Of="recaptcha",su={theme:"light",type:"image"};class Io{constructor(p,g=Object.assign({},su),b){this.parameters=g,this.type=Of,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;H(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vy:new Vl,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const G=ue=>{!ue||(p.tokenChangeListeners.delete(G),R(ue))};p.tokenChangeListeners.add(G),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Vn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){H(ht()&&!$s(),p.auth,"internal-error"),yield function Pd(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Br(v){return sa.apply(this,arguments)}(p.auth);H(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bl{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=us._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Kr(){return(Kr=(0,c.Z)(function*(v,p,g){const b=Tn(v),x=yield Ld(b,p,(0,k.m9)(g));return new Bl(x,R=>xn(b,R))})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v);yield Bs(!1,b,"phone");const x=yield Ld(b.auth,p,(0,k.m9)(g));return new Bl(x,R=>Oi(b,R))})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v),x=yield Ld(b.auth,p,(0,k.m9)(g));return new Bl(x,R=>El(b,R))})).apply(this,arguments)}function Ld(v,p,g){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(v,p,g){var b;const x=yield g.verify();try{let R;if(H("string"==typeof x,v,"argument-error"),H(g.type===Of,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const G=R.session;if("phoneNumber"in R)return H("enroll"===G.type,v,"internal-error"),(yield Ad(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{H("signin"===G.type,v,"internal-error");const ue=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return H(ue,v,"missing-multi-factor-info"),(yield Pl(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield ml(v,{phoneNumber:R.phoneNumber,recaptchaToken:x});return G}}finally{g._reset()}})).apply(this,arguments)}function Rf(){return(Rf=(0,c.Z)(function*(v,p){yield yl((0,k.m9)(v),p)})).apply(this,arguments)}let au=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Tn(g)}verifyPhoneNumber(g,b){return Ld(this.auth,g,(0,k.m9)(b))}static credential(g,b){return us._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?us._fromTokenResponse(b,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function aa(v,p){return p?se(p):(H(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class kf extends Fn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ln(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ln(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function by(v){return ka(v.auth,new kf(v),v.bypassAuthState)}function Nf(v){const{auth:p,user:g}=v;return H(g,p,"internal-error"),bl(g,new kf(v),v.bypassAuthState)}function Pf(v){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(v){const{auth:p,user:g}=v;return H(g,p,"internal-error"),yl(g,new kf(v),v.bypassAuthState)})).apply(this,arguments)}class Bd{constructor(p,g,b,x,R=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:R,tenantId:G,error:ue,type:Be}=p;if(ue)return void g.reject(ue);const Qe={auth:g.auth,requestUri:b,sessionId:x,tenantId:G||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Qe))}catch(yt){g.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return by;case"linkViaPopup":case"linkViaRedirect":return Pf;case"reauthViaPopup":case"reauthViaRedirect":return Nf;default:Te(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lu=new Ht(2e3,1e4);function Qs(){return(Qs=(0,c.Z)(function*(v,p,g){const b=Tn(v);He(v,p,ds);const x=aa(b,g);return new _t(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v);He(b.auth,p,ds);const x=aa(b.auth,g);return new _t(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v);He(b.auth,p,ds);const x=aa(b.auth,g);return new _t(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let _t=(()=>{class v extends Bd{constructor(g,b,x,R,G){super(g,b,R,G),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return H(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const b=Wi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,lu.get())};g()}}return v.currentPopupAction=null,v})();const gs=new Map;class Xs extends Bd{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=gs.get(g.auth._key());if(!b){try{const R=(yield function _i(v,p){return _s.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(R)}catch(x){b=()=>Promise.reject(x)}gs.set(g.auth._key(),b)}return g.bypassAuthState||gs.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function _s(){return(_s=(0,c.Z)(function*(v,p){const g=eo(p),b=Ri(v);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function uu(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(v,p){return Ri(v)._set(eo(p),"true")})).apply(this,arguments)}function Ul(v,p){gs.set(v._key(),p)}function Ri(v){return se(v._redirectPersistence)}function eo(v){return Z("pendingRedirect",v.config.apiKey,v.name)}function D(){return(D=(0,c.Z)(function*(v,p,g){const b=Tn(v);He(v,p,ds);const x=aa(b,g);return yield uu(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v);He(b.auth,p,ds);const x=aa(b.auth,g);yield uu(x,b.auth);const R=yield ot(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(v,p,g){const b=(0,k.m9)(v);He(b.auth,p,ds);const x=aa(b.auth,g);yield Bs(!1,b,p.providerId),yield uu(x,b.auth);const R=yield ot(b);return x._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(v,p){return yield Tn(v)._initializationPromise,xt(v,p,!1)})).apply(this,arguments)}function xt(v,p){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(v,p,g=!1){const b=Tn(v),x=aa(b,p),G=yield new Xs(b,x,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,p)),G})).apply(this,arguments)}function ot(v){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(v){const p=Wi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ki{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Hr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oi(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!oi(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(p))}saveEventToCache(p){this.cachedEventUids.add(Ki(p)),this.lastProcessedEventTime=Date.now()}}function Ki(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function oi({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Nn(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v,p={}){return En(v,"GET","/v1/projects",p)})).apply(this,arguments)}const dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,on=/^https?/;function to(){return(to=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Nn(v);for(const g of p)try{if(Bn(g))return}catch{}Te(v,"unauthorized-domain")})).apply(this,arguments)}function Bn(v){const p=Ne(),{protocol:g,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===b}if(!on.test(g))return!1;if(dr.test(v))return b===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Qi=new Ht(3e4,6e4);function Ud(){const v=Vn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Hd=null;function To(v){return Hd=Hd||function Ym(v){return new Promise((p,g)=>{var b,x,R;function G(){Ud(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ud(),g(be(v,"network-request-failed"))},timeout:Qi.get()})}if(null!==(x=null===(b=Vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Vn().gapi)||void 0===R||!R.load){const ue=iu("iframefcb");return Vn()[ue]=()=>{gapi.load?G():g(be(v,"network-request-failed"))},Ws(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Be=>g(Be))}G()}}).catch(p=>{throw Hd=null,p})}(v),Hd}const vs=new Ht(5e3,15e3),Qm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $d(v){const p=v.config;H(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?mt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:ae.SDK_VERSION},x=jd.get(v.config.apiHost);x&&(b.eid=x);const R=v._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function zd(){return zd=(0,c.Z)(function*(v){const p=yield To(v),g=Vn().gapi;return H(g,v,"internal-error"),p.open({where:document.body,url:$d(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qm,dontclear:!0},b=>new Promise(function(){var x=(0,c.Z)(function*(R,G){yield b.restyle({setHideOnLeave:!1});const ue=be(v,"network-request-failed"),Be=Vn().setTimeout(()=>{G(ue)},vs.get());function Qe(){Vn().clearTimeout(Be),R(b)}b.ping(Qe).then(Qe,()=>{G(ue)})});return function(R,G){return x.apply(this,arguments)}}()))}),zd.apply(this,arguments)}const Dy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qd(v,p,g,b,x,R){H(v.config.authDomain,v,"auth-domain-config-required"),H(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:ae.SDK_VERSION,eventId:x};if(p instanceof ds){p.setDefaultLanguage(v.languageCode),G.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(G.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,Qe]of Object.entries(R||{}))G[Be]=Qe}if(p instanceof Vs){const Be=p.getScopes().filter(Qe=>""!==Qe);Be.length>0&&(G.scopes=Be.join(","))}v.tenantId&&(G.tid=v.tenantId);const ue=G;for(const Be of Object.keys(ue))void 0===ue[Be]&&delete ue[Be];return`${function Lf({config:v}){return v.emulator?mt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,k.xO)(ue).slice(1)}`}const Wd="webStorageSupport",no=class vi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=xt,this._overrideRedirectResult=Ul}_openPopup(p,g,b,x){var R=this;return(0,c.Z)(function*(){var G;W(null===(G=R.eventManagers[p._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ue=qd(p,g,b,Ne(),x);return function yw(v,p,g,b=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let ue="";const Be=Object.assign(Object.assign({},Dy),{width:b.toString(),height:x.toString(),top:R,left:G}),Qe=(0,k.z$)().toLowerCase();g&&(ue=Yt(Qe)?"_blank":g),nt(Qe)&&(p=p||"http://localhost",Be.scrollbars="yes");const yt=Object.entries(Be).reduce((ai,[jr,bu])=>`${ai}${jr}=${bu},`,"");if(function Si(v=(0,k.z$)()){var p;return Kn(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Qe)&&"_self"!==ue)return function vw(v,p){const g=document.createElement("a");g.href=v,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ue),new Hl(null);const at=window.open(p||"",ue,yt);H(at,v,"popup-blocked");try{at.focus()}catch{}return new Hl(at)}(p,ue,Wi())})()}_openRedirect(p,g,b,x){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),function Ol(v){Vn().location.href=v}(qd(p,g,b,Ne(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:R}=this.eventManagers[g];return x?Promise.resolve(x):(W(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const b=yield function Cy(v){return zd.apply(this,arguments)}(p),x=new ki(p);return b.register("authEvent",R=>(H(R?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Wd,{type:Wd},x=>{var R;const G=null===(R=x?.[0])||void 0===R?void 0:R[Wd];void 0!==G&&g(!!G),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Yi(v){return to.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return hf()||jt()||Kn()}};class hu{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}class Yr extends hu{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Yr(p)}_finalizeEnroll(p,g,b){return function Qc(v,p){return En(v,"POST","/v2/accounts/mfaEnrollment:finalize",vt(v,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function nu(v,p){return En(v,"POST","/v2/accounts/mfaSignIn:finalize",vt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xm=(()=>{class v{constructor(){}static assertion(g){return Yr._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Vf="@firebase/auth",Jm="0.20.11";class Bf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var x;p((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gn(){return window}function jl(){return(jl=(0,c.Z)(function*(v,p,g){var b;const{BuildInfo:x}=Gn();W(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Ty(p.sessionId),G={};return Kn()?G.ibi=x.packageName:wt()?G.apn=x.packageName:Te(v,"operation-not-supported-in-this-environment"),x.displayName&&(G.appDisplayName=x.displayName),G.sessionId=R,qd(v,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,G)})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(v){const{BuildInfo:p}=Gn(),g={};Kn()?g.iosBundleId=p.packageName:wt()?g.androidPackageName=p.packageName:Te(v,"operation-not-supported-in-this-environment"),yield Nn(v,g)})).apply(this,arguments)}function Yd(){return(Yd=(0,c.Z)(function*(v,p,g){const{cordova:b}=Gn();let x=()=>{};try{yield new Promise((R,G)=>{let ue=null;function Be(){var at;R();const ai=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof ai&&ai(),"function"==typeof g?.close&&g.close()}function Qe(){ue||(ue=window.setTimeout(()=>{G(be(v,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&Qe()}p.addPassiveListener(Be),document.addEventListener("resume",Qe,!1),wt()&&document.addEventListener("visibilitychange",yt,!1),x=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",yt,!1),ue&&window.clearTimeout(ue)}})}finally{x()}})).apply(this,arguments)}function Ty(v){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(v){const p=Qd(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qd(v){if(W(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let b=0;b<v.length;b++)g[b]=v.charCodeAt(b);return g}(0,k.Pz)("authIdTokenMaxAge"),function eg(v){(0,ae._registerComponent)(new te.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:R,authDomain:G}=b.options;return((ue,Be)=>{H(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),H(!G?.includes(":"),"argument-error",{appName:ue.name});const Qe={apiKey:R,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pl(v)},yt=new gd(ue,Be,Qe);return function Ve(v,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(se);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,p?.popupRedirectResolver)}(yt,g),yt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new te.wA("auth-internal",p=>{const g=Tn(p.getProvider("auth").getImmediate());return new Bf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Vf,Jm,function Uf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ae.registerVersion)(Vf,Jm,"esm2017")}("Browser");class ig extends ki{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Xd(v){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(v){const p=yield Wa()._get($f(v));return p&&(yield Wa()._remove($f(v))),p})).apply(this,arguments)}function xy(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);v.push(p.charAt(b))}return v.join("")}function Wa(){return se(Wr)}function $f(v){return Z("authEvent",v.config.apiKey,v.name)}function Mo(v){if(!v?.includes("?"))return{};const[p,...g]=v.split("?");return(0,k.zd)(g.join("?"))}const ca=class ql{constructor(){this._redirectPersistence=Lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xt,this._overrideRedirectResult=Ul}_initialize(p){var g=this;return(0,c.Z)(function*(){const b=p._key();let x=g.eventManagers.get(b);return x||(x=new ig(p),g.eventManagers.set(b,x),g.attachCallbackListeners(p,x)),x})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,x){var R=this;return(0,c.Z)(function*(){!function pu(v){var p,g,b,x,R,G,ue,Be,Qe,yt;const at=Gn();H("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(g=at?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(R=null===(x=null===(b=at?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Be=null===(ue=null===(G=at?.cordova)||void 0===G?void 0:G.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(yt=null===(Qe=at?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===yt?void 0:yt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const G=yield R._initialize(p);yield G.initialized(),G.resetRedirect(),function wy(){gs.clear()}(),yield R._originValidation(p);const ue=function Sy(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:xy(),postBody:null,tenantId:v.tenantId,error:be(v,"no-auth-event")}}(p,b,x);yield function jf(v,p){return Wa()._set($f(v),p)}(p,ue);const Be=yield function ng(v,p,g){return jl.apply(this,arguments)}(p,ue,g),Qe=yield function fu(v){const{cordova:p}=Gn();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(v):x=p.InAppBrowser.open(v,function Wo(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(x)})})}(Be);return function $l(v,p,g){return Yd.apply(this,arguments)}(p,G,Qe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bi(v){return qa.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:x,BuildInfo:R}=Gn(),G=setTimeout((0,c.Z)(function*(){yield Xd(p),g.onEvent(zf())}),500),ue=function(){var yt=(0,c.Z)(function*(at){clearTimeout(G);const ai=yield Xd(p);let jr=null;ai&&at?.url&&(jr=function rg(v,p){var g,b;const x=function mu(v){const p=Mo(v),g=p.link?decodeURIComponent(p.link):void 0,b=Mo(g).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Mo(x).link||x||b||g||v}(p);if(x.includes("/__/auth/callback")){const R=Mo(x),G=R.firebaseError?function Ay(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(b=null===(g=G?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Be=ue?be(ue):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(ai,at.url)),g.onEvent(jr||zf())});return function(ai){return yt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ue);const Be=x,Qe=`${R.packageName.toLowerCase()}://`;Gn().handleOpenURL=function(){var yt=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith(Qe)&&ue({url:at}),"function"==typeof Be)try{Be(at)}catch(ai){console.error(ai)}});return function(at){return yt.apply(this,arguments)}}()}};function zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Oo(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function qf(v=(0,k.z$)()){return!("file:"!==Oo()&&"ionic:"!==Oo()&&"capacitor:"!==Oo()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zf(){try{const v=self.localStorage,p=Wi();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Wf(v=(0,k.z$)()){return function lg(){return(0,k.w1)()&&11===document?.documentMode}()||function Za(v=(0,k.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,k.hl)()}catch{return Zl()&&(0,k.hl)()}return!1}function Zl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kf(){return(function Wl(){return"http:"===Oo()||"https:"===Oo()}()||(0,k.ru)()||qf())&&!function ag(){return(0,k.b$)()||(0,k.UG)()}()&&Zf()&&!Zl()}function Jd(){return qf()&&typeof document<"u"}function eh(){return(eh=(0,c.Z)(function*(){return!!Jd()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const wr={LOCAL:"local",NONE:"none",SESSION:"session"},Ka=H,Yf="persistence";function da(v){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v){yield v._initializationPromise;const p=th(),g=Z(Yf,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}function th(){var v;try{return(null===(v=function Ro(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const cg=H;class io{constructor(){this.browserResolver=se(no),this.cordovaResolver=se(ca),this.underlyingResolver=null,this._redirectPersistence=Lr,this._completeRedirectFn=xt,this._overrideRedirectResult=Ul}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,x){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,b,x)})()}_openRedirect(p,g,b,x){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,b,x)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Jd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Kl(){return eh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Qf(v){return v.unwrap()}function ih(v){return rh(v)}function rh(v){const{_tokenResponse:p}=v instanceof k.ZR?v.customData:v;if(!p)return null;if(!(v instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return au.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=mf;break;case"facebook.com":b=bd;break;case"github.com":b=Lc;break;case"twitter.com":b=Ed;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:G,pendingToken:ue,nonce:Be}=p;return R||G||x||ue?ue?g.startsWith("saml.")?gl._create(g,ue):Gr._fromParams({providerId:g,signInMethod:g,pendingToken:ue,idToken:x,accessToken:R}):new Ma(g).credential({idToken:x,accessToken:R,rawNonce:Be}):null}return v instanceof k.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Xi(v,p){return p.catch(g=>{throw g instanceof k.ZR&&function ug(v,p){var g,b;const x=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new Oy(v,function Xn(v,p){var g;const b=(0,k.m9)(v),x=p;return H(p.customData.operationType,b,"argument-error"),H(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Al._fromError(b,x)}(v,p));else if(x){const R=rh(p),G=p;R&&(G.credential=R,G.tenantId=x.tenantId||void 0,G.email=x.email||void 0,G.phoneNumber=x.phoneNumber||void 0)}}(v,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:ih(g),additionalUserInfo:Wm(g),user:bs.getOrCreate(x)}})}function yu(v,p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Xi(v,g.confirm(b))}})).apply(this,arguments)}class Oy{constructor(p,g){this.resolver=g,this.auth=function nh(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Xi(Qf(this.auth),this.resolver.resolveSignIn(p))}}class bs{constructor(p){this._delegate=p,this.multiFactor=function Md(v){const p=(0,k.m9)(v);return rn.has(p)||rn.set(p,fs._fromUser(p)),rn.get(p)}(p)}static getOrCreate(p){return bs.USER_MAP.has(p)||bs.USER_MAP.set(p,new bs(p)),bs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return Xi(g.auth,Oi(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,c.Z)(function*(){return yu(b.auth,function za(v,p,g){return ou.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return Xi(g.auth,function Ga(v,p,g){return qe.apply(this,arguments)}(g._delegate,p,io))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield da(Tn(g.auth)),function Y(v,p,g){return function re(v,p,g){return Se.apply(this,arguments)}(v,p,g)}(g._delegate,p,io)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return Xi(g.auth,El(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return yu(this.auth,function Fd(v,p,g){return Ks.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Xi(this.auth,function cu(v,p,g){return vn.apply(this,arguments)}(this._delegate,p,io))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield da(Tn(g.auth)),function T(v,p,g){return function M(v,p,g){return L.apply(this,arguments)}(v,p,g)}(g._delegate,p,io)})()}sendEmailVerification(p){return function Tl(v,p){return $n.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function Dd(v,p){return vr.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function vf(v,p){return Zc((0,k.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function Wc(v,p){return Zc((0,k.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yn(v,p){return Rf.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ea(v,p){return qc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Jo(v,p,g){return br.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bs.USER_MAP=new WeakMap;const vu=H;let Xf=(()=>{class v{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;vu(x,"invalid-api-key",{appName:g.name}),vu(x,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?io:void 0;this._delegate=b.initialize({options:{persistence:oh(x,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Nc(v,p,g){const b=Tn(v);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!g?.disableWarnings,R=Sa(p),{host:G,port:ue}=function xa(v){const p=Sa(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const R=x[1];return{host:R,port:Jt(b.substr(R.length+1))}}{const[R,G]=b.split(":");return{host:R,port:Jt(G)}}}(p);b.config.emulator={url:`${R}//${G}${null===ue?"":`:${ue}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Yn(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,b)}applyActionCode(g){return function $c(v,p){return wo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Il(this._delegate,g)}confirmPasswordReset(g,b){return function Hs(v,p,g){return qi.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var x=this;return(0,c.Z)(function*(){return Xi(x._delegate,function Je(v,p,g){return Gc.apply(this,arguments)}(x._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Qt(v,p){return Va.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function _f(v,p){return"EMAIL_SIGNIN"===Mi.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){vu(Kf(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function $e(v,p){return st.apply(this,arguments)}(g._delegate,io);return b?Xi(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function og(v,p){Tn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,x){const{next:R,error:G,complete:ue}=sh(g,b,x);return this._delegate.onAuthStateChanged(R,G,ue)}onIdTokenChanged(g,b,x){const{next:R,error:G,complete:ue}=sh(g,b,x);return this._delegate.onIdTokenChanged(R,G,ue)}sendSignInLinkToEmail(g,b){return function Gm(v,p,g){return Td.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function jc(v,p,g){return Xo.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let x;switch(function ua(v,p){Ka(Object.values(wr).includes(p),v,"invalid-persistence-type"),(0,k.b$)()?Ka(p!==wr.SESSION,v,"unsupported-persistence-type"):(0,k.UG)()?Ka(p===wr.NONE,v,"unsupported-persistence-type"):Zl()?Ka(p===wr.NONE||p===wr.LOCAL&&(0,k.hl)(),v,"unsupported-persistence-type"):Ka(p===wr.NONE||Zf(),v,"unsupported-persistence-type")}(b._delegate,g),g){case wr.SESSION:x=Lr;break;case wr.LOCAL:x=(yield se(Zi)._isAvailable())?Zi:Wr;break;case wr.NONE:x=B;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xi(this._delegate,function Bc(v){return Uc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xi(this._delegate,xn(this._delegate,g))}signInWithCustomToken(g){return Xi(this._delegate,function Rn(v,p){return Na.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Xi(this._delegate,function yy(v,p,g){return xn((0,k.m9)(v),vd.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Xi(this._delegate,function yf(v,p,g){return La.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return yu(this._delegate,function ms(v,p,g){return Kr.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return vu(Kf(),b._delegate,"operation-not-supported-in-this-environment"),Xi(b._delegate,function kn(v,p,g){return Qs.apply(this,arguments)}(b._delegate,g,io))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return vu(Kf(),b._delegate,"operation-not-supported-in-this-environment"),yield da(b._delegate),function it(v,p,g){return function Ey(v,p,g){return D.apply(this,arguments)}(v,p,g)}(b._delegate,g,io)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function zc(v,p){return Fa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=wr,v})();function sh(v,p,g){let b=v;"function"!=typeof v&&({next:b,error:p,complete:g}=v);const x=b;return{next:G=>x(G&&bs.getOrCreate(G)),error:p,complete:g}}function oh(v,p){const g=function _u(v,p){const g=th();if(!g)return[];const b=Z(Yf,v,p);switch(g.getItem(b)){case wr.NONE:return[B];case wr.LOCAL:return[Zi,Lr];case wr.SESSION:return[Lr];default:return[]}}(v,p);if(typeof self<"u"&&!g.includes(Zi)&&g.push(Zi),typeof window<"u")for(const b of[Wr,Lr])g.includes(b)||g.push(b);return g.includes(B)||g.push(B),g}class Qr{constructor(){this.providerId="phone",this._delegate=new au(Qf(ee.Z.auth()))}static credential(p,g){return au.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Qr.PHONE_SIGN_IN_METHOD=au.PHONE_SIGN_IN_METHOD,Qr.PROVIDER_ID=au.PROVIDER_ID;const No=H;class ah{constructor(p,g,b=ee.Z.app()){var x;No(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Io(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ry(v){v.INTERNAL.registerComponent(new te.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Xf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vd,FacebookAuthProvider:bd,GithubAuthProvider:Lc,GoogleAuthProvider:mf,OAuthProvider:Ma,SAMLAuthProvider:mi,PhoneAuthProvider:Qr,PhoneMultiFactorGenerator:Xm,RecaptchaVerifier:ah,TwitterAuthProvider:Ed,Auth:Xf,AuthCredential:Fn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.24")}(ee.Z)},9751:(ct,we,N)=>{N.d(we,{y:()=>fe});var c=N(930),ee=N(727),k=N(8822),ae=N(9635),le=N(2416),he=N(576),te=N(2806);let fe=(()=>{class K{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ke=new K;return Ke.source=this,Ke.operator=Ie,Ke}subscribe(Ie,Ke,tt){const pe=function $(K){return K&&K instanceof c.Lv||function j(K){return K&&(0,he.m)(K.next)&&(0,he.m)(K.error)&&(0,he.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(Ie)?Ie:new c.Hp(Ie,Ke,tt);return(0,te.x)(()=>{const{operator:xe,source:Ce}=this;pe.add(xe?xe.call(pe,Ce):Ce?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ke){Ie.error(Ke)}}forEach(Ie,Ke){return new(Ke=me(Ke))((tt,pe)=>{const xe=new c.Hp({next:Ce=>{try{Ie(Ce)}catch(Le){pe(Le),xe.unsubscribe()}},error:pe,complete:tt});this.subscribe(xe)})}_subscribe(Ie){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ie)}[k.L](){return this}pipe(...Ie){return(0,ae.U)(Ie)(this)}toPromise(Ie){return new(Ie=me(Ie))((Ke,tt)=>{let pe;this.subscribe(xe=>pe=xe,xe=>tt(xe),()=>Ke(pe))})}}return K.create=Ue=>new K(Ue),K})();function me(K){var Ue;return null!==(Ue=K??le.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ct,we,N)=>{N.d(we,{x:()=>te});var c=N(9751),ee=N(727);const ae=(0,N(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=N(8737),he=N(2806);let te=(()=>{class me extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new fe(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:Ie}=this;return K||Ue?ee.Lc:(this.currentObservers=null,Ie.push($),new ee.w0(()=>{this.currentObservers=null,(0,le.P)(Ie,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:Ie}=this;K?$.error(Ue):Ie&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return me.create=(j,$)=>new fe(j,$),me})();class fe extends te{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,j)}error(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==K?K:ee.Lc}}},930:(ct,we,N)=>{N.d(we,{Hp:()=>tt,Lv:()=>K});var c=N(576),ee=N(727),k=N(2416),ae=N(7849),le=N(5032);const he=me("C",void 0,void 0);function me(Te,be,Me){return{kind:Te,value:be,error:Me}}var j=N(3410),$=N(2806);class K extends ee.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,ee.Nn)(be)&&be.add(this)):this.destination=Le}static create(be,Me,He){return new tt(be,Me,He)}next(be){this.isStopped?Ce(function fe(Te){return me("N",Te,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Ce(function te(Te){return me("E",void 0,Te)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Ce(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ie(Te,be){return Ue.call(Te,be)}class Ke{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Me}=this;if(Me.next)try{Me.next(be)}catch(He){pe(He)}}error(be){const{partialObserver:Me}=this;if(Me.error)try{Me.error(be)}catch(He){pe(He)}else pe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Me){pe(Me)}}}class tt extends K{constructor(be,Me,He){let ke;if(super(),(0,c.m)(be)||!be)ke={next:be??void 0,error:Me??void 0,complete:He??void 0};else{let H;this&&k.v.useDeprecatedNextContext?(H=Object.create(be),H.unsubscribe=()=>this.unsubscribe(),ke={next:be.next&&Ie(be.next,H),error:be.error&&Ie(be.error,H),complete:be.complete&&Ie(be.complete,H)}):ke=be}this.destination=new Ke(ke)}}function pe(Te){k.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Te):(0,ae.h)(Te)}function Ce(Te,be){const{onStoppedNotification:Me}=k.v;Me&&j.z.setTimeout(()=>Me(Te,be))}const Le={closed:!0,next:le.Z,error:function xe(Te){throw Te},complete:le.Z}},727:(ct,we,N)=>{N.d(we,{Lc:()=>he,w0:()=>le,Nn:()=>te});var c=N(576);const k=(0,N(3888).d)(me=>function($){me(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=N(8737);class le{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ie of $)Ie.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,c.m)(K))try{K()}catch(Ie){j=Ie instanceof k?Ie.errors:[Ie]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ie of Ue)try{fe(Ie)}catch(Ke){j=j??[],Ke instanceof k?j=[...j,...Ke.errors]:j.push(Ke)}}if(j)throw new k(j)}}add(j){var $;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof le){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ae.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ae.P)($,j),j instanceof le&&j._removeParent(this)}}le.EMPTY=(()=>{const me=new le;return me.closed=!0,me})();const he=le.EMPTY;function te(me){return me instanceof le||me&&"closed"in me&&(0,c.m)(me.remove)&&(0,c.m)(me.add)&&(0,c.m)(me.unsubscribe)}function fe(me){(0,c.m)(me)?me():me.unsubscribe()}},2416:(ct,we,N)=>{N.d(we,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,we,N)=>{N.d(we,{E:()=>ee});const ee=new(N(9751).y)(le=>le.complete())},8996:(ct,we,N)=>{N.d(we,{D:()=>be});var c=N(8421),ee=N(5363),k=N(9468),he=N(9751),fe=N(2202),me=N(576),j=N(9672);function K(Me,He){if(!Me)throw new Error("Iterable cannot be null");return new he.y(ke=>{(0,j.f)(ke,He,()=>{const H=Me[Symbol.asyncIterator]();(0,j.f)(ke,He,()=>{H.next().then(ve=>{ve.done?ke.complete():ke.next(ve.value)})},0,!0)})})}var Ue=N(3670),Ie=N(8239),Ke=N(1144),tt=N(6495),pe=N(2206),xe=N(4532),Ce=N(3260);function be(Me,He){return He?function Te(Me,He){if(null!=Me){if((0,Ue.c)(Me))return function ae(Me,He){return(0,c.Xf)(Me).pipe((0,k.R)(He),(0,ee.Q)(He))}(Me,He);if((0,Ke.z)(Me))return function te(Me,He){return new he.y(ke=>{let H=0;return He.schedule(function(){H===Me.length?ke.complete():(ke.next(Me[H++]),ke.closed||this.schedule())})})}(Me,He);if((0,Ie.t)(Me))return function le(Me,He){return(0,c.Xf)(Me).pipe((0,k.R)(He),(0,ee.Q)(He))}(Me,He);if((0,pe.D)(Me))return K(Me,He);if((0,tt.T)(Me))return function $(Me,He){return new he.y(ke=>{let H;return(0,j.f)(ke,He,()=>{H=Me[fe.h](),(0,j.f)(ke,He,()=>{let ve,W;try{({value:ve,done:W}=H.next())}catch(X){return void ke.error(X)}W?ke.complete():ke.next(ve)},0,!0)}),()=>(0,me.m)(H?.return)&&H.return()})}(Me,He);if((0,Ce.L)(Me))return function Le(Me,He){return K((0,Ce.Q)(Me),He)}(Me,He)}throw(0,xe.z)(Me)}(Me,He):(0,c.Xf)(Me)}},8421:(ct,we,N)=>{N.d(we,{Xf:()=>Ue});var c=N(655),ee=N(1144),k=N(8239),ae=N(9751),le=N(3670),he=N(2206),te=N(4532),fe=N(6495),me=N(3260),j=N(576),$=N(7849),K=N(8822);function Ue(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,le.c)(Te))return function Ie(Te){return new ae.y(be=>{const Me=Te[K.L]();if((0,j.m)(Me.subscribe))return Me.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ee.z)(Te))return function Ke(Te){return new ae.y(be=>{for(let Me=0;Me<Te.length&&!be.closed;Me++)be.next(Te[Me]);be.complete()})}(Te);if((0,k.t)(Te))return function tt(Te){return new ae.y(be=>{Te.then(Me=>{be.closed||(be.next(Me),be.complete())},Me=>be.error(Me)).then(null,$.h)})}(Te);if((0,he.D)(Te))return xe(Te);if((0,fe.T)(Te))return function pe(Te){return new ae.y(be=>{for(const Me of Te)if(be.next(Me),be.closed)return;be.complete()})}(Te);if((0,me.L)(Te))return function Ce(Te){return xe((0,me.Q)(Te))}(Te)}throw(0,te.z)(Te)}function xe(Te){return new ae.y(be=>{(function Le(Te,be){var Me,He,ke,H;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Me=(0,c.KL)(Te);!(He=yield Me.next()).done;)if(be.next(He.value),be.closed)return}catch(ve){ke={error:ve}}finally{try{He&&!He.done&&(H=Me.return)&&(yield H.call(Me))}finally{if(ke)throw ke.error}}be.complete()})})(Te,be).catch(Me=>be.error(Me))})}},6451:(ct,we,N)=>{N.d(we,{T:()=>he});var c=N(8189),ee=N(8421),k=N(515),ae=N(3269),le=N(8996);function he(...te){const fe=(0,ae.yG)(te),me=(0,ae._6)(te,1/0),j=te;return j.length?1===j.length?(0,ee.Xf)(j[0]):(0,c.J)(me)((0,le.D)(j,fe)):k.E}},5403:(ct,we,N)=>{N.d(we,{x:()=>ee});var c=N(930);function ee(ae,le,he,te,fe){return new k(ae,le,he,te,fe)}class k extends c.Lv{constructor(le,he,te,fe,me,j){super(le),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=he?function($){try{he($)}catch(K){le.error(K)}}:super._next,this._error=fe?function($){try{fe($)}catch(K){le.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch($){le.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ct,we,N)=>{N.d(we,{U:()=>k});var c=N(4482),ee=N(5403);function k(ae,le){return(0,c.e)((he,te)=>{let fe=0;he.subscribe((0,ee.x)(te,me=>{te.next(ae.call(le,me,fe++))}))})}},8189:(ct,we,N)=>{N.d(we,{J:()=>k});var c=N(5577),ee=N(4671);function k(ae=1/0){return(0,c.z)(ee.y,ae)}},5577:(ct,we,N)=>{N.d(we,{z:()=>fe});var c=N(4004),ee=N(8421),k=N(4482),ae=N(9672),le=N(5403),te=N(576);function fe(me,j,$=1/0){return(0,te.m)(j)?fe((K,Ue)=>(0,c.U)((Ie,Ke)=>j(K,Ie,Ue,Ke))((0,ee.Xf)(me(K,Ue))),$):("number"==typeof j&&($=j),(0,k.e)((K,Ue)=>function he(me,j,$,K,Ue,Ie,Ke,tt){const pe=[];let xe=0,Ce=0,Le=!1;const Te=()=>{Le&&!pe.length&&!xe&&j.complete()},be=He=>xe<K?Me(He):pe.push(He),Me=He=>{Ie&&j.next(He),xe++;let ke=!1;(0,ee.Xf)($(He,Ce++)).subscribe((0,le.x)(j,H=>{Ue?.(H),Ie?be(H):j.next(H)},()=>{ke=!0},void 0,()=>{if(ke)try{for(xe--;pe.length&&xe<K;){const H=pe.shift();Ke?(0,ae.f)(j,Ke,()=>Me(H)):Me(H)}Te()}catch(H){j.error(H)}}))};return me.subscribe((0,le.x)(j,be,()=>{Le=!0,Te()})),()=>{tt?.()}}(K,Ue,me,$)))}},5363:(ct,we,N)=>{N.d(we,{Q:()=>ae});var c=N(9672),ee=N(4482),k=N(5403);function ae(le,he=0){return(0,ee.e)((te,fe)=>{te.subscribe((0,k.x)(fe,me=>(0,c.f)(fe,le,()=>fe.next(me),he),()=>(0,c.f)(fe,le,()=>fe.complete(),he),me=>(0,c.f)(fe,le,()=>fe.error(me),he)))})}},3099:(ct,we,N)=>{N.d(we,{B:()=>le});var c=N(8421),ee=N(7579),k=N(930),ae=N(4482);function le(te={}){const{connector:fe=(()=>new ee.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=te;return K=>{let Ue,Ie,Ke,tt=0,pe=!1,xe=!1;const Ce=()=>{Ie?.unsubscribe(),Ie=void 0},Le=()=>{Ce(),Ue=Ke=void 0,pe=xe=!1},Te=()=>{const be=Ue;Le(),be?.unsubscribe()};return(0,ae.e)((be,Me)=>{tt++,!xe&&!pe&&Ce();const He=Ke=Ke??fe();Me.add(()=>{tt--,0===tt&&!xe&&!pe&&(Ie=he(Te,$))}),He.subscribe(Me),!Ue&&tt>0&&(Ue=new k.Hp({next:ke=>He.next(ke),error:ke=>{xe=!0,Ce(),Ie=he(Le,me,ke),He.error(ke)},complete:()=>{pe=!0,Ce(),Ie=he(Le,j),He.complete()}}),(0,c.Xf)(be).subscribe(Ue))})(K)}}function he(te,fe,...me){if(!0===fe)return void te();if(!1===fe)return;const j=new k.Hp({next:()=>{j.unsubscribe(),te()}});return fe(...me).subscribe(j)}},9468:(ct,we,N)=>{N.d(we,{R:()=>ee});var c=N(4482);function ee(k,ae=0){return(0,c.e)((le,he)=>{he.add(k.schedule(()=>le.subscribe(he),ae))})}},8505:(ct,we,N)=>{N.d(we,{b:()=>le});var c=N(576),ee=N(4482),k=N(5403),ae=N(4671);function le(he,te,fe){const me=(0,c.m)(he)||te||fe?{next:he,error:te,complete:fe}:he;return me?(0,ee.e)((j,$)=>{var K;null===(K=me.subscribe)||void 0===K||K.call(me);let Ue=!0;j.subscribe((0,k.x)($,Ie=>{var Ke;null===(Ke=me.next)||void 0===Ke||Ke.call(me,Ie),$.next(Ie)},()=>{var Ie;Ue=!1,null===(Ie=me.complete)||void 0===Ie||Ie.call(me),$.complete()},Ie=>{var Ke;Ue=!1,null===(Ke=me.error)||void 0===Ke||Ke.call(me,Ie),$.error(Ie)},()=>{var Ie,Ke;Ue&&(null===(Ie=me.unsubscribe)||void 0===Ie||Ie.call(me)),null===(Ke=me.finalize)||void 0===Ke||Ke.call(me)}))}):ae.y}},4408:(ct,we,N)=>{N.d(we,{o:()=>le});var c=N(727);class ee extends c.w0{constructor(te,fe){super()}schedule(te,fe=0){return this}}const k={setInterval(he,te,...fe){const{delegate:me}=k;return me?.setInterval?me.setInterval(he,te,...fe):setInterval(he,te,...fe)},clearInterval(he){const{delegate:te}=k;return(te?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=N(8737);class le extends ee{constructor(te,fe){super(te,fe),this.scheduler=te,this.work=fe,this.pending=!1}schedule(te,fe=0){var me;if(this.closed)return this;this.state=te;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,fe)),this.pending=!0,this.delay=fe,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId($,this.id,fe),this}requestAsyncId(te,fe,me=0){return k.setInterval(te.flush.bind(te,this),me)}recycleAsyncId(te,fe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return fe;null!=fe&&k.clearInterval(fe)}execute(te,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(te,fe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,fe){let j,me=!1;try{this.work(te)}catch($){me=!0,j=$||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:te,scheduler:fe}=this,{actions:me}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(me,this),null!=te&&(this.id=this.recycleAsyncId(fe,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,we,N)=>{N.d(we,{v:()=>k});var c=N(6063);class ee{constructor(le,he=ee.now){this.schedulerActionCtor=le,this.now=he}schedule(le,he=0,te){return new this.schedulerActionCtor(this,le).schedule(te,he)}}ee.now=c.l.now;class k extends ee{constructor(le,he=ee.now){super(le,he),this.actions=[],this._active=!1}flush(le){const{actions:he}=this;if(this._active)return void he.push(le);let te;this._active=!0;do{if(te=le.execute(le.state,le.delay))break}while(le=he.shift());if(this._active=!1,te){for(;le=he.shift();)le.unsubscribe();throw te}}}},4986:(ct,we,N)=>{N.d(we,{P:()=>ae,z:()=>k});var c=N(4408);const k=new(N(7565).v)(c.o),ae=k},6063:(ct,we,N)=>{N.d(we,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ct,we,N)=>{N.d(we,{z:()=>c});const c={setTimeout(ee,k,...ae){const{delegate:le}=c;return le?.setTimeout?le.setTimeout(ee,k,...ae):setTimeout(ee,k,...ae)},clearTimeout(ee){const{delegate:k}=c;return(k?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ct,we,N)=>{N.d(we,{h:()=>ee});const ee=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,we,N)=>{N.d(we,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,we,N)=>{N.d(we,{_6:()=>he,jO:()=>ae,yG:()=>le});var c=N(576),ee=N(3532);function k(te){return te[te.length-1]}function ae(te){return(0,c.m)(k(te))?te.pop():void 0}function le(te){return(0,ee.K)(k(te))?te.pop():void 0}function he(te,fe){return"number"==typeof k(te)?te.pop():fe}},8737:(ct,we,N)=>{function c(ee,k){if(ee){const ae=ee.indexOf(k);0<=ae&&ee.splice(ae,1)}}N.d(we,{P:()=>c})},3888:(ct,we,N)=>{function c(ee){const ae=ee(le=>{Error.call(le),le.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(we,{d:()=>c})},2806:(ct,we,N)=>{N.d(we,{O:()=>ae,x:()=>k});var c=N(2416);let ee=null;function k(le){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!ee;if(he&&(ee={errorThrown:!1,error:null}),le(),he){const{errorThrown:te,error:fe}=ee;if(ee=null,te)throw fe}}else le()}function ae(le){c.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=le)}},9672:(ct,we,N)=>{function c(ee,k,ae,le=0,he=!1){const te=k.schedule(function(){ae(),he?ee.add(this.schedule(null,le)):this.unsubscribe()},le);if(ee.add(te),!he)return te}N.d(we,{f:()=>c})},4671:(ct,we,N)=>{function c(ee){return ee}N.d(we,{y:()=>c})},1144:(ct,we,N)=>{N.d(we,{z:()=>c});const c=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ct,we,N)=>{N.d(we,{D:()=>ee});var c=N(576);function ee(k){return Symbol.asyncIterator&&(0,c.m)(k?.[Symbol.asyncIterator])}},576:(ct,we,N)=>{function c(ee){return"function"==typeof ee}N.d(we,{m:()=>c})},3670:(ct,we,N)=>{N.d(we,{c:()=>k});var c=N(8822),ee=N(576);function k(ae){return(0,ee.m)(ae[c.L])}},6495:(ct,we,N)=>{N.d(we,{T:()=>k});var c=N(2202),ee=N(576);function k(ae){return(0,ee.m)(ae?.[c.h])}},8239:(ct,we,N)=>{N.d(we,{t:()=>ee});var c=N(576);function ee(k){return(0,c.m)(k?.then)}},3260:(ct,we,N)=>{N.d(we,{L:()=>ae,Q:()=>k});var c=N(655),ee=N(576);function k(le){return(0,c.FC)(this,arguments,function*(){const te=le.getReader();try{for(;;){const{value:fe,done:me}=yield(0,c.qq)(te.read());if(me)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{te.releaseLock()}})}function ae(le){return(0,ee.m)(le?.getReader)}},3532:(ct,we,N)=>{N.d(we,{K:()=>ee});var c=N(576);function ee(k){return k&&(0,c.m)(k.schedule)}},4482:(ct,we,N)=>{N.d(we,{A:()=>ee,e:()=>k});var c=N(576);function ee(ae){return(0,c.m)(ae?.lift)}function k(ae){return le=>{if(ee(le))return le.lift(function(he){try{return ae(he,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,we,N)=>{function c(){}N.d(we,{Z:()=>c})},9635:(ct,we,N)=>{N.d(we,{U:()=>k,z:()=>ee});var c=N(4671);function ee(...ae){return k(ae)}function k(ae){return 0===ae.length?c.y:1===ae.length?ae[0]:function(he){return ae.reduce((te,fe)=>fe(te),he)}}},7849:(ct,we,N)=>{N.d(we,{h:()=>k});var c=N(2416),ee=N(3410);function k(ae){ee.z.setTimeout(()=>{const{onUnhandledError:le}=c.v;if(!le)throw ae;le(ae)})}},4532:(ct,we,N)=>{function c(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(we,{z:()=>c})},655:(ct,we,N)=>{function ae(W,X){var se={};for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&X.indexOf(ie)<0&&(se[ie]=W[ie]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ie=Object.getOwnPropertySymbols(W);Ve<ie.length;Ve++)X.indexOf(ie[Ve])<0&&Object.prototype.propertyIsEnumerable.call(W,ie[Ve])&&(se[ie[Ve]]=W[ie[Ve]])}return se}function fe(W,X,se,ie){return new(se||(se=Promise))(function(Ne,ht){function nn(Ht){try{Bt(ie.next(Ht))}catch(mt){ht(mt)}}function pn(Ht){try{Bt(ie.throw(Ht))}catch(mt){ht(mt)}}function Bt(Ht){Ht.done?Ne(Ht.value):function Ve(Ne){return Ne instanceof se?Ne:new se(function(ht){ht(Ne)})}(Ht.value).then(nn,pn)}Bt((ie=ie.apply(W,X||[])).next())})}function pe(W){return this instanceof pe?(this.v=W,this):new pe(W)}function xe(W,X,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ie=se.apply(W,X||[]),Ne=[];return Ve={},ht("next"),ht("throw"),ht("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ht(en){ie[en]&&(Ve[en]=function(Di){return new Promise(function(Vi,vt){Ne.push([en,Di,Vi,vt])>1||nn(en,Di)})})}function nn(en,Di){try{!function pn(en){en.value instanceof pe?Promise.resolve(en.value.v).then(Bt,Ht):mt(Ne[0][2],en)}(ie[en](Di))}catch(Vi){mt(Ne[0][3],Vi)}}function Bt(en){nn("next",en)}function Ht(en){nn("throw",en)}function mt(en,Di){en(Di),Ne.shift(),Ne.length&&nn(Ne[0][0],Ne[0][1])}}function Le(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,X=W[Symbol.asyncIterator];return X?X.call(W):(W=function K(W){var X="function"==typeof Symbol&&Symbol.iterator,se=X&&W[X],ie=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ie>=W.length&&(W=void 0),{value:W&&W[ie++],done:!W}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},ie("next"),ie("throw"),ie("return"),se[Symbol.asyncIterator]=function(){return this},se);function ie(Ne){se[Ne]=W[Ne]&&function(ht){return new Promise(function(nn,pn){!function Ve(Ne,ht,nn,pn){Promise.resolve(pn).then(function(Bt){Ne({value:Bt,done:nn})},ht)}(nn,pn,(ht=W[Ne](ht)).done,ht.value)})}}}N.d(we,{FC:()=>xe,KL:()=>Le,_T:()=>ae,mG:()=>fe,qq:()=>pe})},4650:(ct,we,N)=>{N.d(we,{$8M:()=>Bl,$Z:()=>iv,AFp:()=>rt,ALo:()=>Fh,AaK:()=>fe,AsE:()=>eb,BQk:()=>Lv,CHM:()=>Va,CRH:()=>rD,CZH:()=>Uh,CqO:()=>rc,D6c:()=>Gx,EJc:()=>Sx,EiD:()=>Cw,EpF:()=>TS,F$t:()=>Ap,F4k:()=>ye,FYo:()=>Uw,FiY:()=>St,Gf:()=>Yb,GfV:()=>yg,GkF:()=>PE,Gpc:()=>$,Gre:()=>ib,Hsn:()=>Yg,Ikx:()=>ab,JOm:()=>Yr,JVY:()=>wu,JZr:()=>tt,KtG:()=>Tl,L6k:()=>ch,LAX:()=>dg,LFG:()=>je,Lbi:()=>Oe,Lck:()=>Rb,MAs:()=>Wg,MMx:()=>y_,MR2:()=>Mw,NdJ:()=>xh,O4$:()=>Md,OlP:()=>yn,Oqu:()=>Jv,P3R:()=>Tw,PXZ:()=>ID,Q6J:()=>RE,QGY:()=>FE,QP$:()=>jn,QbO:()=>Dx,Qsj:()=>vT,R0b:()=>es,RDi:()=>x,Rgc:()=>hc,SBq:()=>lp,Sil:()=>ED,Suo:()=>T_,TTD:()=>Yo,TgZ:()=>Zg,Tol:()=>WE,Udp:()=>Jg,W1O:()=>S_,X6Q:()=>ii,XFs:()=>gt,Xpm:()=>Ta,Xts:()=>Ly,Y36:()=>Mu,YKP:()=>__,YNc:()=>CS,Yjl:()=>xa,Yz7:()=>vt,Z0I:()=>Bi,ZZ4:()=>z_,_Bn:()=>NC,_UZ:()=>NE,_Vd:()=>_g,_c5:()=>$x,_uU:()=>YE,aQg:()=>w0,c2e:()=>Ix,cJS:()=>gr,cg1:()=>cC,d8E:()=>lb,dDg:()=>DD,dqk:()=>kt,eBb:()=>ep,eFA:()=>m0,ekj:()=>kp,eoX:()=>ul,f3M:()=>Xe,g9A:()=>de,h0i:()=>al,hGG:()=>zx,hij:()=>n_,iGM:()=>Kb,ifc:()=>Yt,ip1:()=>_c,jDz:()=>qp,kL8:()=>GS,kcU:()=>Xc,lG2:()=>Sa,lcZ:()=>Lh,lnq:()=>tb,lqb:()=>Iu,lri:()=>B_,mCW:()=>uh,n5z:()=>Of,n_E:()=>$u,oAB:()=>Tn,oJD:()=>Dw,oxw:()=>er,pB0:()=>tp,q3G:()=>li,q4F:()=>Gy,qLn:()=>cp,qOj:()=>Sv,qZA:()=>Pv,qzn:()=>Qa,rWj:()=>d0,s9C:()=>Bv,sBO:()=>Nx,sIi:()=>Sh,s_b:()=>pc,soG:()=>F_,tb:()=>Ci,tp0:()=>mn,uIk:()=>zg,vHH:()=>pe,vpe:()=>Ir,wAp:()=>Tt,xp6:()=>wg,ynx:()=>Fv,z2F:()=>U_,z3N:()=>ws,zSh:()=>ph,zs3:()=>Fo});var c=N(7579),ee=N(727),k=N(9751),ae=N(6451),le=N(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function te(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=he({__forward_ref__:he});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function K(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function Ie(s){return s&&!!s.\u0275providers}const tt="https://g.co/ng/security#xss";class pe extends Error{constructor(o,l){super(function xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function He(s,o){throw new pe(-201,!1)}function Ht(s,o){null==s&&function mt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function vt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function gr(s){return{providers:s.providers||[],imports:s.imports||[]}}function ar(s){return Ui(s,Hi)||Ui(s,_n)}function Bi(s){return null!==ar(s)}function Ui(s,o){return s.hasOwnProperty(o)?s[o]:null}function Or(s){return s&&(s.hasOwnProperty(mo)||s.hasOwnProperty(lr))?s[mo]:null}const Hi=he({\u0275prov:he}),mo=he({\u0275inj:he}),_n=he({ngInjectableDef:he}),lr=he({ngInjectorDef:he});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let ss;function Cn(s){const o=ss;return ss=s,o}function ji(s,o,l){const d=ar(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&gt.Optional?null:void 0!==o?o:void He(fe(s))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),On={},Dn="__NG_DI_FLAG__",kr="ngTempTokenPath",Da=/\n/gm,as="__source";let Xt;function Ti(s){const o=Xt;return Xt=s,o}function zr(s,o=gt.Default){if(void 0===Xt)throw new pe(-203,!1);return null===Xt?ji(s,void 0,o):Xt.get(s,o&gt.Optional?null:void 0,o)}function je(s,o=gt.Default){return(function Rr(){return ss}()||zr)(K(s),o)}function Xe(s,o=gt.Default){return je(s,Ct(o))}function Ct(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Dt(s){const o=[];for(let l=0;l<s.length;l++){const d=K(s[l]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let h,m=gt.Default;for(let y=0;y<d.length;y++){const E=d[y],C=z(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(je(h,m))}else o.push(je(d))}return o}function Ut(s,o){return s[Dn]=o,s.prototype[Dn]=o,s}function z(s){return s[Dn]}function ge(s){return{toString:s}.toString()}var ne=(()=>((ne=ne||{})[ne.OnPush=0]="OnPush",ne[ne.Default=1]="Default",ne))(),Yt=(()=>{return(s=Yt||(Yt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Yt;var s})();const In={},wt=[],ri=he({\u0275cmp:he}),qt=he({\u0275dir:he}),Kn=he({\u0275pipe:he}),Wo=he({\u0275mod:he}),Si=he({\u0275fac:he}),Ia=he({__NG_ELEMENT_ID__:he});let hf=0;function Ta(s){return ge(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ne.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||wt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Yt.Emulated,id:"c"+hf++,styles:s.styles||wt,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=s.dependencies,y=s.features;return h.inputs=Nc(s.inputs,d),h.outputs=Nc(s.outputs),y&&y.forEach(E=>E(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(kc).filter(gd):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Fn).filter(gd):null,h})}function kc(s){return Jt(s)||Yn(s)}function gd(s){return null!==s}function Tn(s){return ge(()=>({type:s.type,bootstrap:s.bootstrap||wt,declarations:s.declarations||wt,imports:s.imports||wt,exports:s.exports||wt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Nc(s,o){if(null==s)return In;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const Sa=Ta;function xa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[ri]||null}function Yn(s){return s[qt]||null}function Fn(s){return s[Kn]||null}function jn(s){const o=Jt(s)||Yn(s)||Fn(s);return null!==o&&o.standalone}function fi(s,o){const l=s[Wo]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function Gi(s){return Array.isArray(s)&&"object"==typeof s[1]}function cr(s){return Array.isArray(s)&&!0===s[1]}function us(s){return 0!=(4&s.flags)}function Fc(s){return s.componentOffset>-1}function Ko(s){return 1==(1&s.flags)}function Mi(s){return null!==s.template}function yd(s){return 0!=(256&s[2])}function vr(s,o){return s.hasOwnProperty(Si)?s[Si]:null}class yl{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Yo(){return Bs}function Bs(s){return s.type.prototype.ngOnChanges&&(s.setInput=bl),vl}function vl(){const s=ka(this),o=s?.current;if(o){const l=s.previous;if(l===In)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function bl(s,o,l,d){const h=this.declaredInputs[l],m=ka(s)||function Hc(s,o){return s[Ra]=o}(s,{previous:In,current:null}),y=m.current||(m.current={}),E=m.previous,C=E[h];y[h]=new yl(C&&C.currentValue,o,E===In),s[d]=o}Yo.ngInherit=!0;const Ra="__ngSimpleChanges__";function ka(s){return s[Ra]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function Pa(s,o){return Rn(o[s])}function gi(s,o){return Rn(o[s.index])}function Xo(s,o){return s.data[o]}function Hs(s,o){return s[o]}function qi(s,o){const l=o[s];return Gi(l)?l:l[0]}function wo(s){return 64==(64&s[2])}function qr(s,o){return null==o?null:s[o]}function zc(s){s[18]=0}function Fa(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Je={lFrame:Yc(null),bindingsEnabled:!0};function yf(){return Je.bindingsEnabled}function Ee(){return Je.lFrame.lView}function Qt(){return Je.lFrame.tView}function Va(s){return Je.lFrame.contextLView=s,s[8]}function Tl(s){return Je.lFrame.contextLView=null,s}function $n(){let s=Jo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Jo(){return Je.lFrame.currentTNode}function Fr(s,o){const l=Je.lFrame;l.currentTNode=s,l.isParent=o}function Sl(){return Je.lFrame.isParent}function ea(){Je.lFrame.isParent=!1}function js(){return Je.lFrame.bindingIndex}function na(){return Je.lFrame.bindingIndex++}function hs(s){const o=Je.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function xd(s,o){const l=Je.lFrame;l.bindingIndex=l.bindingRootIndex=s,wf(o)}function wf(s){Je.lFrame.currentDirectiveIndex=s}function Ef(s){const o=Je.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function xl(){return Je.lFrame.currentQueryIndex}function Cf(s){Je.lFrame.currentQueryIndex=s}function _w(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Kc(s,o,l){if(l&gt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&gt.Host||(h=_w(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Je.lFrame=Zm();return d.currentTNode=o,d.lView=s,!0}function Df(s){const o=Zm(),l=s[1];Je.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Zm(){const s=Je.lFrame,o=null===s?null:s.child;return null===o?Yc(s):o}function Yc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Eo(){const s=Je.lFrame;return Je.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Al=Eo;function Xn(){const s=Eo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zn(){return Je.lFrame.selectedIndex}function fs(s){Je.lFrame.selectedIndex=s}function rn(){const s=Je.lFrame;return Xo(s.tView,s.selectedIndex)}function Md(){Je.lFrame.currentNamespace="svg"}function Xc(){!function If(){Je.lFrame.currentNamespace=null}()}function Jn(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:O}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function Wr(s,o,l){Do(s,o,3,l)}function Ml(s,o,l,d){(3&s[2])===l&&Do(s,o,l,d)}function Lr(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Do(s,o,l,d){const m=d??-1,y=o.length-1;let E=0;for(let C=void 0!==d?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=d&&E>=d)break}else o[C]<0&&(s[18]+=65536),(E<m||-1==m)&&(Od(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Od(s,o,l,d){const h=l[d]<0,m=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class ps{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Rd(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],y=l[d++],E=l[d++];s.setAttribute(o,y,E,m)}else{const m=h,y=l[++d];Ua(m)?s.setProperty(o,m,y):s.setAttribute(o,m,y),d++}}return d}function Zr(s){return 3===s||4===s||6===s}function Ua(s){return 64===s.charCodeAt(0)}function Vr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ia(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ia(s,o,l,d,h){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Ha(s){return-1!==s}function zs(s){return 32767&s}function Gs(s,o){let l=function kl(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let ra=!0;function qs(s){const o=ra;return ra=s,o}let Af=0;const Zi={};function nu(s,o){const l=sa(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Br(d.data,s),Br(o,null),Br(d.blueprint,null));const h=ja(s,o),m=s.injectorIndex;if(Ha(h)){const y=zs(h),E=Gs(h,o),C=E[1].data;for(let S=0;S<8;S++)o[m+S]=E[y+S]|C[y+S]}return o[m+8]=h,m}function Br(s,o){s.push(0,0,0,0,0,0,0,0,o)}function sa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ja(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=Pd(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Ws(s,o,l){!function Pl(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ia)&&(d=l[Ia]),null==d&&(d=l[Ia]=Af++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Fl(s,o,l){if(l&gt.Optional||void 0!==s)return s;He()}function Ur(s,o,l,d){if(l&gt.Optional&&void 0===d&&(d=null),0==(l&(gt.Self|gt.Host))){const h=s[9],m=Cn(void 0);try{return h?h.get(o,d,l&gt.Optional):ji(o,d,l&gt.Optional)}finally{Cn(m)}}return Fl(d,0,l)}function Zs(s,o,l,d=gt.Default,h){if(null!==s){if(1024&o[2]){const y=function Io(s,o,l,d,h){let m=s,y=o;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const E=Nd(m,y,l,d|gt.Self,Zi);if(E!==Zi)return E;let C=m.parent;if(!C){const S=y[21];if(S){const O=S.get(l,Zi,d);if(O!==Zi)return O}C=Pd(y),y=y[15]}m=C}return h}(s,o,l,d,Zi);if(y!==Zi)return y}const m=Nd(s,o,l,d,Zi);if(m!==Zi)return m}return Ur(o,l,d,h)}function Nd(s,o,l,d,h){const m=function Mf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ia)?s[Ia]:void 0;return"number"==typeof o?o>=0?255&o:vy:o}(l);if("function"==typeof m){if(!Kc(o,s,d))return d&gt.Host?Fl(h,0,d):Ur(o,l,d,h);try{const y=m(d);if(null!=y||d&gt.Optional)return y;He()}finally{Al()}}else if("number"==typeof m){let y=null,E=sa(s,o),C=-1,S=d&gt.Host?o[16][6]:null;for((-1===E||d&gt.SkipSelf)&&(C=-1===E?ja(s,o):o[E+8],-1!==C&&Vl(d,!1)?(y=o[1],E=zs(C),o=Gs(C,o)):E=-1);-1!==E;){const O=o[1];if(ru(m,E,O.data)){const F=Km(E,o,l,y,d,S);if(F!==Zi)return F}C=o[E+8],-1!==C&&Vl(d,o[1].data[E+8]===S)&&ru(m,E,o)?(y=O,E=zs(C),o=Gs(C,o)):E=-1}}return h}function Km(s,o,l,d,h,m){const y=o[1],E=y.data[s+8],O=Ll(E,y,l,null==d?Fc(E)&&ra:d!=y&&0!=(3&E.type),h&gt.Host&&m===E);return null!==O?oa(o,y,O,E):Zi}function Ll(s,o,l,d,h){const m=s.providerIndexes,y=o.data,E=1048575&m,C=s.directiveStart,O=m>>20,q=h?E+O:s.directiveEnd;for(let J=d?E:E+O;J<q;J++){const _e=y[J];if(J<C&&l===_e||J>=C&&_e.type===l)return J}if(h){const J=y[C];if(J&&Mi(J)&&J.type===l)return C}return null}function oa(s,o,l,d){let h=s[l];const m=o.data;if(function Vn(s){return s instanceof ps}(h)){const y=h;y.resolving&&function Te(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new pe(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(m[l]));const E=qs(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Cn(y.injectImpl):null;Kc(s,d,gt.Default);try{h=s[l]=y.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Sf(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const y=Bs(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&Cn(C),qs(E),y.resolving=!1,Al()}}return h}function ru(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Vl(s,o){return!(s&gt.Self||s&gt.Host&&o)}class $a{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Zs(this._tNode,this._lView,o,Ct(d),l)}}function vy(){return new $a($n(),Ee())}function Of(s){return ge(()=>{const o=s.prototype.constructor,l=o[Si]||su(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Si]||su(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function su(s){return Ue(s)?()=>{const o=su(K(s));return o&&o()}:vr(s)}function Pd(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Bl(s){return function iu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Zr(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}($n(),s)}const Kr="__parameters__";function Ks(s,o,l){return ge(()=>{const d=function Fd(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return E.annotation=y,E;function E(C,S,O){const F=C.hasOwnProperty(Kr)?C[Kr]:Object.defineProperty(C,Kr,{value:[]})[Kr];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class yn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=vt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qe(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),qe(d,o)):o!==s&&o.push(d)}return o}function _t(s,o){s.forEach(l=>Array.isArray(l)?_t(l,o):o(l))}function ei(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function gs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xs(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Ri(s,o,l){let d=it(s,o);return d>=0?s[1|d]=l:(d=~d,function uu(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function eo(s,o){const l=it(s,o);if(l>=0)return s[1|l]}function it(s,o){return function D(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),y=s[m<<l];if(o===y)return m<<l;y>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const St=Ut(Ks("Optional"),8),mn=Ut(Ks("SkipSelf"),4);var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();const Uf=new Map;let eg=0;const jl="__ngContext__";function bi(s,o){Gi(o)?(s[jl]=o[20],function Zd(s){Uf.set(s[20],s)}(o)):s[jl]=o}function Xd(s,o){return undefined(s,o)}function Wa(s){const o=s[3];return cr(o)?o[3]:o}function mu(s){return sg(s[13])}function Mo(s){return sg(s[4])}function sg(s){for(;null!==s&&!cr(s);)s=s[4];return s}function ca(s,o,l,d,h){if(null!=d){let m,y=!1;cr(d)?m=d:Gi(d)&&(y=!0,d=d[0]);const E=Rn(d);0===s&&null!==l?null==h?wr(o,l,E):Ro(o,l,E,h||null,!0):1===s&&null!==l?Ro(o,l,E,h||null,!0):2===s?function Xi(s,o,l){const d=da(s,o);d&&function Yf(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,y):3===s&&o.destroyNode(E),null!=m&&function vu(s,o,l,d,h){const m=l[7];m!==Rn(l)&&ca(o,s,d,m,h);for(let E=10;E<l.length;E++){const C=l[E];Ya(C[1],C,s,o,d,m)}}(o,s,m,l,h)}}function Gf(s,o,l){return s.createElement(o,l)}function Za(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Fa(h,-1)),l.splice(d,1)}function Wf(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&Za(h,d),o>0&&(s[l-1][4]=d[4]);const m=gs(s,10+o);!function gu(s,o){Ya(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Zf(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Ya(s,o,l,3,null,null),function qf(s){let o=s[13];if(!o)return Zl(s[1],s);for(;o;){let l=null;if(Gi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Gi(o)&&Zl(o[1],o),o=o[3];null===o&&(o=s),Gi(o)&&Zl(o[1],o),l=o&&o[4]}o=l}}(o)}}function Zl(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Jd(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof ps)){const m=l[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const E=h[m[y]],C=m[y+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function Kf(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),m+=2}else{const y=d[h=l[m+1]];l[m].call(y)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&cr(o[3])){l!==o[3]&&Za(l,o);const d=o[19];null!==d&&d.detachView(s)}!function Zt(s){Uf.delete(s[20])}(o)}}function Kl(s,o,l){return function eh(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=s.data[d.directiveStart+h];if(m===Yt.None||m===Yt.Emulated)return null}return gi(d,l)}}(s,o.parent,l)}function Ro(s,o,l,d,h){s.insertBefore(o,l,d,h)}function wr(s,o,l){s.appendChild(o,l)}function Ka(s,o,l,d,h){null!==d?Ro(s,o,l,d,h):wr(s,o,l)}function da(s,o){return s.parentNode(o)}function _u(s,o,l){return cg(s,o,l)}let No,b,G,cg=function th(s,o,l){return 40&s.type?gi(s,l):null};function nh(s,o,l,d){const h=Kl(s,d,o),m=o[11],E=_u(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)Ka(m,h,l[C],E,!1);else Ka(m,h,l,E,!1)}function ih(s,o){if(null!==o){const l=o.type;if(3&l)return gi(o,s);if(4&l)return rh(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return ih(s,d);{const h=s[o.index];return cr(h)?rh(-1,h):Rn(h)}}if(32&l)return Xd(o,s)()||Rn(s[o.index]);{const d=ug(s,o);return null!==d?Array.isArray(d)?d[0]:ih(Wa(s[16]),d):ih(s,o.next)}}return null}function ug(s,o){return null!==o?s[16][6].projection[o.projection]:null}function rh(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return ih(d,h)}return o[7]}function yu(s,o,l,d,h,m,y){for(;null!=l;){const E=d[l.index],C=l.type;if(y&&0===o&&(E&&bi(Rn(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)yu(s,o,l.child,d,h,m,!1),ca(o,s,h,E,m);else if(32&C){const S=Xd(l,d);let O;for(;O=S();)ca(o,s,h,O,m);ca(o,s,h,E,m)}else 16&C?bs(s,o,d,l,h,m):ca(o,s,h,E,m);l=y?l.projectionNext:l.next}}function Ya(s,o,l,d,h,m){yu(l,d,s.firstChild,o,h,m,!1)}function bs(s,o,l,d,h,m){const y=l[16],C=y[6].projection[d.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)ca(o,s,h,C[S],m);else yu(s,o,C,y[3],h,m,!0)}function oh(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Qr(s,o,l){const{mergedAttrs:d,classes:h,styles:m}=l;null!==d&&Rd(s,o,d),null!==h&&oh(s,o,h),null!==m&&function sh(s,o,l){s.setAttribute(o,"style",l)}(s,o,m)}function ha(s){return function ah(){if(void 0===No&&(No=null,kt.trustedTypes))try{No=kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return No}()?.createHTML(s)||s}function x(s){b=s}function ue(){if(void 0===G&&(G=null,kt.trustedTypes))try{G=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return G}function Be(s){return ue()?.createHTML(s)||s}function yt(s){return ue()?.createScriptURL(s)||s}class at{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class ai extends at{getTypeName(){return"HTML"}}class jr extends at{getTypeName(){return"Style"}}class bu extends at{getTypeName(){return"Script"}}class Jf extends at{getTypeName(){return"URL"}}class lh extends at{getTypeName(){return"ResourceURL"}}function ws(s){return s instanceof at?s.changingThisBreaksApplicationSecurity:s}function Qa(s,o){const l=function Xa(s){return s instanceof at&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${tt})`)}return l===o}function wu(s){return new ai(s)}function ch(s){return new jr(s)}function ep(s){return new bu(s)}function dg(s){return new Jf(s)}function tp(s){return new lh(s)}class bw{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ha(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class nR{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ha(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=ha(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const rR=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function uh(s){return(s=String(s)).match(rR)?s:"unsafe:"+s}function Ja(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function np(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const ww=Ja("area,br,col,hr,img,wbr"),hg=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Es=Ja("rp,rt"),ky=np(ww,np(hg,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),np(Es,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),np(Es,hg)),pg=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ew=np(pg,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dh=Ja("script,style,template");class ip{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ky.hasOwnProperty(l))return this.sanitizedSomething=!0,!dh.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,E=y.toLowerCase();if(!Ew.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;pg[E]&&(C=uh(C)),this.buf.push(" ",y,'="',hh(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ky.hasOwnProperty(l)&&!ww.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(hh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const iT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rT=/([^\#-~ |!])/g;function hh(s){return s.replace(/&/g,"&amp;").replace(iT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(rT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function Cw(s,o){let l=null;try{Yl=Yl||function Eu(s){const o=new nR(s);return function iR(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch{return!1}}()?new bw(o):o}(s);let d=o?String(o):"";l=Yl.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=Yl.getInertBodyElement(d)}while(d!==m);return ha((new ip).sanitizeChildren(Py(l)||l))}finally{if(l){const d=Py(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Py(s){return"content"in s&&function sT(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function Dw(s){const o=rp();return o?Be(o.sanitize(li.HTML,s)||""):Qa(s,"HTML")?Be(ws(s)):Cw(function R(){return void 0!==b?b:typeof document<"u"?document:void 0}(),Ce(s))}function aT(s){const o=rp();return o?o.sanitize(li.URL,s)||"":Qa(s,"URL")?ws(s):uh(Ce(s))}function Iw(s){const o=rp();if(o)return yt(o.sanitize(li.RESOURCE_URL,s)||"");if(Qa(s,"ResourceURL"))return yt(ws(s));throw new pe(904,!1)}function Tw(s,o,l){return function lT(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Iw:aT}(o,l)(s)}function rp(){const s=Ee();return s&&s[12]}const Ly=new yn("ENVIRONMENT_INITIALIZER"),Sw=new yn("INJECTOR",-1),xw=new yn("INJECTOR_DEF_TYPES");class Aw{get(o,l=On){if(l===On){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return l}}function Mw(s){return{\u0275providers:s}}function cT(...s){return{\u0275providers:gg(0,s),\u0275fromNgModule:!0}}function gg(s,...o){const l=[],d=new Set;let h;return _t(o,m=>{const y=m;sp(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&Vy(h,l),l}function Vy(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Uy(h,m=>{o.push(m)})}}function sp(s,o,l,d){if(!(s=K(s)))return!1;let h=null,m=Or(s);const y=!m&&Jt(s);if(m||y){if(y&&!y.standalone)return!1;h=s}else{const C=s.ngModule;if(m=Or(C),!m)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of C)sp(S,o,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let S;d.add(h);try{_t(m.imports,O=>{sp(O,o,l,d)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&Vy(S,o)}if(!E){const S=vr(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:wt},{provide:xw,useValue:h,multi:!0},{provide:Ly,useValue:()=>je(h),multi:!0})}const C=m.providers;null==C||E||Uy(C,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function Uy(s,o){for(let l of s)Ie(l)&&(l=l.\u0275providers),Array.isArray(l)?Uy(l,o):o(l)}const uT=he({provide:String,useValue:he});function Hy(s){return null!==s&&"object"==typeof s&&uT in s}function Ql(s){return"function"==typeof s}const ph=new yn("Set Injector scope."),Cu={},kw={};let Du;function ap(){return void 0===Du&&(Du=new Aw),Du}class Iu{}class Nw extends Iu{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zy(o,y=>this.processProvider(y)),this.records.set(Sw,mh(void 0,this)),h.has("environment")&&this.records.set(Iu,mh(void 0,this));const m=this.records.get(ph);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(xw.multi,wt,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Ti(this),d=Cn(void 0);try{return o()}finally{Ti(l),Cn(d)}}get(o,l=On,d=gt.Default){this.assertNotDestroyed(),d=Ct(d);const h=Ti(this),m=Cn(void 0);try{if(!(d&gt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function mT(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(o)&&ar(o);E=C&&this.injectableDefInScope(C)?mh(jy(o),Cu):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&gt.Self?ap():this.parent).get(o,l=d&gt.Optional&&l===On?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[kr]=y[kr]||[]).unshift(fe(o)),h)throw y;return function B(s,o,l,d){const h=s[kr];throw o[as]&&h.unshift(o[as]),s.message=function Z(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];m.push(y+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Da,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[kr]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Cn(m),Ti(h)}}resolveInjectorInitializers(){const o=Ti(this),l=Cn(void 0);try{const d=this.get(Ly.multi,wt,gt.Self);for(const h of d)h()}finally{Ti(o),Cn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let l=Ql(o=K(o))?o:K(o&&o.provide);const d=function hT(s){return Hy(s)?mh(void 0,s.useValue):mh($y(s),Cu)}(o);if(Ql(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=mh(void 0,Cu,!0),h.factory=()=>Dt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Cu&&(l.value=kw,l.value=l.factory()),"object"==typeof l.value&&l.value&&function pT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=K(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function jy(s){const o=ar(s),l=null!==o?o.factory:vr(s);if(null!==l)return l;if(s instanceof yn)throw new pe(204,!1);if(s instanceof Function)return function dT(s){const o=s.length;if(o>0)throw Xs(o,"?"),new pe(204,!1);const l=function qo(s){const o=s&&(s[Hi]||s[_n]);if(o){const l=function Ns(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new pe(204,!1)}function $y(s,o,l){let d;if(Ql(s)){const h=K(s);return vr(h)||jy(h)}if(Hy(s))d=()=>K(s.useValue);else if(function op(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Dt(s.deps||[]));else if(function Ow(s){return!(!s||!s.useExisting)}(s))d=()=>je(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function fT(s){return!!s.deps}(s))return vr(h)||jy(h);d=()=>new h(...Dt(s.deps))}return d}function mh(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function zy(s,o){for(const l of s)Array.isArray(l)?zy(l,o):l&&Ie(l)?zy(l.\u0275providers,o):o(l)}class gT{}class Pw{}class Vw{resolveComponentFactory(o){throw function Fw(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _g=(()=>{class s{}return s.NULL=new Vw,s})();function Bw(){return Tu($n(),Ee())}function Tu(s,o){return new lp(gi(s,o))}let lp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Bw,s})();function yT(s){return s instanceof lp?s.nativeElement:s}class Uw{}let vT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bT(){const s=Ee(),l=qi($n().index,s);return(Gi(l)?l:s)[11]}(),s})(),Hw=(()=>{class s{}return s.\u0275prov=vt({token:s,providedIn:"root",factory:()=>null}),s})();class yg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Gy=new yg("15.0.1"),qy={};function Wy(s){return s.ngOriginalError}class cp{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Wy(o);for(;l&&Wy(l);)l=Wy(l);return l||null}}function el(s){return s instanceof Function?s():s}function qw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const Ww="ng-template";function Zw(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==qw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function wi(s){return 4===s.type&&s.value!==Ww}function ST(s,o,l){return o===(4!==s.type||l?s.value:Ww)}function Zy(s,o,l){let d=4;const h=s.attrs||[],m=function pR(s){for(let o=0;o<s.length;o++)if(Zr(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!ST(s,C,l)||""===C&&1===o.length){if(Po(d))return!1;y=!0}}else{const S=8&d?C:o[++E];if(8&d&&null!==s.attrs){if(!Zw(s.attrs,S,l)){if(Po(d))return!1;y=!0}continue}const F=xT(8&d?"class":C,h,wi(s),l);if(-1===F){if(Po(d))return!1;y=!0;continue}if(""!==S){let q;q=F>m?"":h[F+1].toLowerCase();const J=8&d?q:null;if(J&&-1!==qw(J,S,0)||2&d&&S!==q){if(Po(d))return!1;y=!0}}}}else{if(!y&&!Po(d)&&!Po(C))return!1;if(y&&Po(C))continue;y=!1,d=C|1&d}}return Po(d)||y}function Po(s){return 0==(1&s)}function xT(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function AT(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Ky(s,o,l=!1){for(let d=0;d<o.length;d++)if(Zy(s,o[d],l))return!0;return!1}function Yy(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Qy(s,o){return s?":not("+o.trim()+")":o}function _h(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const E=s[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Po(y)&&(o+=Qy(m,h),h=""),d=y,m=m||!Po(d);l++}return""!==h&&(o+=Qy(m,h)),o}const Nt={};function wg(s){Yw(Qt(),Ee(),zn()+s,!1)}function Yw(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Wr(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Ml(o,m,0,l)}fs(l)}function Jw(s,o=null,l=null,d){const h=NT(s,o,l,d);return h.resolveInjectorInitializers(),h}function NT(s,o=null,l=null,d,h=new Set){const m=[l||wt,cT(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Nw(m,o||ap(),d||null,h)}let Fo=(()=>{class s{static create(l,d){if(Array.isArray(l))return Jw({name:""},d,l,"");{const h=l.name??"";return Jw({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=On,s.NULL=new Aw,s.\u0275prov=vt({token:s,providedIn:"any",factory:()=>je(Sw)}),s.__NG_ELEMENT_ID__=-1,s})();function Mu(s,o=gt.Default){const l=Ee();return null===l?je(s,o):Zs($n(),l,K(s),o)}function iv(){throw new Error("invalid")}function dp(s,o){return s<<17|o<<2}function ro(s){return s>>17&32767}function vh(s){return 2|s}function fa(s){return(131068&s)>>2}function Cg(s,o){return-131069&s|o<<2}function Dg(s){return 1|s}function Ag(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const y=s.data[m];Cf(h),y.contentQueries(2,o[m],m)}}}function Mg(s,o,l,d,h,m,y,E,C,S,O){const F=o.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==O||s&&1024&s[2])&&(F[2]|=1024),zc(F),F[3]=F[15]=s,F[8]=l,F[10]=y||s&&s[10],F[11]=E||s&&s[11],F[12]=C||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=m,F[20]=function tg(){return eg++}(),F[21]=O,F[16]=2==o.type?s[16]:F,F}function nl(s,o,l,d,h){let m=s.data[o];if(null===m)m=function Og(s,o,l,d,h){const m=Jo(),y=Sl(),C=s.data[o]=function Ng(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(y?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,d,h),function Sd(){return Je.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const y=function br(){const s=Je.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Fr(m,!0),m}function Ch(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Dh(s,o,l){Df(o);try{const d=s.viewQuery;null!==d&&Th(1,d,l);const h=s.template;null!==h&&QT(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ag(s,o),s.staticViewQueries&&Th(2,s.viewQuery,l);const m=s.components;null!==m&&function mv(s,o){for(let l=0;l<o.length;l++)AR(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Xn()}}function Jl(s,o,l,d){const h=o[2];if(128!=(128&h)){Df(o);try{zc(o),function ta(s){return Je.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&QT(s,o,l,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&Wr(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Ml(o,S,0,null),Lr(o,0)}if(function SR(s){for(let o=mu(s);null!==o;o=Mo(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&Fa(m,1),h[2]|=512}}}(o),function gE(s){for(let o=mu(s);null!==o;o=Mo(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];wo(d)&&Jl(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Ag(s,o),y){const S=s.contentCheckHooks;null!==S&&Wr(o,S)}else{const S=s.contentHooks;null!==S&&Ml(o,S,1),Lr(o,1)}!function mp(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)fs(~h);else{const m=h,y=l[++d],E=l[++d];xd(y,m),E(2,o[m])}}}finally{fs(-1)}}(s,o);const E=s.components;null!==E&&function YT(s,o){for(let l=0;l<o.length;l++)xR(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&Th(2,C,d),y){const S=s.viewCheckHooks;null!==S&&Wr(o,S)}else{const S=s.viewHooks;null!==S&&Ml(o,S,2),Lr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Fa(o[3],-1))}finally{Xn()}}}function QT(s,o,l,d,h){const m=zn(),y=2&d;try{fs(-1),y&&o.length>22&&Yw(s,o,22,!1),l(d,h)}finally{fs(m)}}function dE(s,o,l){if(us(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,l[m],m)}}}function Rg(s,o,l){!yf()||(function IR(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||nu(l,o),bi(d,o);const y=l.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],S=Mi(C);S&&yp(o,l,C);const O=oa(o,s,E,l);bi(O,o),null!==y&&pE(0,E-h,O,C,0,y),S&&(qi(l.index,o)[8]=O)}}(s,o,l,gi(l,o)),64==(64&l.flags)&&iS(s,o,l))}function hE(s,o,l=gi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],E=-1===y?l(o,s):s[y];s[h++]=E}}}function Ru(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ih(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ih(s,o,l,d,h,m,y,E,C,S){const O=22+d,F=O+h,q=function kg(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Nt);return l}(O,F),J="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function _p(s,o,l,d){const h=Ev(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&yE(s).push(d,h.length-1))}function fE(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const m=s[h];null===d?Pg(l,o,h,m):d.hasOwnProperty(h)&&Pg(l,o,d[h],m)}return l}function Pg(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function Cs(s,o,l,d,h,m,y,E){const C=gi(o,l);let O,S=o.inputs;!E&&null!=S&&(O=S[d])?(Dv(s,l,O,d,h),Fc(o)&&gv(l,o.index)):3&o.type&&(d=function XT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,m.setProperty(C,d,h))}function gv(s,o){const l=qi(o,s);16&l[2]||(l[2]|=32)}function _v(s,o,l,d){let h=!1;if(yf()){const m=null===d?null:{"":-1},y=function rS(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let m=0;m<l.length;m++){const y=l[m];if(Ky(o,y.selectors,!1))if(d||(d=[]),Mi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Lg(s,o,E.length)}else d.unshift(y),Lg(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,l);let E,C;null===y?E=C=null:[E,C]=y,null!==E&&(h=!0,tS(s,o,l,E,m,C)),m&&function bv(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new pe(-301,!1);d.push(o[h],m)}}}(l,d,m)}return l.mergedAttrs=Vr(l.mergedAttrs,l.attrs),h}function tS(s,o,l,d,h,m){for(let S=0;S<d.length;S++)Ws(nu(l,o),s,d[S].type);!function TR(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let y=!1,E=!1,C=Ch(s,o,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];l.mergedAttrs=Vr(l.mergedAttrs,O.hostAttrs),oS(s,l,o,C,O),sS(C,O,h),null!==O.contentQueries&&(l.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=64);const F=O.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),y=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),C++}!function Fg(s,o,l){const h=o.directiveEnd,m=s.data,y=o.attrs,E=[];let C=null,S=null;for(let O=o.directiveStart;O<h;O++){const F=m[O],q=l?l.get(F):null,_e=q?q.outputs:null;C=fE(F.inputs,O,C,q?q.inputs:null),S=fE(F.outputs,O,S,_e);const Pe=null===C||null===y||wi(o)?null:Vo(C,O,y);E.push(Pe)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=S}(s,l,m)}function iS(s,o,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,y=function Wm(){return Je.lFrame.currentDirectiveIndex}();try{fs(m);for(let E=d;E<h;E++){const C=s.data[E],S=o[E];wf(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&vv(C,S)}}finally{fs(-1),wf(y)}}function vv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Lg(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function sS(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Mi(o)&&(l[""]=s)}}function oS(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=vr(h.type)),y=new ps(m,Mi(h),Mu);s.blueprint[d]=y,l[d]=y,function nS(s,o,l,d,h){const m=h.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function yv(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,d,m)}}(s,o,d,Ch(s,l,h.hostVars,Nt),h)}function yp(s,o,l){const d=gi(o,s),h=Ru(l),m=s[10],y=vp(s,Mg(s,h,null,l.onPush?32:16,d,o,m,m.createRenderer(d,l),null,null,null));s[o.index]=y}function Jr(s,o,l,d,h,m){const y=gi(s,o);!function Vg(s,o,l,d,h,m,y){if(null==m)s.removeAttribute(o,h,l);else{const E=null==y?Ce(m):y(m,d||"",h);s.setAttribute(o,h,E,l)}}(o[11],y,m,s.value,l,d,h)}function pE(s,o,l,d,h,m){const y=m[o];if(null!==y){const E=d.setInput;for(let C=0;C<y.length;){const S=y[C++],O=y[C++],F=y[C++];null!==E?d.setInput(l,F,S,O):l[O]=F}}}function Vo(s,o,l){let d=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const y=s[m];for(let E=0;E<y.length;E+=2)if(y[E]===o){d.push(m,y[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function mE(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function xR(s,o){const l=qi(o,s);if(wo(l)){const d=l[1];48&l[2]?Jl(d,l,d.template,l[8]):l[5]>0&&_E(l)}}function _E(s){for(let d=mu(s);null!==d;d=Mo(d))for(let h=10;h<d.length;h++){const m=d[h];if(wo(m))if(512&m[2]){const y=m[1];Jl(y,m,y.template,m[8])}else m[5]>0&&_E(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=qi(l[d],s);wo(h)&&h[5]>0&&_E(h)}}function AR(s,o){const l=qi(o,s),d=l[1];(function aS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Dh(d,l,l[8])}function vp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function wv(s){for(;s;){s[2]|=32;const o=Wa(s);if(yd(s)&&!o)return s;s=o}return null}function bp(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{Jl(s,o,s.template,l)}catch(y){throw d&&Cv(o,y),y}finally{h.end&&h.end()}}function Th(s,o,l){Cf(0),o(s,l)}function Ev(s){return s[7]||(s[7]=[])}function yE(s){return s.cleanup||(s.cleanup=[])}function Cv(s,o){const l=s[9],d=l?l.get(cp,null):null;d&&d.handleError(o)}function Dv(s,o,l,d,h){for(let m=0;m<l.length;){const y=l[m++],E=l[m++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,d,E):C[E]=h}}function ma(s,o,l){const d=Pa(o,s);!function og(s,o,l){s.setValue(o,l)}(s[11],d,l)}function Bg(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?m=E:1==m?h=me(h,E):2==m&&(d=me(d,E+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function wp(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(Rn(m)),cr(m))for(let E=10;E<m.length;E++){const C=m[E],S=C[1].firstChild;null!==S&&wp(C[1],C,S,d)}const y=l.type;if(8&y)wp(s,o,l.child,d);else if(32&y){const E=Xd(l,o);let C;for(;C=E();)d.push(C)}else if(16&y){const E=ug(o,l);if(Array.isArray(E))d.push(...E);else{const C=Wa(o[16]);wp(C[1],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class ku{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return wp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(cr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Wf(o,d),gs(l,d))}this._attachedToViewContainer=!1}Zf(this._lView[1],this._lView)}onDestroy(o){_p(this._lView[1],this._lView,null,o)}markForCheck(){wv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){bp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wl(s,o){Ya(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class uS extends ku{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;bp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Ug extends _g{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jt(o);return new Nu(l,this.ngModule)}}function vE(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class dS{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=Ct(d);const h=this.injector.get(o,qy,d);return h!==qy||l===qy?h:this.parentInjector.get(o,l,d)}}class Nu extends Pw{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function mR(s){return s.map(_h).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return vE(this.componentDef.inputs)}get outputs(){return vE(this.componentDef.outputs)}create(o,l,d,h){let m=(h=h||this.ngModule)instanceof Iu?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new dS(o,m):o,E=y.get(Uw,null);if(null===E)throw new pe(407,!1);const C=y.get(Hw,null),S=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=d?function gp(s,o,l){return s.selectRootElement(o,l===Yt.ShadowDom)}(S,d,this.componentDef.encapsulation):Gf(S,O,function ec(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),q=this.componentDef.onPush?288:272,J=Ih(0,null,null,1,0,null,null,null,null,null),_e=Mg(null,J,null,q,null,null,E,S,C,y,null);let Pe,ze;Df(_e);try{const Ye=this.componentDef;let ut,Ae=null;Ye.findHostDirectiveDefs?(ut=[],Ae=new Map,Ye.findHostDirectiveDefs(Ye,ut,Ae),ut.push(Ye)):ut=[Ye];const Et=function Ep(s,o){const l=s[1];return s[22]=o,nl(l,22,2,"#host",null)}(_e,F),wn=function fS(s,o,l,d,h,m,y,E){const C=h[1];!function EE(s,o,l,d){for(const h of s)o.mergedAttrs=Vr(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Bg(o,o.mergedAttrs,!0),null!==l&&Qr(d,l,o))}(d,s,o,y);const S=m.createRenderer(o,l),O=Mg(h,Ru(l),null,l.onPush?32:16,h[s.index],s,m,S,E||null,null,null);return C.firstCreatePass&&Lg(C,s,d.length-1),vp(h,O),h[s.index]=O}(Et,F,Ye,ut,_e,E,S);ze=Xo(J,22),F&&function Iv(s,o,l,d){if(d)Rd(s,l,["ng-version",Gy.full]);else{const{attrs:h,classes:m}=function Kw(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!Po(h))break;h=m}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&Rd(s,l,h),m&&m.length>0&&oh(s,l,m.join(" "))}}(S,Ye,F,d),void 0!==l&&function mS(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const m=l[h];d.push(null!=m?Array.from(m):null)}}(ze,this.ngContentSelectors,l),Pe=function pS(s,o,l,d,h,m){const y=$n(),E=h[1],C=gi(y,h);tS(E,h,y,l,null,d);for(let O=0;O<l.length;O++)bi(oa(h,E,y.directiveStart+O,y),h);iS(E,h,y),C&&bi(C,h);const S=oa(h,E,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=S,null!==m)for(const O of m)O(S,o);return dE(E,y,s),S}(wn,Ye,ut,Ae,_e,[gS]),Dh(J,_e,null)}finally{Xn()}return new wE(this.componentType,Pe,Tu(ze,_e),_e,ze)}}class wE extends gT{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new uS(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const m=this._rootLView;Dv(m[1],m,h,o,l),gv(m,this._tNode.index)}}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function gS(){const s=$n();Jn(Ee()[1],s)}function Sv(s){let o=function Tv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Mi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new pe(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=Cp(s.inputs),y.declaredInputs=Cp(s.declaredInputs),y.outputs=Cp(s.outputs);const E=h.hostBindings;E&&DE(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&_S(s,C),S&&CE(s,S),te(s.inputs,h.inputs),te(s.declaredInputs,h.declaredInputs),te(s.outputs,h.outputs),Mi(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const E=m[y];E&&E.ngInherit&&E(s),E===Sv&&(l=!1)}}o=Object.getPrototypeOf(o)}!function RR(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Vr(h.hostAttrs,l=Vr(l,h.hostAttrs))}}(d)}function Cp(s){return s===In?{}:s===wt?[]:s}function _S(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function CE(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function DE(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Hg=null;function tc(){if(!Hg){const s=kt.Symbol;if(s&&s.iterator)Hg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Hg=d)}}}return Hg}function Sh(s){return!!Ov(s)&&(Array.isArray(s)||!(s instanceof Map)&&tc()in s)}function Ov(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function $r(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function nc(s,o,l,d){const h=$r(s,o,l);return $r(s,o+1,d)||h}function zg(s,o,l,d){const h=Ee();return $r(h,na(),o)&&(Qt(),Jr(rn(),h,s,o,l,d)),zg}function Ip(s,o,l,d){return $r(s,na(),l)?o+Ce(l)+d:Nt}function ic(s,o,l,d,h,m,y,E){const S=function $g(s,o,l,d,h){const m=nc(s,o,l,d);return $r(s,o+2,h)||m}(s,js(),l,h,y);return hs(3),S?o+Ce(l)+d+Ce(h)+m+Ce(y)+E:Nt}function CS(s,o,l,d,h,m,y,E){const C=Ee(),S=Qt(),O=s+22,F=S.firstCreatePass?function ES(s,o,l,d,h,m,y,E,C){const S=o.consts,O=nl(o,s,4,y||null,qr(S,E));_v(o,l,O,qr(S,C)),Jn(o,O);const F=O.tViews=Ih(2,O,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,S,C,o,l,d,h,m,y):S.data[O];Fr(F,!1);const q=C[11].createComment("");nh(S,C,q,F),bi(q,C),vp(C,C[O]=mE(q,C,q,F)),Ko(F)&&Rg(S,C,F),null!=y&&hE(C,F,E)}function Wg(s){return Hs(function vf(){return Je.lFrame.contextLView}(),22+s)}function RE(s,o,l){const d=Ee();return $r(d,na(),o)&&Cs(Qt(),rn(),d,s,o,d[11],l,!1),RE}function kE(s,o,l,d,h){const y=h?"class":"style";Dv(s,l,o.inputs[y],y,d)}function Zg(s,o,l,d){const h=Ee(),m=Qt(),y=22+s,E=h[11],C=h[y]=Gf(E,o,function Tf(){return Je.lFrame.currentNamespace}()),S=m.firstCreatePass?function IS(s,o,l,d,h,m,y){const E=o.consts,S=nl(o,s,2,h,qr(E,m));return _v(o,l,S,qr(E,y)),null!==S.attrs&&Bg(S,S.attrs,!1),null!==S.mergedAttrs&&Bg(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,m,h,0,o,l,d):m.data[y];return Fr(S,!0),Qr(E,C,S),32!=(32&S.flags)&&nh(m,h,C,S),0===function Gm(){return Je.lFrame.elementDepthCount}()&&bi(C,h),function Td(){Je.lFrame.elementDepthCount++}(),Ko(S)&&(Rg(m,h,S),dE(m,S,h)),null!==d&&hE(h,S),Zg}function Pv(){let s=$n();Sl()?ea():(s=s.parent,Fr(s,!1));const o=s;!function _f(){Je.lFrame.elementDepthCount--}();const l=Qt();return l.firstCreatePass&&(Jn(l,s),us(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Jc(s){return 0!=(8&s.flags)}(o)&&kE(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function xf(s){return 0!=(16&s.flags)}(o)&&kE(l,o,Ee(),o.stylesWithoutHost,!1),Pv}function NE(s,o,l,d){return Zg(s,o,l,d),Pv(),NE}function Fv(s,o,l){const d=Ee(),h=Qt(),m=s+22,y=h.firstCreatePass?function NR(s,o,l,d,h){const m=o.consts,y=qr(m,d),E=nl(o,s,8,"ng-container",y);return null!==y&&Bg(E,y,!0),_v(o,l,E,qr(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,d,o,l):h.data[m];Fr(y,!0);const E=d[m]=d[11].createComment("");return nh(h,d,E,y),bi(E,d),Ko(y)&&(Rg(h,d,y),dE(h,y,d)),null!=l&&hE(d,y),Fv}function Lv(){let s=$n();const o=Qt();return Sl()?ea():(s=s.parent,Fr(s,!1)),o.firstCreatePass&&(Jn(o,s),us(s)&&o.queries.elementEnd(s)),Lv}function PE(s,o,l){return Fv(s,o,l),Lv(),PE}function TS(){return Ee()}function FE(s){return!!s&&"function"==typeof s.then}function ye(s){return!!s&&"function"==typeof s.subscribe}const rc=ye;function xh(s,o,l,d){const h=Ee(),m=Qt(),y=$n();return function Kg(s,o,l,d,h,m,y){const E=Ko(d),S=s.firstCreatePass&&yE(s),O=o[8],F=Ev(o);let q=!0;if(3&d.type||y){const Pe=gi(d,o),ze=y?y(Pe):Pe,Ye=F.length,ut=y?Et=>y(Rn(Et[d.index])):d.index;let Ae=null;if(!y&&E&&(Ae=function sc(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===l&&h[m+1]===d){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof y&&(m+=2)}return null}(s,o,h,d.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=m,Ae.__ngLastListenerFn__=m,q=!1;else{m=LE(d,o,O,m,!1);const Et=l.listen(ze,h,m);F.push(m,Et),S&&S.push(h,ut,Ye,Ye+1)}}else m=LE(d,o,O,m,!1);const J=d.outputs;let _e;if(q&&null!==J&&(_e=J[h])){const Pe=_e.length;if(Pe)for(let ze=0;ze<Pe;ze+=2){const wn=o[_e[ze]][_e[ze+1]].subscribe(m),gn=F.length;F.push(m,wn),S&&S.push(h,d.index,gn,-(gn+1))}}}(m,h,h[11],y,s,o,d),xh}function Vv(s,o,l,d){try{return!1!==l(d)}catch(h){return Cv(s,h),!1}}function LE(s,o,l,d,h){return function m(y){if(y===Function)return d;wv(s.componentOffset>-1?qi(s.index,o):o);let C=Vv(o,0,d,y),S=m.__ngNextListenerFn__;for(;S;)C=Vv(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function er(s=1){return function Ad(s){return(Je.lFrame.contextLView=function Qc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Je.lFrame.contextLView))[8]}(s)}function SS(s,o){let l=null;const d=function fR(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?Ky(s,m,!0):Yy(d,m))return h}else l=h}return l}function Ap(s){const o=Ee()[16][6];if(!o.projection){const d=o.projection=Xs(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const y=s?SS(m,s):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function Yg(s,o=0,l){const d=Ee(),h=Qt(),m=nl(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),ea(),32!=(32&m.flags)&&function Oy(s,o,l){bs(o[11],0,o,l,Kl(s,l,o),_u(l.parent||o[6],l,o))}(h,d,m)}function Bv(s,o,l){return Uv(s,"",o,"",l),Bv}function Uv(s,o,l,d,h){const m=Ee(),y=Ip(m,o,l,d);return y!==Nt&&Cs(Qt(),rn(),m,s,y,m[11],h,!1),Uv}function Xg(s,o,l,d,h){const m=s[l+1],y=null===o;let E=d?ro(m):fa(m),C=!1;for(;0!==E&&(!1===C||y);){const O=s[E+1];$v(s[E],o)&&(C=!0,s[E+1]=d?Dg(O):vh(O)),E=d?ro(O):fa(O)}C&&(s[l+1]=d?vh(m):Dg(m))}function $v(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&it(s,o)>=0}const Pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $E(s){return s.substring(Pi.key,Pi.keyEnd)}function zE(s,o){const l=Pi.textEnd;return l===o?-1:(o=Pi.keyEnd=function OS(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Pi.key=o,l),Lu(s,o,l))}function Lu(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Jg(s,o,l){return Is(s,o,l,!1),Jg}function kp(s,o){return Is(s,o,null,!0),kp}function WE(s){Uo(Ri,lo,s,!0)}function lo(s,o){for(let l=function MS(s){return function Rp(s){Pi.key=0,Pi.keyEnd=0,Pi.value=0,Pi.valueEnd=0,Pi.textEnd=s.length}(s),zE(s,Lu(s,0,Pi.textEnd))}(o);l>=0;l=zE(o,l))Ri(s,$E(o),!0)}function Is(s,o,l,d){const h=Ee(),m=Qt(),y=hs(2);m.firstUpdatePass&&qv(m,s,y,d),o!==Nt&&$r(h,y,o)&&Qv(m,m.data[zn()],h,h[11],s,h[y+1]=function Ah(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(ws(s)))),s}(o,l),d,y)}function Uo(s,o,l,d){const h=Qt(),m=hs(2);h.firstUpdatePass&&qv(h,null,m,d);const y=Ee();if(l!==Nt&&$r(y,m,l)){const E=h.data[zn()];if(Xv(E,d)&&!e_(h,m)){let C=d?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=me(C,l||"")),kE(h,E,y,l,d)}else!function Yv(s,o,l,d,h,m,y,E){h===Nt&&(h=wt);let C=0,S=0,O=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==O||null!==F;){const q=C<h.length?h[C+1]:void 0,J=S<m.length?m[S+1]:void 0;let Pe,_e=null;O===F?(C+=2,S+=2,q!==J&&(_e=F,Pe=J)):null===F||null!==O&&O<F?(C+=2,_e=O):(S+=2,_e=F,Pe=J),null!==_e&&Qv(s,o,l,d,_e,Pe,y,E),O=C<h.length?h[C]:null,F=S<m.length?m[S]:null}}(h,E,y,y[11],y[m+1],y[m+1]=function Kv(s,o,l){if(null==l||""===l)return wt;const d=[],h=ws(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,m)}}function e_(s,o){return o>=s.expandoStartIndex}function qv(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[zn()],y=e_(s,l);Xv(m,d)&&null===o&&!y&&(o=!1),o=function ZE(s,o,l,d){const h=Ef(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=oc(l=Zv(null,s,o,l,d),o.attrs,d),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=Zv(h,s,o,l,d),null===m){let C=function Wv(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==fa(d))return s[ro(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=Zv(null,s,o,C[1],d),C=oc(C,o.attrs,d),function NS(s,o,l,d){s[ro(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else m=function PS(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=oc(d,s[m].hostAttrs,l);return oc(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function jv(s,o,l,d,h,m){let y=m?o.classBindings:o.styleBindings,E=ro(y),C=fa(y);s[d]=l;let O,S=!1;if(Array.isArray(l)){const F=l;O=F[1],(null===O||it(F,O)>0)&&(S=!0)}else O=l;if(h)if(0!==C){const q=ro(s[E+1]);s[d+1]=dp(q,E),0!==q&&(s[q+1]=Cg(s[q+1],d)),s[E+1]=function rE(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=dp(E,0),0!==E&&(s[E+1]=Cg(s[E+1],d)),E=d;else s[d+1]=dp(C,0),0===E?E=d:s[C+1]=Cg(s[C+1],d),C=d;S&&(s[d+1]=vh(s[d+1])),Xg(s,O,d,!0),Xg(s,O,d,!1),function Qg(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&it(m,o)>=0&&(l[d+1]=Dg(l[d+1]))}(o,O,s,d,m),y=dp(E,C),m?o.classBindings=y:o.styleBindings=y}(h,m,o,l,y,d)}}function Zv(s,o,l,d,h){let m=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(m=o[E],d=oc(d,m.hostAttrs,h),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function oc(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ri(s,y,!!l||o[++m]))}return void 0===s?null:s}function Qv(s,o,l,d,h,m,y,E){if(!(3&o.type))return;const C=s.data,S=C[E+1];Pp(function ov(s){return 1==(1&s)}(S)?KE(C,o,l,h,fa(S),y):void 0)||(Pp(m)||function sv(s){return 2==(2&s)}(S)&&(m=KE(C,null,l,h,E,y)),function Xf(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Yr.DashCase;null==h?s.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Yr.Important),s.setStyle(l,d,h,m))}}(d,y,Pa(zn(),l),h,m))}function KE(s,o,l,d,h,m){const y=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),O=S?C[1]:C,F=null===O;let q=l[h+1];q===Nt&&(q=F?wt:void 0);let J=F?eo(q,d):O===d?q:void 0;if(S&&!Pp(J)&&(J=eo(C,d)),Pp(J)&&(E=J,y))return E;const _e=s[h+1];h=y?ro(_e):fa(_e)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=eo(C,d))}return E}function Pp(s){return void 0!==s}function Xv(s,o){return 0!=(s.flags&(o?8:16))}function YE(s,o=""){const l=Ee(),d=Qt(),h=s+22,m=d.firstCreatePass?nl(d,h,1,o,null):d.data[h],y=l[h]=function zf(s,o){return s.createText(o)}(l[11],o);nh(d,l,y,m),Fr(m,!1)}function Jv(s){return n_("",s,""),Jv}function n_(s,o,l){const d=Ee(),h=Ip(d,s,o,l);return h!==Nt&&ma(d,zn(),h),n_}function eb(s,o,l,d,h){const m=Ee(),y=function Fu(s,o,l,d,h,m){const E=nc(s,js(),l,h);return hs(2),E?o+Ce(l)+d+Ce(h)+m:Nt}(m,s,o,l,d,h);return y!==Nt&&ma(m,zn(),y),eb}function tb(s,o,l,d,h,m,y){const E=Ee(),C=ic(E,s,o,l,d,h,m,y);return C!==Nt&&ma(E,zn(),C),tb}function ib(s,o,l){Uo(Ri,lo,Ip(Ee(),s,o,l),!0)}function ab(s,o,l){const d=Ee();return $r(d,na(),o)&&Cs(Qt(),rn(),d,s,o,d[11],l,!0),ab}function lb(s,o,l){const d=Ee();if($r(d,na(),o)){const m=Qt(),y=rn();Cs(m,y,d,s,o,function cS(s,o,l){return(null===s||Mi(s))&&(l=function Na(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}(Ef(m.data),y,d),l,!0)}return lb}const Mh=void 0;var zS=["en",[["a","p"],["AM","PM"],Mh],[["AM","PM"],Mh,Mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mh,"{1} 'at' {0}",Mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BR(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Lp={};function cC(s){const o=function uC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=cb(o);if(l)return l;const d=o.split("-")[0];if(l=cb(d),l)return l;if("en"===d)return zS;throw new pe(701,!1)}function GS(s){return cC(s)[Tt.PluralCase]}function cb(s){return s in Lp||(Lp[s]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[s]),Lp[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Vu="en-US";let o_=Vu;function m_(s,o,l,d,h){if(s=K(s),Array.isArray(s))for(let m=0;m<s.length;m++)m_(s[m],o,l,d,h);else{const m=Qt(),y=Ee();let E=Ql(s)?s:K(s.provide),C=$y(s);const S=$n(),O=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(Ql(s)||!s.multi){const J=new ps(C,h,Mu),_e=g_(E,o,h?O:O+q,F);-1===_e?(Ws(nu(S,y),m,E),Mb(m,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(J),y.push(J)):(l[_e]=J,y[_e]=J)}else{const J=g_(E,o,O+q,F),_e=g_(E,o,O,O+q),Pe=J>=0&&l[J],ze=_e>=0&&l[_e];if(h&&!ze||!h&&!Pe){Ws(nu(S,y),m,E);const Ye=function kC(s,o,l,d,h){const m=new ps(s,l,Mu);return m.multi=[],m.index=o,m.componentProviders=0,RC(m,h,d&&!l),m}(h?sx:Ob,l.length,h,d,C);!h&&ze&&(l[_e].providerFactory=Ye),Mb(m,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Ye),y.push(Ye)}else Mb(m,s,J>-1?J:_e,RC(l[h?_e:J],C,!h&&d));!h&&d&&ze&&l[_e].componentProviders++}}}function Mb(s,o,l,d){const h=Ql(o),m=function Rw(s){return!!s.useClass}(o);if(h||m){const C=(m?K(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=S.indexOf(l);-1===O?S.push(l,[d,C]):S[O+1].push(d,C)}else S.push(l,C)}}}function RC(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function g_(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function Ob(s,o,l,d){return Gp(this.multi,[])}function sx(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=oa(l,l[1],this.providerFactory.index,d);m=E.slice(0,y),Gp(h,m);for(let C=y;C<E.length;C++)m.push(E[C])}else m=[],Gp(h,m);return m}function Gp(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function NC(s,o=[]){return l=>{l.providersResolver=(d,h)=>function rx(s,o,l){const d=Qt();if(d.firstCreatePass){const h=Mi(s);m_(l,d.data,d.blueprint,h,!0),m_(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class al{}class __{}function Rb(s,o){return new PC(s,o??null)}class PC extends al{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ug(this);const d=fi(o);this._bootstrapComponents=el(d.bootstrap),this._r3Injector=NT(o,l,[{provide:al,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Bu extends __{constructor(o){super(),this.moduleType=o}create(o){return new PC(this.moduleType,o)}}class FC extends al{constructor(o,l,d){super(),this.componentFactoryResolver=new Ug(this),this.instance=null;const h=new Nw([...o,{provide:al,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],l||ap(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function y_(s,o,l=null){return new FC(s,o,l).injector}let LC=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=gg(0,l.type),h=d.length>0?y_([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=vt({token:s,providedIn:"environment",factory:()=>new s(je(Iu))}),s})();function qp(s){s.getStandaloneInjector=o=>o.get(LC).getOrCreateStandaloneInjector(s)}function w_(s,o,l,d,h,m){const y=o+l;return $r(s,y,h)?function il(s,o,l){return s[o]=l}(s,y+1,m?d.call(m,h):d(h)):function dc(s,o){const l=s[o];return l===Nt?void 0:l}(s,y+1)}function Fh(s,o){const l=Qt();let d;const h=s+22;l.firstCreatePass?(d=function ZC(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=vr(d.type)),y=Cn(Mu);try{const E=qs(!1),C=m();return qs(E),function DS(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ee(),h,C),C}finally{Cn(y)}}function Lh(s,o,l){const d=s+22,h=Ee(),m=Hs(h,d);return function Vh(s,o){return s[1].data[o].pure}(h,d)?w_(h,function si(){const s=Je.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,m.transform,l,m):m.transform(l)}function Gb(s){return o=>{setTimeout(s,void 0,o)}}const Ir=class KC extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,m=l||(()=>null),y=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),m=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(m=Gb(m),h&&(h=Gb(h)),y&&(y=Gb(y)));const E=super.subscribe({next:h,error:m,complete:y});return o instanceof ee.w0&&o.add(E),E}};function ll(){return this._results[tc()]()}class $u{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=tc(),d=$u.prototype;d[l]||(d[l]=ll)}get changes(){return this._changes||(this._changes=new Ir)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=qe(o);(this._changesDetected=!function Ga(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hc=(()=>{class s{}return s.__NG_ELEMENT_ID__=E_,s})();const YC=hc,Un=class extends YC{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=Mg(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Dh(d,h,o),new ku(h)}};function E_(){return fc($n(),Ee())}function fc(s,o){return 4&s.type?new Un(o,s,Tu(s,o)):null}let pc=(()=>{class s{}return s.__NG_ELEMENT_ID__=hx,s})();function hx(){return eD($n(),Ee())}const QC=pc,XC=class extends QC{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const o=ja(this._hostTNode,this._hostLView);if(Ha(o)){const l=Gs(o,this._hostLView),d=zs(o);return new $a(l[1].data[d+8],l)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=JC(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const y=o.createEmbeddedView(l||{},m);return this.insert(y,h),y}createComponent(o,l,d,h,m){const y=o&&!function cu(s){return"function"==typeof s}(o);let E;if(y)E=l;else{const F=l||{};E=F.index,d=F.injector,h=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const C=y?o:new Nu(Jt(o)),S=d||this.parentInjector;if(!m&&null==C.ngModule){const q=(y?S:this.parentInjector).get(Iu,null);q&&(m=q)}const O=C.create(S,h,void 0,m);return this.insert(O.hostView,E),O}insert(o,l){const d=o._lView,h=d[1];if(function Il(s){return cr(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=d[3],q=new XC(F,F[6],F[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(l),y=this._lContainer;!function ag(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],ei(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function lg(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,y,m);const E=rh(m,y),C=d[11],S=da(C,y[7]);return null!==S&&function Oo(s,o,l,d,h,m){d[0]=h,d[6]=o,Ya(s,d,l,1,h,m)}(h,y[6],C,d,S,E),o.attachToViewContainerRef(),ei(qb(y),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=JC(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Wf(this._lContainer,l);d&&(gs(qb(this._lContainer),l),Zf(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Wf(this._lContainer,l);return d&&null!=gs(qb(this._lContainer),l)?new ku(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function JC(s){return s[8]}function qb(s){return s[8]||(s[8]=[])}function eD(s,o){let l;const d=o[s.index];if(cr(d))l=d;else{let h;if(8&s.type)h=Rn(d);else{const m=o[11];h=m.createComment("");const y=gi(s,o);Ro(m,da(m,y),h,function ko(s,o){return s.nextSibling(o)}(m,y),!1)}o[s.index]=l=mE(d,o,h,s),vp(o,l)}return new XC(l,s,o)}class C_{constructor(o){this.queryList=o,this.matches=null}clone(){return new C_(this.queryList)}setDirty(){this.queryList.setDirty()}}class D_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const y=l.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new D_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==em(o,l).matches&&this.queries[l].setDirty()}}class zu{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Wb{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Wb(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zb{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Zb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,tD(l,m)),this.matchTNodeWithReadOption(o,l,Ll(l,o,m,!1,!1))}else d===hc?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ll(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===lp||h===pc||h===hc&&4&l.type)this.addMatch(l.index,-2);else{const m=Ll(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function tD(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function nD(s,o,l,d){return-1===l?function px(s,o){return 11&s.type?Tu(s,o):4&s.type?fc(s,o):null}(o,s):-2===l?function iD(s,o,l){return l===lp?Tu(o,s):l===hc?fc(o,s):l===pc?eD(o,s):void 0}(s,o,d):oa(s,s[1],l,o)}function I_(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,y=l.matches,E=[];for(let C=0;C<y.length;C+=2){const S=y[C];E.push(S<0?null:nD(o,m[S],y[C+1],l.metadata.read))}h.matches=E}return h.matches}function Qp(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const y=I_(s,o,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(y[E/2]);else{const S=m[E+1],O=o[-C];for(let F=10;F<O.length;F++){const q=O[F];q[17]===q[3]&&Qp(q[1],q,S,d)}if(null!==O[9]){const F=O[9];for(let q=0;q<F.length;q++){const J=F[q];Qp(J[1],J,S,d)}}}}}return d}function Kb(s){const o=Ee(),l=Qt(),d=xl();Cf(d+1);const h=em(l,d);if(s.dirty&&function $c(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Qp(l,o,d,[]):I_(l,o,h,d);s.reset(m,yT),s.notifyOnChanges()}return!0}return!1}function Yb(s,o,l){const d=Qt();d.firstCreatePass&&(Xp(d,new zu(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),sD(d,Ee(),o)}function T_(s,o,l,d){const h=Qt();if(h.firstCreatePass){const m=$n();Xp(h,new zu(o,l,d),m.index),function Jp(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}sD(h,Ee(),l)}function rD(){return function mx(s,o){return s[19].queries[o].queryList}(Ee(),xl())}function sD(s,o,l){const d=new $u(4==(4&l));_p(s,o,d,d.destroy),null===o[19]&&(o[19]=new D_),o[19].queries.push(new C_(d))}function Xp(s,o,l){null===s.queries&&(s.queries=new Wb),s.queries.track(new Zb(o,l))}function em(s,o){return s.queries.getByIndex(o)}function S_(s,o){return fc(s,o)}function Re(...s){}const _c=new yn("Application Initializer");let Uh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Re,this.reject=Re,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(FE(m))l.push(m);else if(rc(m)){const y=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(je(_c,8))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rt=new yn("AppId",{providedIn:"root",factory:function At(){return`${We()}${We()}${We()}`}});function We(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const de=new yn("Platform Initializer"),Oe=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ci=new yn("appBootstrapListener"),Dx=new yn("AnimationModuleType");let Ix=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const F_=new yn("LocaleId",{providedIn:"root",factory:()=>Xe(F_,gt.Optional|gt.SkipSelf)||function Tx(){return typeof $localize<"u"&&$localize.locale||Vu}()}),Sx=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ax{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let ED=(()=>{class s{compileModuleSync(l){return new Bu(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=el(fi(l).declarations).reduce((y,E)=>{const C=Jt(E);return C&&y.push(new Nu(C)),y},[]);return new Ax(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Mx=(()=>Promise.resolve(0))();function Hn(s){typeof Zone>"u"?Mx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ir(!1),this.onMicrotaskEmpty=new Ir(!1),this.onStable=new Ir(!1),this.onError=new Ir(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ze(){let s=kt.requestAnimationFrame,o=kt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ox(s){const o=()=>{!function V_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ku(s),s.isCheckStableRunning=!0,l0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ku(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,y,E)=>{try{return c0(s),l.invokeTask(h,m,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),u0(s)}},onInvoke:(l,d,h,m,y,E,C)=>{try{return c0(s),l.invoke(h,m,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),u0(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Ku(s),l0(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!es.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(es.isInAngularZone())throw new pe(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,Zu,Re,Re);try{return m.runTask(y,l,d)}finally{m.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Zu={};function l0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ku(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function c0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function u0(s){s._nesting--,l0(s)}class Ss{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ir,this.onMicrotaskEmpty=new Ir,this.onStable=new Ir,this.onError=new Ir}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const B_=new yn(""),d0=new yn("");let oe,DD=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oe||(function h0(s){oe=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{es.assertNotInAngularZone(),Hn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hn(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(je(es),je(ul),je(d0))},s.\u0275prov=vt({token:s,factory:s.\u0275fac}),s})(),ul=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return oe?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ho=null;const co=new yn("AllowMultipleToken"),f0=new yn("PlatformDestroyListeners");class ID{constructor(o,l){this.name=o,this.token=l}}function m0(s,o,l=[]){const d=`Platform: ${o}`,h=new yn(d);return(m=[])=>{let y=Hh();if(!y||y.injector.get(co,!1)){const E=[...l,...m,{provide:h,useValue:!0}];s?s(E):function p0(s){if(Ho&&!Ho.get(co,!1))throw new pe(400,!1);Ho=s;const o=s.get(nr);(function TD(s){const o=s.get(de,null);o&&o.forEach(l=>l())})(s)}(function g0(s=[],o){return Fo.create({name:o,providers:[{provide:ph,useValue:"platform"},{provide:f0,useValue:new Set([()=>Ho=null])},...s]})}(E,d))}return function Qu(s){const o=Hh();if(!o)throw new pe(401,!1);return o}()}}function Hh(){return Ho?.get(nr)??null}let nr=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function _0(s,o){let l;return l="noop"===s?new Ss:("zone.js"===s?void 0:s)||new es(o),l}(d?.ngZone,function bn(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:es,useValue:h}];return h.run(()=>{const y=Fo.create({providers:m,parent:this.injector,name:l.moduleType.name}),E=l.create(y),C=E.injector.get(cp,null);if(!C)throw new pe(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{C.handleError(O)}});E.onDestroy(()=>{ni(this._modules,E),S.unsubscribe()})}),function Xu(s,o,l){try{const d=l();return FE(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const S=E.injector.get(Uh);return S.runInitializers(),S.donePromise.then(()=>(function a_(s){Ht(s,"Expected localeId to be defined"),"string"==typeof s&&(o_=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(F_,Vu)||Vu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=ts({},d);return function yc(s,o,l){const d=new Bu(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(U_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new pe(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(f0,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(je(Fo))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ts(s,o){return Array.isArray(o)?o.reduce(ts,s):{...s,...o}}let U_=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new k.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new k.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{es.assertNotInAngularZone(),Hn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(m,y.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Pw;if(!this._injector.get(Uh).done)throw!h&&jn(l),new pe(405,false);let y;y=h?l:this._injector.get(_g).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const E=function Yu(s){return s.isBoundToModule}(y)?void 0:this._injector.get(al),S=y.create(Fo.NULL,[],d||y.selector,E),O=S.location.nativeElement,F=S.injector.get(B_,null);return F?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),ni(this.components,S),F?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;ni(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Ci,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>ni(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(je(es),je(Iu),je(cp))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ni(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function ii(){return!1}let Nx=(()=>{class s{}return s.__NG_ELEMENT_ID__=bc,s})();function bc(s){return function cm(s,o,l){if(Fc(s)&&!l){const d=qi(s.index,o);return new ku(d,d)}return 47&s.type?new ku(o[16],o):null}($n(),Ee(),16==(16&s))}class v0{constructor(){}supports(o){return Sh(o)}create(o){return new OD(o)}}const mr=(s,o)=>o;class OD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mr}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const y=!d||l&&l.currentIndex<Ic(d,h,m)?l:d,E=Ic(y,h,m),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{m||(m=[]);const S=E-h,O=C-h;if(S!=O){for(let q=0;q<S;q++){const J=q<m.length?m[q]:m[q]=0,_e=J+q;O<=_e&&_e<S&&(m[q]=J+1)}m[y.previousIndex]=O-S}}E!==C&&o(y,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Sh(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],y=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,m,y,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,E),d=!0),l=l._next}else h=0,function SE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[tc()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new An(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new b0),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class An{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class b0{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new Vx,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ic(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class RD{constructor(){}supports(o){return o instanceof Map||Ov(o)}create(){return new dm}}class dm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Ov(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new $_(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class $_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hm(){return new z_([new v0])}let z_=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||hm()),deps:[[s,new mn,new St]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new pe(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:hm}),s})();function ir(){return new w0([new RD])}let w0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||ir()),deps:[[s,new mn,new St]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new pe(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:ir}),s})();const $x=m0(null,"core",[]);let zx=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(je(U_))},s.\u0275mod=Tn({type:s}),s.\u0275inj=gr({}),s})();function Gx(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ct,we,N)=>{N.d(we,{Z:()=>Ke});var c=N(2090),ee=N(4859),k=N(9681),ae=N(1877);class le{constructor(pe,xe){this._delegate=pe,this.firebase=xe,(0,k._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(pe,xe=k._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(pe);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ce=Le.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:xe})}_removeServiceInstance(pe,xe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(xe)}_addComponent(pe){(0,k._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,k._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const tt=function fe(tt){const pe={},xe={__esModule:!0,initializeApp:function Te(ke,H={}){const ve=k.initializeApp(ke,H);if((0,c.r3)(pe,ve.name))return pe[ve.name];const W=new tt(ve,xe);return pe[ve.name]=W,W},app:Le,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Me(ke){const H=ke.name,ve=H.replace("-compat","");if(k._registerComponent(ke)&&"PUBLIC"===ke.type){const W=(X=Le())=>{if("function"!=typeof X[ve])throw te.create("invalid-app-argument",{appName:H});return X[ve]()};void 0!==ke.serviceProps&&(0,c.ZB)(W,ke.serviceProps),xe[ve]=W,tt.prototype[ve]=function(...X){return this._getService.bind(this,H).apply(this,ke.multipleInstances?X:[])}}return"PUBLIC"===ke.type?xe[ve]:null},removeApp:function Ce(ke){delete pe[ke]},useAsService:function He(ke,H){return"serverAuth"===H?null:H},modularAPIs:k}};function Le(ke){if(!(0,c.r3)(pe,ke=ke||k._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:ke});return pe[ke]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function be(){return Object.keys(pe).map(ke=>pe[ke])}}),Le.App=tt,xe}(le);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function pe(xe){(0,c.ZB)(tt,xe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),$=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=j;!function Ie(tt){(0,k.registerVersion)("@firebase/app-compat","0.1.39",tt)}()},9681:(ct,we,N)=>{N.r(we),N.d(we,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>qo,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>en,_addOrOverwriteComponent:()=>Di,_apps:()=>Ht,_clearComponents:()=>gr,_components:()=>mt,_getProvider:()=>vt,_registerComponent:()=>Vi,_removeServiceInstance:()=>En,deleteApp:()=>mo,getApp:()=>Or,getApps:()=>Hi,initializeApp:()=>Ns,onLog:()=>gt,registerVersion:()=>lr,setLogLevel:()=>ss});var c=N(5861),ee=N(4859),k=N(1877),ae=N(2090),le=N(8766);class he{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function te(je){return"VERSION"===je.getComponent()?.type}(Xe)){const Ct=Xe.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",j=new k.Yd("@firebase/app"),pn="[DEFAULT]",Bt={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,mt=new Map;function en(je,De){try{je.container.addComponent(De)}catch(Xe){j.debug(`Component ${De.name} failed to register with FirebaseApp ${je.name}`,Xe)}}function Di(je,De){je.container.addOrOverwriteComponent(De)}function Vi(je){const De=je.name;if(mt.has(De))return j.debug(`There were multiple attempts to register component ${De}.`),!1;mt.set(De,je);for(const Xe of Ht.values())en(Xe,je);return!0}function vt(je,De){const Xe=je.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),je.container.getProvider(De)}function En(je,De,Xe=pn){vt(je,De).clearInstance(Xe)}function gr(){mt.clear()}const Bi=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ui{constructor(De,Xe,Ct){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}const qo="9.14.0";function Ns(je,De={}){let Xe=je;"object"!=typeof De&&(De={name:De});const Ct=Object.assign({name:pn,automaticDataCollectionEnabled:!1},De),Dt=Ct.name;if("string"!=typeof Dt||!Dt)throw Bi.create("bad-app-name",{appName:String(Dt)});if(Xe||(Xe=(0,ae.aH)()),!Xe)throw Bi.create("no-options");const Ut=Ht.get(Dt);if(Ut){if((0,ae.vZ)(Xe,Ut.options)&&(0,ae.vZ)(Ct,Ut.config))return Ut;throw Bi.create("duplicate-app",{appName:Dt})}const z=new ee.H0(Dt);for(const Z of mt.values())z.addComponent(Z);const B=new Ui(Xe,Ct,z);return Ht.set(Dt,B),B}function Or(je=pn){const De=Ht.get(je);if(!De&&je===pn)return Ns();if(!De)throw Bi.create("no-app",{appName:je});return De}function Hi(){return Array.from(Ht.values())}function mo(je){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(je){const De=je.name;Ht.has(De)&&(Ht.delete(De),yield Promise.all(je.container.getProviders().map(Xe=>Xe.delete())),je.isDeleted=!0)})).apply(this,arguments)}function lr(je,De,Xe){var Ct;let Dt=null!==(Ct=Bt[je])&&void 0!==Ct?Ct:je;Xe&&(Dt+=`-${Xe}`);const Ut=Dt.match(/\s|\//),z=De.match(/\s|\//);if(Ut||z){const B=[`Unable to register library "${Dt}" with version "${De}":`];return Ut&&B.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Ut&&z&&B.push("and"),z&&B.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void j.warn(B.join(" "))}Vi(new ee.wA(`${Dt}-version`,()=>({library:Dt,version:De}),"VERSION"))}function gt(je,De){if(null!==je&&"function"!=typeof je)throw Bi.create("invalid-log-argument");(0,k.Am)(je,De)}function ss(je){(0,k.Ub)(je)}const ji="firebase-heartbeat-store";let Ps=null;function kt(){return Ps||(Ps=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(je,De)=>{0===De&&je.createObjectStore(ji)}}).catch(je=>{throw Bi.create("idb-open",{originalErrorMessage:je.message})})),Ps}function It(){return(It=(0,c.Z)(function*(je){var De;try{return(yield kt()).transaction(ji).objectStore(ji).get(Dn(je))}catch(Xe){if(Xe instanceof ae.ZR)j.warn(Xe.message);else{const Ct=Bi.create("idb-get",{originalErrorMessage:null===(De=Xe)||void 0===De?void 0:De.message});j.warn(Ct.message)}}})).apply(this,arguments)}function os(je,De){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(je,De){var Xe;try{const Dt=(yield kt()).transaction(ji,"readwrite");return yield Dt.objectStore(ji).put(De,Dn(je)),Dt.done}catch(Ct){if(Ct instanceof ae.ZR)j.warn(Ct.message);else{const Dt=Bi.create("idb-set",{originalErrorMessage:null===(Xe=Ct)||void 0===Xe?void 0:Xe.message});j.warn(Dt.message)}}})).apply(this,arguments)}function Dn(je){return`${je.name}!${je.options.appId}`}class Da{constructor(De){this.container=De,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Xt(Xe),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var De=this;return(0,c.Z)(function*(){const Ct=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=cn();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!De._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Dt))return De._heartbeatsCache.heartbeats.push({date:Dt,agent:Ct}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(Ut=>{const z=new Date(Ut.date).valueOf();return Date.now()-z<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,c.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const Xe=cn(),{heartbeatsToSend:Ct,unsentEntries:Dt}=function as(je,De=1024){const Xe=[];let Ct=je.slice();for(const Dt of je){const Ut=Xe.find(z=>z.agent===Dt.agent);if(Ut){if(Ut.dates.push(Dt.date),Ti(Xe)>De){Ut.dates.pop();break}}else if(Xe.push({agent:Dt.agent,dates:[Dt.date]}),Ti(Xe)>De){Xe.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Ct}}(De._heartbeatsCache.heartbeats),Ut=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ct}));return De._heartbeatsCache.lastSentHeartbeatDate=Xe,Dt.length>0?(De._heartbeatsCache.heartbeats=Dt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),Ut})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,c.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function bt(je){return It.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var Xe=this;return(0,c.Z)(function*(){var Ct;if(yield Xe._canUseIndexedDBPromise){const Ut=yield Xe.read();return os(Xe.app,{lastSentHeartbeatDate:null!==(Ct=De.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ut.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var Xe=this;return(0,c.Z)(function*(){var Ct;if(yield Xe._canUseIndexedDBPromise){const Ut=yield Xe.read();return os(Xe.app,{lastSentHeartbeatDate:null!==(Ct=De.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...De.heartbeats]})}})()}}function Ti(je){return(0,ae.L)(JSON.stringify({version:2,heartbeats:je})).length}!function zr(je){Vi(new ee.wA("platform-logger",De=>new he(De),"PRIVATE")),Vi(new ee.wA("heartbeat",De=>new Da(De),"PRIVATE")),lr(fe,"0.8.4",je),lr(fe,"0.8.4","esm2017"),lr("fire-js","")}("")},4859:(ct,we,N)=>{N.d(we,{H0:()=>fe,wA:()=>k});var c=N(5861),ee=N(2090);class k{constructor(j,$,K){this.name=j,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class le{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const K=new ee.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const K=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Ue)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function te(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(Ie)}catch{}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Ie,Ke]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&Ke.resolve(Ue);return Ue}onInit(j,$){var K;const Ue=this.normalizeInstanceIdentifier($),Ie=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;Ie.add(j),this.onInitCallbacks.set(Ue,Ie);const Ke=this.instances.get(Ue);return Ke&&j(Ke,Ue),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ae?void 0:me),options:$}),this.instances.set(j,K),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var me;return K||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new le(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,we,N)=>{N.d(we,{Am:()=>me,Ub:()=>fe,Yd:()=>te,in:()=>ee});const c=[];var ee=(()=>{return(j=ee||(ee={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ee;var j})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ae=ee.INFO,le={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},he=(j,$,...K)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),Ie=le[$];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ie](`[${Ue}]  ${j.name}:`,...K)};class te{constructor($){this.name=$,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ee))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?k[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...$),this._logHandler(this,ee.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...$),this._logHandler(this,ee.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...$),this._logHandler(this,ee.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...$),this._logHandler(this,ee.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...$),this._logHandler(this,ee.ERROR,...$)}}function fe(j){c.forEach($=>{$.setLogLevel(j)})}function me(j,$){for(const K of c){let Ue=null;$&&$.level&&(Ue=k[$.level]),K.userLogHandler=null===j?null:(Ie,Ke,...tt)=>{const pe=tt.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Ke>=(Ue??Ie.logLevel)&&j({level:ee[Ke].toLowerCase(),message:pe,args:tt,type:Ie.name})}}}},8766:(ct,we,N)=>{N.d(we,{Lj:()=>Te,X3:()=>Le});var c=N(5861);let k,ae;const te=new WeakMap,fe=new WeakMap,me=new WeakMap,j=new WeakMap,$=new WeakMap;let Ie={get(H,ve,W){if(H instanceof IDBTransaction){if("done"===ve)return fe.get(H);if("objectStoreNames"===ve)return H.objectStoreNames||me.get(H);if("store"===ve)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return xe(H[ve])},set:(H,ve,W)=>(H[ve]=W,!0),has:(H,ve)=>H instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in H};function pe(H){return"function"==typeof H?function tt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ve){return H.apply(Ce(this),ve),xe(te.get(this))}:function(...ve){return xe(H.apply(Ce(this),ve))}:function(ve,...W){const X=H.call(Ce(this),ve,...W);return me.set(X,ve.sort?ve.sort():[ve]),xe(X)}}(H):(H instanceof IDBTransaction&&function Ue(H){if(fe.has(H))return;const ve=new Promise((W,X)=>{const se=()=>{H.removeEventListener("complete",ie),H.removeEventListener("error",Ve),H.removeEventListener("abort",Ve)},ie=()=>{W(),se()},Ve=()=>{X(H.error||new DOMException("AbortError","AbortError")),se()};H.addEventListener("complete",ie),H.addEventListener("error",Ve),H.addEventListener("abort",Ve)});fe.set(H,ve)}(H),((H,ve)=>ve.some(W=>H instanceof W))(H,function le(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Ie):H)}function xe(H){if(H instanceof IDBRequest)return function K(H){const ve=new Promise((W,X)=>{const se=()=>{H.removeEventListener("success",ie),H.removeEventListener("error",Ve)},ie=()=>{W(xe(H.result)),se()},Ve=()=>{X(H.error),se()};H.addEventListener("success",ie),H.addEventListener("error",Ve)});return ve.then(W=>{W instanceof IDBCursor&&te.set(W,H)}).catch(()=>{}),$.set(ve,H),ve}(H);if(j.has(H))return j.get(H);const ve=pe(H);return ve!==H&&(j.set(H,ve),$.set(ve,H)),ve}const Ce=H=>$.get(H);function Le(H,ve,{blocked:W,upgrade:X,blocking:se,terminated:ie}={}){const Ve=indexedDB.open(H,ve),Ne=xe(Ve);return X&&Ve.addEventListener("upgradeneeded",ht=>{X(xe(Ve.result),ht.oldVersion,ht.newVersion,xe(Ve.transaction))}),W&&Ve.addEventListener("blocked",()=>W()),Ne.then(ht=>{ie&&ht.addEventListener("close",()=>ie()),se&&ht.addEventListener("versionchange",()=>se())}).catch(()=>{}),Ne}function Te(H,{blocked:ve}={}){const W=indexedDB.deleteDatabase(H);return ve&&W.addEventListener("blocked",()=>ve()),xe(W).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],He=new Map;function ke(H,ve){if(!(H instanceof IDBDatabase)||ve in H||"string"!=typeof ve)return;if(He.get(ve))return He.get(ve);const W=ve.replace(/FromIndex$/,""),X=ve!==W,se=Me.includes(W);if(!(W in(X?IDBIndex:IDBObjectStore).prototype)||!se&&!be.includes(W))return;const ie=function(){var Ve=(0,c.Z)(function*(Ne,...ht){const nn=this.transaction(Ne,se?"readwrite":"readonly");let pn=nn.store;return X&&(pn=pn.index(ht.shift())),(yield Promise.all([pn[W](...ht),se&&nn.done]))[0]});return function(ht){return Ve.apply(this,arguments)}}();return He.set(ve,ie),ie}!function Ke(H){Ie=H(Ie)}(H=>({...H,get:(ve,W,X)=>ke(ve,W)||H.get(ve,W,X),has:(ve,W)=>!!ke(ve,W)||H.has(ve,W)}))},5861:(ct,we,N)=>{function c(k,ae,le,he,te,fe,me){try{var j=k[fe](me),$=j.value}catch(K){return void le(K)}j.done?ae($):Promise.resolve($).then(he,te)}function ee(k){return function(){var ae=this,le=arguments;return new Promise(function(he,te){var fe=k.apply(ae,le);function me($){c(fe,he,te,me,j,"next",$)}function j($){c(fe,he,te,me,j,"throw",$)}me(void 0)})}}N.d(we,{Z:()=>ee})}},ct=>{ct(ct.s=4297)}]);